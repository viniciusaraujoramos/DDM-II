;
(self.AMP=self.AMP||[]).push({m:0,v:"2502032353000",n:"amp-story-auto-ads",ev:"0.1",l:!0,f:function(t,n){!function(){function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function i(t,i){if(t){if("string"==typeof t)return n(t,i);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,i):void 0}}function r(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=i(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0;return function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e;function a(){return e||(e=Promise.resolve(void 0))}var o=function(){var t=this;this.promise=new Promise((function(n,i){t.resolve=n,t.reject=i}))};function s(t,n){return(s=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&s(t,n)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,n){if(n&&("object"===c(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=h(t);if(n){var e=h(this).constructor;i=Reflect.construct(r,arguments,e)}else i=r.apply(this,arguments);return l(this,i)}}function p(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var v="ini-load";function m(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function d(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?m(Object(i),!0).forEach((function(n){p(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}var b=Array.isArray;function y(t,n){for(var i=0;i<t.length;i++)if(n(t[i],i,t))return i;return-1}var g=Object.prototype,S=g.hasOwnProperty,A=g.toString;function T(t){return"[object Object]"===A.call(t)}function O(t){var n=Object.create(null);return t&&Object.assign(n,t),n}function E(t,n){return S.call(t,n)}function w(t,n,i,r,e,a,o,s,u,h,c){return t}function _(t){return JSON.parse(t)}function x(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(!isFinite(i)||i<0)throw new Error("Invalid depth: "+i);if(t===n)return!0;for(var r=[{a:t,b:n,depth:i}];r.length>0;){var e=r.shift(),a=e.a,o=e.b,s=e.depth;if(s>0){if(c(a)!==c(o))return!1;if(b(a)&&b(o)){if(a.length!==o.length)return!1;for(var u=0;u<a.length;u++)r.push({a:a[u],b:o[u],depth:s-1});continue}if(a&&o&&"object"===c(a)&&"object"===c(o)){var h=Object.keys(a),l=Object.keys(o);if(h.length!==l.length)return!1;for(var f=0,p=h;f<p.length;f++){var v=p[f];r.push({a:a[v],b:o[v],depth:s-1})}continue}}if(a!==o)return!1}return!0}var N=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function I(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(t)}catch(t){return n}}function k(t){var n,i=O();if(!t)return i;for(;n=N.exec(t);){var r=I(n[1],n[1]),e=n[2]?I(n[2].replace(/\+/g," "),n[2]):"";i[r]=e}return i}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var R=self.__AMP_LOG;function P(t,n){throw new Error("failed to call initLogConstructor")}function j(t){return R.user||(R.user=D()),function(t,n){return n&&n.ownerDocument.defaultView!=t}(R.user.win,t)?R.userForEmbed||(R.userForEmbed=D()):R.user}function D(t){return P()}function C(){return R.dev||(R.dev=P())}function M(t,n,i,r,e,a,o,s,u,h,c){return t}function L(t,n,i,r,e,a,o,s,u,h,c){return j().assert(t,n,i,r,e,a,o,s,u,h,c)}function U(t){return(t.ownerDocument||t).defaultView}function z(t,n){return K(t=V(t),n)}function B(t,n){return Z(t,n)}function H(t,n){return K(Y(W(t)),n)}function G(t,n){return F(Y(t),n)}function J(t,n){return Z(Y(t),n)}function V(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}function W(t){return t.nodeType?(n=U(t),z(n,"ampdoc")).getAmpDoc(t):t;var n}function Y(t){var n=W(t);return n.isSingleDoc()?n.win:n}function K(t,n){M($(t,n));var i=q(t)[n];return i.obj||(M(i.ctor),M(i.context),i.obj=new i.ctor(i.context),M(i.obj),i.context=null,i.resolve&&i.resolve(i.obj)),i.obj}function X(t,n,i,r,e,a){var o=q(t),s=o[i];s||(s=o[i]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:a||!1}),!e&&s.ctor||(s.ctor=r,s.context=n,s.sharedInstance=a||!1,s.resolve&&K(t,i))}function F(t,n){var i=Z(t,n);if(i)return i;var r,e,a,s,u=q(t);return u[n]=(e=(r=new o).promise,a=r.reject,s=r.resolve,e.catch((function(){})),{obj:null,promise:e,resolve:s,reject:a,context:null,ctor:null}),u[n].promise}function Z(t,n){var i=q(t)[n];return i?i.promise?i.promise:(K(t,n),i.promise=Promise.resolve(i.obj)):null}function q(t){var n=t.__AMP_SERVICES;return n||(n=t.__AMP_SERVICES={}),n}function $(t,n){var i=t.__AMP_SERVICES&&t.__AMP_SERVICES[n];return!(!i||!i.ctor)}var Q="EXPERIMENTS",tt="amp-experiment-toggles",nt="__AMP__EXPERIMENT_TOGGLES";function it(t,n){return!!rt(t)[n]}function rt(t){var n,i,e,a,o;if(t[nt])return t[nt];t[nt]=O();var s=t[nt];w(s);var u=d(d({},null!==(n=t.AMP_CONFIG)&&void 0!==n?n:{}),null!==(i=t.AMP_EXP)&&void 0!==i?i:_((null===(e=t.__AMP_EXP)||void 0===e?void 0:e.textContent)||"{}"));for(var h in u){var c=u[h];"number"==typeof c&&c>=0&&c<=1&&(s[h]=Math.random()<c)}var l=null===(a=t.AMP_CONFIG)||void 0===a?void 0:a["allow-doc-opt-in"];if(b(l)&&l.length){var f=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(f)for(var p,v,m=r((null===(p=f.getAttribute("content"))||void 0===p?void 0:p.split(","))||[],!0);!(v=m()).done;){var y=v.value;l.includes(y)&&(s[y]=!0)}}Object.assign(s,et(t));var g=null===(o=t.AMP_CONFIG)||void 0===o?void 0:o["allow-url-opt-in"];if(b(g)&&g.length)for(var S,A=k(t.location.originalHash||t.location.hash),T=r(g,!0);!(S=T()).done;){var E=S.value,x=A["e-".concat(E)];"1"==x&&(s[E]=!0),"0"==x&&(s[E]=!1)}return s}function et(t){var n,i="";try{var e;"localStorage"in t&&(i=null!==(e=t.localStorage.getItem(tt))&&void 0!==e?e:"")}catch(t){C().warn(Q,"Failed to retrieve experiments from localStorage.")}for(var a,o=(null===(n=i)||void 0===n?void 0:n.split(/\s*,\s*/g))||[],s=O(),u=r(o,!0);!(a=u()).done;){var h=a.value;h&&("-"==h[0]?s[h.substr(1)]=!1:s[h]=!0)}return s}function at(t,n){return t.__AMP_EXPERIMENT_BRANCHES?t.__AMP_EXPERIMENT_BRANCHES[n]:null}var ot="story-ad-placements",st="31060567",ut="31060568",ht="31060817",ct="31060569",lt="story-ad-auto-advance",ft="31067116",pt="31067118",vt="31067119",mt=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function dt(t,n,i,r,e){return e||(n?"�":r?t.slice(0,-1)+"\\"+t.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+t)}function bt(t,n){return w(/^[\w-]+$/.test(n)),t.querySelector(n)}function yt(t,n,i){return function(t,n){for(var i in n)t.setAttribute(i,n[i]);return t}(t.createElement(n),i)}function gt(t){var n;return"SCRIPT"==t.tagName&&"APPLICATION/JSON"==(null===(n=t.getAttribute("type"))||void 0===n?void 0:n.toUpperCase())}function St(t,n,i){var r=t.hasAttribute(n),e=void 0!==i?i:!r;return e!==r&&(e?t.setAttribute(n,""):t.removeAttribute(n)),e}function At(t){if(!t)return null;var n=t.match(/^(.*)\/(.*)-([0-9.]+|latest)(\.max)?\.(?:js|mjs)(?:\?ssr-css=[0|1])?$/i),i=n?n[2]:void 0,r=n?n[3]:void 0;return i&&r?{extensionId:i,extensionVersion:r}:null}var Tt=function(t){return function(t,n,i,r){var e=J(t,n);if(e)return e;var a=W(t);return a.whenExtensionsKnown().then((function(){var t=a.getExtensionVersion(i);return t?z(a.win,"extensions").waitForExtension(i,t):null})).then((function(i){return i?G(t,n):null}))}(t,"amp-analytics-instrumentation","amp-analytics")},Ot=function(t){return z(t,"extensions")},Et=function(t){return H(t,"viewer")},wt=function(){function t(){this.fn=null}var n=t.prototype;return n.add=function(t){var n=this;return this.fn||(this.fn=[]),this.fn.push(t),function(){n.remove(t)}},n.remove=function(t){var n,i,r;this.fn&&(i=t,-1!=(r=(n=this.fn).indexOf(i))&&n.splice(r,1))},n.removeAll=function(){this.fn&&(this.fn.length=0)},n.fire=function(t){if(this.fn)for(var n,i=r(this.fn.slice(),!0);!(n=i()).done;)(0,n.value)(t)},n.getHandlerCount=function(){var t,n;return null!==(t=null===(n=this.fn)||void 0===n?void 0:n.length)&&void 0!==t?t:0},t}(),_t="default",xt=/\w+/gi;function Nt(t,n,i){for(var e,a=r(n,!0);!(e=a()).done;){var o,s=null===(o=t[e.value])||void 0===o?void 0:o[i];if(null!=s)return s.string||s}return null}var It,kt=function(){function t(t){this.ql=t,this.Dk=Et(t).getParam("lang"),this.Lk={},this.Uk=new wt}var n=t.prototype;return n.getLanguageCodesForElement=function(t){var n=function(t,n,i){var r;for(r=t;r&&void 0!==r;r=r.parentElement)if(n(r))return r;return null}(t,(function(t){return t.hasAttribute("lang")})),i=function(t){if(!t)return["en",_t];var n=t.match(xt)||[];return n.reduce((function(t,i,r){var e=n.slice(0,r+1).join("-").toLowerCase();return t.unshift(e),t}),[_t])}((n?n.getAttribute("lang"):null)||"");return this.Dk&&i.unshift(this.Dk),i},n.registerLocalizedStringBundles=function(t){var n=this;Object.keys(t).forEach((function(i){var r=i.toLowerCase();n.Lk[r]||(n.Lk[r]={}),Object.assign(n.Lk[r],t[i])})),this.Uk.fire()},n.getLocalizedString=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ql,i=this.getLanguageCodesForElement(n);return Nt(this.Lk,i,t)},n.getLocalizedStringAsync=function(t){var n=this,i=this.getLanguageCodesForElement(this.ql),r=Nt(this.Lk,i,t);return null!==r?Promise.resolve(r):new Promise((function(r){var e=n.Uk.add((function(){var a=Nt(n.Lk,i,t);a&&(e(),r(a))}))}))},t}(),Rt=JSON.parse('{"39":"الاشتراك الآن","40":"حجز","41":"شراء التذاكر","42":"تنزيل","43":"استكشاف","44":"تنزيل المحتوى الآن","45":"تثبيت الآن","46":"مزيد من المعلومات","47":"استماع","48":"المزيد","49":"فتح التطبيق","50":"إرسال طلب الآن","51":"تشغيل","52":"قراءة","53":"تسوق","54":"عرض","55":"مواعيد العرض","56":"اشتراك","57":"الاشتراك الآن","58":"استخدام التطبيق","59":"عرض","60":"المشاهدة","61":"مشاهدة الحلقة"}'),Pt=JSON.parse('{"39":"Jetzt bewerben","40":"Reservieren","41":"Tickets kaufen","42":"Herunterladen","43":"Erkunden","44":"Jetzt herunterladen","45":"Jetzt installieren","46":"Weitere Informationen","47":"Anhören","48":"Mehr","49":"App öffnen","50":"Jetzt bestellen","51":"Abspielen","52":"Lesen","53":"Einkaufen","54":"Anzeigen","55":"Vorführungszeiten","56":"Anmelden","57":"Jetzt abonnieren","58":"Zur App","59":"Ansehen","60":"Ansehen","61":"Folge ansehen"}'),jt=JSON.parse('{"39":"Apply Now","40":"Book","41":"Buy Tickets","42":"Download","43":"Explore","44":"Get Now","45":"Install Now","46":"Learn More","47":"Listen","48":"More","49":"Open App","50":"Order Now","51":"Play","52":"Read","53":"Shop Now","54":"Show","55":"Performance times","56":"Sign Up","57":"Subscribe Now","58":"Use App","59":"View","60":"Watch","61":"Watch Episode"}'),Dt=JSON.parse('{"39":"Apply Now","40":"Book","41":"Buy Tickets","42":"Download","43":"Explore","44":"Get Now","45":"Install Now","46":"Learn More","47":"Listen","48":"More","49":"Open App","50":"Order Now","51":"Play","52":"Read","53":"Shop Now","54":"Show","55":"Showtimes","56":"Sign Up","57":"Subscribe Now","58":"Use App","59":"View","60":"Watch","61":"Watch Episode"}'),Ct=JSON.parse('{"39":"Enviar solicitud ahora","40":"Reservar","41":"Comprar entradas","42":"Descargar","43":"Explorar","44":"Obtener ahora","45":"Instalar ahora","46":"Más información","47":"Escuchar","48":"Más","49":"Abrir app","50":"Pedir ahora","51":"Reproducir","52":"Leer","53":"Comprar","54":"Mostrar","55":"Horarios","56":"Registrarse","57":"Suscribirse ahora","58":"Usar app","59":"Ver","60":"Mirar","61":"Mirar episodio"}'),Mt=JSON.parse('{"39":"Solicítalo ahora","40":"Reserva","41":"Compra entradas","42":"Descargar","43":"Consultar","44":"Descargar ahora","45":"Instalar ahora","46":"Consulta más información","47":"Escuchar","48":"Más","49":"Abrir la aplicación","50":"Haz el pedido ahora","51":"Reproducir","52":"Leer","53":"Comprar","54":"Mostrar","55":"Consulta los horarios","56":"Regístrate","57":"Suscríbete ahora","58":"Usa la aplicación","59":"Ver","60":"Visualízalo","61":"Ver episodio"}'),Lt=JSON.parse('{"39":"Inscrivez-vous dès maintenant","40":"Réserver","41":"Acheter des billets","42":"Télécharger","43":"Découvrir","44":"Obtenir","45":"Installer","46":"En savoir plus","47":"Écouter","48":"Plus","49":"Ouvrir l\'application","50":"Commander","51":"Lire","52":"Lire","53":"Acheter","54":"Afficher","55":"Horaires des séances","56":"S\'inscrire","57":"S\'abonner","58":"Utiliser l\'application","59":"Afficher","60":"Regarder","61":"Regarder l\'épisode"}'),Ut=JSON.parse('{"39":"अभी आवेदन करें","40":"बुक करें","41":"टिकट खरीदें","42":"डाउनलोड करें","43":"और जानें","44":"अभी पाएं","45":"अभी इंस्टॉल करें","46":"ज़्यादा जानें","47":"सुनें","48":"दूसरी सामग्री","49":"ऐप्लिकेशन खोलें","50":"अभी ऑर्डर करें","51":"चलाएं","52":"पढ़ें","53":"खरीदारी करें","54":"दिखाएं","55":"शो का समय","56":"साइन अप करें","57":"अभी सदस्य बनें","58":"ऐप्लिकेशन इस्तेमाल करें","59":"देखें","60":"देखें","61":"एपिसोड देखें"}'),zt=JSON.parse('{"39":"Daftarkan Sekarang","40":"Reservasi","41":"Beli Tiket","42":"Download","43":"Jelajahi","44":"Dapatkan Sekarang","45":"Instal Sekarang","46":"Pelajari Lebih Lanjut","47":"Dengarkan","48":"Lainnya","49":"Buka Aplikasi","50":"Pesan Sekarang","51":"Putar","52":"Baca","53":"Beli","54":"Tampilkan","55":"Jam Tayang","56":"Daftar","57":"Berlangganan Sekarang","58":"Gunakan Aplikasi","59":"Lihat","60":"Tonton","61":"Tonton Episode"}'),Bt=JSON.parse('{"39":"Richiedi ora","40":"Prenota","41":"Acquista biglietti","42":"Scarica","43":"Esplora","44":"Scarica ora","45":"Installa ora","46":"Ulteriori informazioni","47":"Ascolta","48":"Altro","49":"Apri app","50":"Ordina ora","51":"Riproduci","52":"Leggi","53":"Acquista","54":"Mostra","55":"Orari di programmazione","56":"Registrati","57":"Abbonati ora","58":"Usa app","59":"Visualizza","60":"Guarda","61":"Guarda la puntata"}'),Ht=JSON.parse('{"39":"今すぐお申し込み","40":"予約","41":"チケットを購入","42":"ダウンロード","43":"探す","44":"今すぐ入手","45":"今すぐインストール","46":"詳細","47":"聴く","48":"もっと見る","49":"アプリを開く","50":"今すぐ注文","51":"再生","52":"読む","53":"購入","54":"表示","55":"上映時間","56":"登録","57":"今すぐ登録","58":"アプリを使用","59":"表示","60":"見る","61":"エピソードを見る"}'),Gt=JSON.parse('{"39":"신청하기","40":"예약","41":"티켓 구매","42":"다운로드","43":"탐색","44":"받기","45":"지금 설치","46":"자세히 알아보기","47":"듣기","48":"더보기","49":"앱 열기","50":"지금 주문","51":"재생","52":"읽기","53":"쇼핑하기","54":"표시","55":"상영일정","56":"가입","57":"지금 구독","58":"앱 사용","59":"보기","60":"보기","61":"에피소드 보기"}'),Jt=JSON.parse('{"39":"Nu toepassen","40":"Boeken","41":"Kaartjes kopen","42":"Downloaden","43":"Verkennen","44":"Nu ophalen","45":"Nu installeren","46":"Meer informatie","47":"Luisteren","48":"Meer","49":"App openen","50":"Nu bestellen","51":"Afspelen","52":"Lezen","53":"Winkelen","54":"Weergeven","55":"Aanvangstijden","56":"Aanmelden","57":"Nu abonneren","58":"App gebruiken","59":"Bekijken","60":"Bekijken","61":"Aflevering bekijken"}'),Vt=JSON.parse('{"39":"Søk nå","40":"Bestill","41":"Kjøp billetter","42":"Last ned","43":"Utforsk","44":"Skaff deg nå","45":"Installer nå","46":"Finn ut mer","47":"Lytt","48":"Mer","49":"Åpne appen","50":"Bestill nå","51":"Spill av","52":"Les","53":"Kjøp","54":"Vis","55":"Kinotider","56":"Registrer deg","57":"Abonner nå","58":"Bruk app","59":"Se","60":"Se","61":"Se episoden"}'),Wt=JSON.parse('{"39":"Inscreva-se agora","40":"Agendar","41":"Comprar ingressos","42":"Download","43":"Descobrir","44":"Adquirir agora","45":"Instalar agora","46":"Saiba mais","47":"Ouvir","48":"Mais","49":"Abrir app","50":"Comprar agora","51":"Reproduzir","52":"Ler","53":"Comprar","54":"Mostrar","55":"Horários de exibição","56":"Inscreva-se","57":"Assinar","58":"Usar app","59":"Ver","60":"Assistir","61":"Assistir episódio"}'),Yt=JSON.parse('{"39":"Candidate-se agora","40":"Reservar","41":"Comprar bilhetes","42":"Transferir","43":"Explorar","44":"Obter agora","45":"Instalar agora","46":"Saiba mais","47":"Ouvir","48":"Mais","49":"Abrir aplicação","50":"Encomendar agora","51":"Reproduzir","52":"Ler","53":"Comprar","54":"Mostrar","55":"Sessões","56":"Inscrever-se","57":"Subscrever agora","58":"Utilizar aplicação","59":"Ver","60":"Ver","61":"Ver episódio"}'),Kt=JSON.parse('{"39":"Подать заявку","40":"Забронировать","41":"Купить билеты","42":"Скачать","43":"Изучить","44":"Скачать","45":"Установить","46":"Подробнее","47":"Слушать","48":"Ещё","49":"Открыть приложение","50":"Заказать","51":"Воспроизвести","52":"Читать","53":"Купить","54":"Показать","55":"Время сеансов","56":"Зарегистрироваться","57":"Подписаться","58":"Использовать приложение","59":"Смотреть","60":"Смотреть","61":"Смотреть серию"}'),Xt=JSON.parse('{"39":"Hemen Başvur","40":"Kitap","41":"Bilet Satın Al","42":"İndir","43":"Keşfet","44":"Hemen Al","45":"Şimdi Yükle","46":"Daha Fazla Bilgi","47":"Dinle","48":"Diğer","49":"Uygulamayı Aç","50":"Şimdi Sipariş Et","51":"Oynat","52":"Oku","53":"Satın al","54":"Göster","55":"Gösterim zamanları","56":"Kaydol","57":"Şimdi Abone Ol","58":"Uygulama Kullan","59":"Göster","60":"İzle","61":"Bölümü İzle"}'),Ft=JSON.parse('{"39":"Đăng ký ngay bây giờ","40":"Sách","41":"Mua Vé","42":"Tải xuống","43":"Khám phá","44":"Nhận ngay","45":"Cài đặt ngay","46":"Tìm hiểu thêm","47":"Nghe","48":"Thêm","49":"Mở ứng dụng","50":"Đặt hàng ngay bây giờ","51":"Phát","52":"Đọc","53":"Mua sắm","54":"Hiển thị","55":"Thời gian chiếu","56":"Đăng ký","57":"Đăng ký ngay","58":"Sử dụng ứng dụng","59":"Xem","60":"Xem","61":"Xem tập"}'),Zt=JSON.parse('{"39":"立即申请","40":"预订","41":"买票","42":"下载","43":"探索","44":"立即获取","45":"立即安装","46":"了解详情","47":"收听","48":"更多","49":"打开应用","50":"立即订购","51":"播放","52":"阅读","53":"选购","54":"显示","55":"放映时间","56":"注册","57":"立即订阅","58":"使用应用","59":"查看","60":"观看","61":"观看剧集"}'),qt=JSON.parse('{"39":"立即申請","40":"預訂","41":"買票","42":"下載","43":"探索","44":"立即取得","45":"立即安裝","46":"瞭解詳情","47":"聆聽","48":"顯示更多","49":"開啟應用程式","50":"立刻訂購","51":"播放","52":"閱讀","53":"購物","54":"顯示","55":"放映時間","56":"註冊","57":"立即訂閱","58":"使用應用程式","59":"查看","60":"觀看","61":"觀看劇集"}'),$t={APPLY_NOW:"39",BOOK_NOW:"40",BUY_TICKETS:"41",DOWNLOAD:"42",EXPLORE:"43",GET_NOW:"44",INSTALL:"45",LEARN_MORE:"46",LISTEN:"47",MORE:"48",OPEN_APP:"49",ORDER_NOW:"50",PLAY:"51",READ:"52",SHOP:"53",SHOW:"54",SHOWTIMES:"55",SIGN_UP:"56",SUBSCRIBE:"57",USE_APP:"58",VIEW:"59",WATCH:"60",WATCH_EPISODE:"61"},Qt=function(){function t(t){this.Vrt=t,this.L3=null}var n=t.prototype;return n.getLocalizedString=function(t){return this.L3||this.We(),this.L3.getLocalizedString(t)},n.We=function(){var t,n,i,r;this.L3=(t=this.Vrt,(r=function(t){return n="localization",$(i=Y(W(t)),n)?K(i,n):null;var n,i}(t))||(r=new kt(t),"localization",n=function(){return r},X(Y(i=W(t)),i,"localization",n)),r);var e,a,o,s=(a=function(t){return"[".concat(t," one two]")},o=function(t){return _(JSON.stringify(t))}(e=Dt),Object.keys(o).forEach((function(t){var n=t,i=e[n];o[n]=a(i.string||i)})),o);this.L3.registerLocalizedStringBundles({"default":Dt,"ar":Rt,"de":Pt,"en":Dt,"en-GB":jt,"es":Mt,"es-419":Ct,"fr":Lt,"hi":Ut,"id":zt,"it":Bt,"ja":Ht,"ko":Gt,"nl":Jt,"no":Vt,"pt-PT":Yt,"pt-BR":Wt,"ru":Kt,"tr":Xt,"vi":Ft,"zh-cn":Zt,"zh-TW":qt,"en-xa":s})},t}(),tn="story-ad-analytics",nn="adIndex",rn=function(){function t(t){this.t=t.win,this.Yrt={}}var n=t.prototype;return n.fireEvent=function(t,n,i,r){this.Xrt(n),Object.assign(this.Yrt[n],r),function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Tt(t).then((function(e){e&&e.triggerEventForTarget(t,n,i,r)}))}(t,i,this.Yrt[n])},n.setVar=function(t,n,i){this.Xrt(t),this.Yrt[t][n]=i},n.Xrt=function(t){var n,i,r;this.Yrt[t]||(this.Yrt[t]=(p(n={},nn,t),p(n,"adUniqueId",(r=function(t,n){var i=t.crypto;if(!(i=i||t.msCrypto)||!i.getRandomValues)return null;var r=new Uint8Array(16);return i.getRandomValues(r),r}(i=this.t))?r.join(""):String(i.location.href+Date.now()+i.Math.random()+i.screen.width+i.screen.height)),n))},t}(),en=["Webkit","webkit","Moz","moz","ms","O","o"];function an(t,n,i,r,e){var a=function(t,n,i){if(n.startsWith("--"))return n;It||(It=O());var r=It[n];if(!r||i){if(r=n,void 0===t[n]){var e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n),a=function(t,n){for(var i=0;i<en.length;i++){var r=en[i]+n;if(void 0!==t[r])return r}return""}(t,e);void 0!==t[a]&&(r=a)}i||(It[n]=r)}return r}(t.style,n,e);if(a){var o,s=r?i+r:i;t.style.setProperty((o=a.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})),en.some((function(t){return o.startsWith(t+"-")}))?"-".concat(o):o),s)}}function on(t){return"".concat(t,"px")}var sn,un,hn=function(){function t(t){var n=this;this.ju=H(t,"mutator"),this.Yl=t.win.document,this.Qd=this.Yl.createElement("div"),this.ju.mutateElement(this.Qd,(function(){n.Yl.body.appendChild(n.Qd),function(t,n){for(var i in n)an(t,i,n[i])}(n.Qd,{position:"absolute",top:0,left:0,zIndex:1,visibility:"hidden","font-weight":"bold","letter-spacing":"0.2px"})}))}var n=t.prototype;return n.fit=function(t,n,i){var r=this,e=!1;return this.ju.mutateElement(n,(function(){r.Qd.textContent=i;var a=function(t,n,i,r,e){for(var a=14;a>=12;a--){an(t,"fontSize",on(a));var o=t.offsetHeight,s=t.offsetWidth;if(o<32&&s<i)return a}return 11}(r.Qd,0,r.Zd(t));a>=12&&(r.Nm(n,a),e=!0)})).then((function(){return e}))},n.Zd=function(t){return t.offsetWidth-84},n.Nm=function(t,n){an(t,"fontSize",on(n))},t}();function cn(t){if(void 0!==un)return un;un=!1;try{var n={get passive(){return un=!0,!1}};t.addEventListener("test-options",null,n),t.removeEventListener("test-options",null,n)}catch(t){}return un}function ln(t,n,i,r){var e={detail:i};if(Object.assign(e,r),"function"==typeof t.CustomEvent)return new t.CustomEvent(n,e);var a=t.document.createEvent("CustomEvent");return a.initCustomEvent(n,!!e.bubbles,!!e.cancelable,i),a}var fn,pn,vn=function(){function t(t){this.Lt=t,this.Ht=0,this.Ft=0,this.Gt=O()}var n=t.prototype;return n.has=function(t){return!!this.Gt[t]},n.get=function(t){var n=this.Gt[t];if(n)return n.access=++this.Ft,n.payload},n.put=function(t,n){this.has(t)||this.Ht++,this.Gt[t]={payload:n,access:this.Ft},this.zt()},n.zt=function(){if(!(this.Ht<=this.Lt)){var t,n=this.Gt,i=this.Ft+1;for(var r in n){var e=n[r].access;e<i&&(i=e,t=r)}void 0!==t&&(delete n[t],this.Ht--)}},t}();function mn(t){return"https:"==(t=function(t){return"string"==typeof t?function(t,n){return fn||(fn=self.document.createElement("a"),pn=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new vn(100))),function(t,n,i){if(i&&i.has(n))return i.get(n);t.href=n,t.protocol||(t.href=t.href);var r,e={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname),("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)&&(e.port="",e.host=e.hostname),r=t.origin&&"null"!=t.origin?t.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href,e.origin=r;var a=e;return i&&i.put(n,a),a}(fn,t,pn)}(t):t}(t)).protocol||"localhost"==t.hostname||"127.0.0.1"==t.hostname||(i=".localhost",(r=(n=t.hostname).length-i.length)>=0&&n.indexOf(i,r)==r);var n,i,r}function dn(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"source";return L(null!=t,"%s %s must be available",n,i),L(mn(t)||/^\/\//.test(t),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',n,i,t),t}var bn,yn,gn,Sn="amp-story",An=function(t){var n=function(t){return function(t,n){return $(t=V(t),n)?K(t,n):null}(t,"story-store")}(t);return n||(n=new En(t),function(t,i,r,e){X(t=V(t),t,"story-store",(function(){return n}))}(t)),n},Tn={CAN_INSERT_AUTOMATIC_AD:1,CAN_SHOW_AUDIO_UI:2,CAN_SHOW_NAVIGATION_OVERLAY_HINT:3,CAN_SHOW_PAGINATION_BUTTONS:4,CAN_SHOW_PREVIOUS_PAGE_HELP:5,CAN_SHOW_SHARING_UIS:6,CAN_SHOW_STORY_URL_INFO:7,CAN_SHOW_SYSTEM_LAYER_BUTTONS:8,VIEWER_CUSTOM_CONTROLS:9,AD_STATE:10,PAGE_ATTACHMENT_STATE:11,EDUCATION_STATE:12,GYROSCOPE_PERMISSION_STATE:13,INFO_DIALOG_STATE:14,INTERACTIVE_COMPONENT_STATE:15,INTERACTIVE_REACT_STATE:16,KEYBOARD_ACTIVE_STATE:17,MUTED_STATE:18,PAGE_HAS_AUDIO_STATE:19,PAGE_HAS_CAPTION_STATE:20,CAPTIONS_STATE:21,PAGE_HAS_ELEMENTS_WITH_PLAYBACK_STATE:22,PANNING_MEDIA_STATE:23,PAUSED_STATE:24,PREVIEW_STATE:25,RTL_STATE:26,SHARE_MENU_STATE:27,SHOPPING_DATA:28,STORY_HAS_BACKGROUND_AUDIO_STATE:29,STORY_HAS_PLAYBACK_UI_STATE:30,SYSTEM_UI_IS_VISIBLE_STATE:31,UI_STATE:32,DESKTOP_ASPECT_RATIO:33,ACTIONS_ALLOWLIST:34,CONSENT_ID:35,CURRENT_PAGE_ID:36,CURRENT_PAGE_INDEX:37,ADVANCEMENT_MODE:38,NAVIGATION_PATH:39,NEW_PAGE_AVAILABLE_ID:40,PAGE_IDS:41,PAGE_SIZE:42,SUBSCRIPTIONS_DIALOG_UI_STATE:43,SUBSCRIPTIONS_STATE:44,SUBSCRIPTIONS_PAGE_INDEX:45},On=(p(bn={},Tn.ACTIONS_ALLOWLIST,(function(t,n){return t.length!==n.length})),p(bn,Tn.INTERACTIVE_COMPONENT_STATE,(function(t,n){return t.element!==n.element||t.state!==n.state})),p(bn,Tn.NAVIGATION_PATH,(function(t,n){return t.length!==n.length})),p(bn,Tn.PAGE_IDS,(function(t,n){return t.length!==n.length})),p(bn,Tn.PAGE_SIZE,(function(t,n){return null===t||null===n||t.width!==n.width||t.height!==n.height})),p(bn,Tn.PANNING_MEDIA_STATE,(function(t,n){return null===t||null===n||!x(t,n,2)})),p(bn,Tn.SHOPPING_DATA,(function(t,n){return null===t||null===n||!x(t,n,2)})),p(bn,Tn.INTERACTIVE_REACT_STATE,(function(t,n){return!x(t,n,3)})),bn),En=function(){function t(t){this.t=t,this.Jf={},this.yi=d(d({},this.vx()),this.yx())}var n=t.prototype;return n.get=function(t){if(E(this.yi,t))return this.yi[t];C().error(Sn,"Unknown state %s.",t)},n.subscribe=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];E(this.yi,t)?(this.Jf[t]||(this.Jf[t]=new wt),this.Jf[t].add(n),i&&n(this.get(t))):C().error(Sn,"Can't subscribe to unknown state %s.",t)},n.dispatch=function(t,n){var i,r=this,e=d({},this.yi);this.yi=function(t,n,i){var r,e,a,o,s;switch(n){case 1:return d(d({},t),{},p({},Tn.INTERACTIVE_REACT_STATE,d(d({},t[Tn.INTERACTIVE_REACT_STATE]),{},p({},i.interactiveId,i))));case 2:return d(d({},t),{},p({},Tn.NEW_PAGE_AVAILABLE_ID,i));case 3:var u=d(d({},t[Tn.PANNING_MEDIA_STATE]),i);return d(d({},t),{},p({},Tn.PANNING_MEDIA_STATE,u));case 4:var h=d(d({},t[Tn.SHOPPING_DATA]),i);return d(d({},t),{},p({},Tn.SHOPPING_DATA,h));case 5:var c=[].concat(t[Tn.ACTIONS_ALLOWLIST],i);return d(d({},t),{},p({},Tn.ACTIONS_ALLOWLIST,c));case 22:return d(d({},t),{},p({},Tn.PAGE_ATTACHMENT_STATE,!!i));case 16:return d(d({},t),{},p({},Tn.AD_STATE,!!i));case 17:return d(d({},t),{},p({},Tn.EDUCATION_STATE,!!i));case 19:return d(d({},t),{},(p(r={},Tn.PAUSED_STATE,1===i.state),p(r,Tn.SYSTEM_UI_IS_VISIBLE_STATE,!0),p(r,Tn.INTERACTIVE_COMPONENT_STATE,i),r));case 18:return d(d({},t),{},(p(e={},Tn.INFO_DIALOG_STATE,!!i),p(e,Tn.PAUSED_STATE,!!i),e));case 31:return d(d({},t),{},p({},Tn.STORY_HAS_PLAYBACK_UI_STATE,!!i));case 30:return d(d({},t),{},p({},Tn.STORY_HAS_BACKGROUND_AUDIO_STATE,!!i));case 21:return d(d({},t),{},p({},Tn.MUTED_STATE,!!i));case 23:return d(d({},t),{},p({},Tn.PAGE_HAS_AUDIO_STATE,!!i));case 24:return d(d({},t),{},p({},Tn.PAGE_HAS_CAPTIONS_STATE,!!i));case 25:return d(d({},t),{},p({},Tn.CAPTIONS_STATE,!!i));case 26:return d(d({},t),{},p({},Tn.PAGE_HAS_ELEMENTS_WITH_PLAYBACK_STATE,!!i));case 27:return d(d({},t),{},p({},Tn.PAUSED_STATE,!!i));case 28:return d(d({},t),{},p({},Tn.RTL_STATE,!!i));case 20:return d(d({},t),{},p({},Tn.KEYBOARD_ACTIVE_STATE,!!i));case 29:return d(d({},t),{},(p(a={},Tn.PAUSED_STATE,!!i),p(a,Tn.SHARE_MENU_STATE,!!i),a));case 34:return d(d({},t),{},p({},Tn.SYSTEM_UI_IS_VISIBLE_STATE,!!i));case 35:return 3===t[Tn.UI_STATE]&&3!==i?(C().error(Sn,"Cannot switch away from UIType_Enum.VERTICAL"),t):d(d({},t),{},p({},Tn.UI_STATE,i));case 9:return d(d({},t),{},p({},Tn.GYROSCOPE_PERMISSION_STATE,i));case 8:return d(d({},t),{},p({},Tn.CONSENT_ID,i));case 6:return d(d({},t),{},(p(o={},Tn.CURRENT_PAGE_ID,i.id),p(o,Tn.CURRENT_PAGE_INDEX,i.index),o));case 7:return d(d({},t),{},p({},Tn.ADVANCEMENT_MODE,i));case 10:return d(d({},t),{},p({},Tn.NAVIGATION_PATH,i));case 11:return d(d({},t),{},p({},Tn.PAGE_IDS,i));case 12:return d(d({},t),{},p({},Tn.PAGE_SIZE,i));case 13:return d(d({},t),{},p({},Tn.VIEWER_CUSTOM_CONTROLS,i));case 14:return d(d({},t),{},p({},Tn.SUBSCRIPTIONS_PAGE_INDEX,i));case 32:return d(d({},t),{},(p(s={},Tn.SUBSCRIPTIONS_DIALOG_UI_STATE,!!i),p(s,Tn.PAUSED_STATE,!!i),s));case 33:return d(d({},t),{},p({},Tn.SUBSCRIPTIONS_STATE,i));case 15:return d(d({},t),{},p({},Tn.DESKTOP_ASPECT_RATIO,i));default:return C().error(Sn,"Unknown action %s.",n),t}}(this.yi,t,n),Object.keys(this.Jf).forEach((function(t){((i=On[t])?i(e[t],r.yi[t]):e[t]!==r.yi[t])&&r.Jf[t].fire(r.yi[t])}))},n.vx=function(){var t;return p(t={},Tn.CAN_INSERT_AUTOMATIC_AD,!0),p(t,Tn.CAN_SHOW_AUDIO_UI,!0),p(t,Tn.CAN_SHOW_NAVIGATION_OVERLAY_HINT,!0),p(t,Tn.CAN_SHOW_PREVIOUS_PAGE_HELP,!0),p(t,Tn.CAN_SHOW_PAGINATION_BUTTONS,!0),p(t,Tn.CAN_SHOW_SHARING_UIS,!0),p(t,Tn.CAN_SHOW_STORY_URL_INFO,!0),p(t,Tn.CAN_SHOW_SYSTEM_LAYER_BUTTONS,!0),p(t,Tn.VIEWER_CUSTOM_CONTROLS,[]),p(t,Tn.AD_STATE,!1),p(t,Tn.EDUCATION_STATE,!1),p(t,Tn.GYROSCOPE_PERMISSION_STATE,""),p(t,Tn.INFO_DIALOG_STATE,!1),p(t,Tn.INTERACTIVE_COMPONENT_STATE,{state:0}),p(t,Tn.INTERACTIVE_REACT_STATE,{}),p(t,Tn.KEYBOARD_ACTIVE_STATE,!1),p(t,Tn.MUTED_STATE,!0),p(t,Tn.PAGE_ATTACHMENT_STATE,!1),p(t,Tn.PAGE_HAS_AUDIO_STATE,!1),p(t,Tn.PAGE_HAS_CAPTIONS_STATE,!1),p(t,Tn.CAPTIONS_STATE,!0),p(t,Tn.PAGE_HAS_ELEMENTS_WITH_PLAYBACK_STATE,!1),p(t,Tn.PANNING_MEDIA_STATE,{}),p(t,Tn.PAUSED_STATE,!1),p(t,Tn.RTL_STATE,!1),p(t,Tn.SHARE_MENU_STATE,!1),p(t,Tn.SHOPPING_DATA,{}),p(t,Tn.STORY_HAS_BACKGROUND_AUDIO_STATE,!1),p(t,Tn.STORY_HAS_PLAYBACK_UI_STATE,!1),p(t,Tn.SYSTEM_UI_IS_VISIBLE_STATE,!0),p(t,Tn.UI_STATE,0),p(t,Tn.ACTIONS_ALLOWLIST,[]),p(t,Tn.CONSENT_ID,null),p(t,Tn.CURRENT_PAGE_ID,""),p(t,Tn.CURRENT_PAGE_INDEX,0),p(t,Tn.ADVANCEMENT_MODE,""),p(t,Tn.NEW_PAGE_AVAILABLE_ID,""),p(t,Tn.NAVIGATION_PATH,[]),p(t,Tn.PAGE_IDS,[]),p(t,Tn.PAGE_SIZE,null),p(t,Tn.PREVIEW_STATE,!1),p(t,Tn.SUBSCRIPTIONS_DIALOG_UI_STATE,!1),p(t,Tn.SUBSCRIPTIONS_STATE,0),p(t,Tn.SUBSCRIPTIONS_PAGE_INDEX,-1),p(t,Tn.DESKTOP_ASPECT_RATIO,0),t},n.yx=function(){var t,n,i,r,e,a;switch(e=k(this.t.location.hash).embedMode,0===(r=a=parseInt(e,10))||1===r||2===r||3===r||4===r?a:0){case 1:return p(t={},Tn.CAN_INSERT_AUTOMATIC_AD,!1),p(t,Tn.CAN_SHOW_NAVIGATION_OVERLAY_HINT,!1),p(t,Tn.CAN_SHOW_PAGINATION_BUTTONS,!1),p(t,Tn.CAN_SHOW_PREVIOUS_PAGE_HELP,!0),p(t,Tn.CAN_SHOW_SYSTEM_LAYER_BUTTONS,!1),p(t,Tn.MUTED_STATE,!1),t;case 2:return p({},Tn.CAN_SHOW_SHARING_UIS,!1);case 3:return p(n={},Tn.PREVIEW_STATE,!0),p(n,Tn.CAN_INSERT_AUTOMATIC_AD,!1),p(n,Tn.CAN_SHOW_NAVIGATION_OVERLAY_HINT,!1),p(n,Tn.CAN_SHOW_PAGINATION_BUTTONS,!1),p(n,Tn.CAN_SHOW_PREVIOUS_PAGE_HELP,!1),p(n,Tn.CAN_SHOW_SYSTEM_LAYER_BUTTONS,!1),n;case 4:return p(i={},Tn.CAN_SHOW_AUDIO_UI,!1),p(i,Tn.CAN_SHOW_SHARING_UIS,!1),p(i,Tn.CAN_SHOW_STORY_URL_INFO,!1),i;default:return{}}},t}(),wn="none",_n="v0";function xn(t){return void 0===yn&&(n=t||Element,yn=n.prototype.attachShadow?"v1":n.prototype.createShadowRoot?_n:wn),yn;var n}function Nn(t,n,i){var r="";return t&&Array.prototype.forEach.call(t,(function(t){if(t.selectorText&&t.style&&void 0!==t.style.cssText)r+=function(t,n,i){var r=[];return t.split(",").forEach((function(t){t=t.trim(),i&&(t=i(t)),function(t,n){var i=function(t){return t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+t+")"+Rn,"m")}(n);return!t.match(i)}(t,n)&&(t=function(t,n){return function(t,n){return t.match(jn)?(t=t.replace(Pn,n)).replace(jn,n+" "):n+" "+t}(t,n)}(t,n)),r.push(t)})),r.join(", ")}(t.selectorText,n,i)+" {\n\t",r+=function(t){var n=t.style.cssText;t.style.content&&!t.style.content.match(/['"]+|attr/)&&(n=n.replace(/content:[^;]*;/g,"content: '"+t.style.content+"';"));var i=t.style;for(var r in i)"initial"===i[r]&&(n+=r+": initial; ");return n}(t)+"\n}\n\n";else if(t.type===CSSRule.MEDIA_RULE)r+="@media "+t.media.mediaText+" {\n",r+=Nn(t.cssRules,n),r+="\n}\n\n";else try{t.cssText&&(r+=t.cssText+"\n\n")}catch(t){}})),r}var In="-shadowcsshost",kn=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",Rn=(new RegExp("("+In+kn,"gim"),new RegExp("(-shadowcsscontext"+kn,"gim"),"([>\\s~+[.,{:][\\s\\S]*)?$"),Pn=In+"-no-combinator",jn=new RegExp(In,"gim");new RegExp("-shadowcsscontext","gim");var Dn=/[^\.\-\_0-9a-zA-Z]/,Cn=/[^\-\_0-9a-zA-Z]/;function Mn(t){var n,i=U(t),r=t.shadowRoot||t.__AMP_SHADOW_ROOT;if(r){if(self.trustedTypes&&self.trustedTypes.createPolicy){var e=self.trustedTypes.createPolicy("shadow-embed#createShadowRoot",{createHTML:function(t){return""}});r.innerHTML=e.createHTML("")}else r.innerHTML="";return r}var a,o=xn();if("v1"==o?(n=t.attachShadow({mode:"open"})).styleSheets||Object.defineProperty(n,"styleSheets",{get:function(){var t=[];return n.childNodes.forEach((function(n){"STYLE"===n.tagName&&t.push(n.sheet)})),t}}):n=o==_n?t.createShadowRoot():function(t){var n=t.ownerDocument;t.classList.add("i-amphtml-shadow-host-polyfill");var i=n.createElement("style");i.textContent=".i-amphtml-shadow-host-polyfill>:not(i-amphtml-shadow-root){display:none!important}",t.appendChild(i);var r=n.createElement("i-amphtml-shadow-root");return t.appendChild(r),t.__AMP_SHADOW_ROOT=r,Object.defineProperty(t,"shadowRoot",{enumerable:!0,configurable:!0,value:r}),r.host=t,r.getElementById=function(t){var n=String(t).replace(mt,dt);return r.querySelector("#".concat(n))},Object.defineProperty(r,"styleSheets",{get:function(){return n.styleSheets?(t=n.styleSheets,t?Array.prototype.slice.call(t):[]).filter((function(t){return r.contains(t.ownerNode)})):[];var t}}),r}(t),!function(){if(void 0!==gn)return gn;if(xn()==wn)gn=!1;else{var t=xn()===_n?self.document.createElement("div").createShadowRoot():self.document.createElement("div").attachShadow({mode:"open"});n=ShadowRoot,gn=!!n&&-1!=n.toString().indexOf("[native code]")&&t instanceof ShadowRoot}var n;return gn}()){var s="i-amphtml-sd-".concat(i.Math.floor(1e4*i.Math.random()));n.id=s,n.host.classList.add(s),a=function(t){return function(t,n){return function(t,n){var i=M(t.id),r=t.ownerDocument,e=null;try{e=zn(r.implementation.createHTMLDocument(""),n)}catch(t){}if(!e)try{e=zn(r,n)}catch(t){}return e?Nn(e,".".concat(i),Ln):n}(t,n)}(n,t)},n.__AMP_CSS_TR=a}return n}function Ln(t){return t.replace(/(html|body)/g,Un)}function Un(t,n,i,r){var e=r.charAt(i-1),a=r.charAt(i+t.length);return e&&!Dn.test(e)||a&&!Cn.test(a)?t:"amp-"+t}function zn(t,n){var i=t.createElement("style");i.textContent=n;try{return(t.head||t.documentElement).appendChild(i),i.sheet?i.sheet.cssRules:null}finally{i.parentNode&&i.parentNode.removeChild(i)}}function Bn(t,n,i){var r=self.document.createElement("style");r.textContent=i;var e=Mn(t);return e.appendChild(r),e.appendChild(n),t}"[".concat("data-text-background-color","]");var Hn="amp-story-auto-ads:ui",Gn="amp4ads-vars-",Jn="cta-url",Vn=["cta-accent-color","cta-accent-element","cta-image","theme"],Wn=function(){function t(t,n,i){var r=this;this.$r=K(t,"timer"),this.Wr=n,this.Kr=i||0,this.Yr=-1,this.Jr=0,this.Xr=!1,this.Qr=function(){r.Zr()}}var n=t.prototype;return n.isPending=function(){return-1!=this.Yr},n.schedule=function(t){var n=t||this.Kr;this.Xr&&n<10&&(n=10);var i=Date.now()+n;return(!this.isPending()||i-this.Jr<-10)&&(this.cancel(),this.Jr=i,this.Yr=this.$r.delay(this.Qr,n),!0)},n.Zr=function(){this.Yr=-1,this.Jr=0,this.Xr=!0,this.Wr(),this.Xr=!1},n.cancel=function(){this.isPending()&&(this.$r.cancel(this.Yr),this.Yr=-1)},t}(),Yn="__AMP_Gestures",Kn=function(t,n,i,r){this.type=t,this.data=n,this.time=i,this.event=r},Xn=function(){function t(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.ql=t,this.e_=[],this.Dm=[],this.ai=[],this.u_=[],this.h_=null;var r=t.ownerDocument.defaultView,e=cn(r);this.c_=n||e,this.l_=i,this.m_=!1,this.Zr=new Wn(U(t),this.tv.bind(this)),this.p_=new wt,this.f_=Object.create(null),this.d_=this.Yp.bind(this),this.v_=this.Zp.bind(this),this.y_=this.Lp.bind(this),this.g_=this.$m.bind(this),this.ql.addEventListener("touchstart",this.d_,!!e&&{passive:!0}),this.ql.addEventListener("touchend",this.v_),this.ql.addEventListener("touchmove",this.y_,!!e&&{passive:!0}),this.ql.addEventListener("touchcancel",this.g_),this.b_=!1}t.get=function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=n[Yn];return e||(e=new t(n,i,r),n[Yn]=e),e};var n=t.prototype;return n.cleanup=function(){this.ql.removeEventListener("touchstart",this.d_),this.ql.removeEventListener("touchend",this.v_),this.ql.removeEventListener("touchmove",this.y_),this.ql.removeEventListener("touchcancel",this.g_),delete this.ql[Yn],this.Zr.cancel()},n.onGesture=function(t,n){var i=new t(this),r=i.getType(),e=this.f_[r];return e||(this.e_.push(i),e=new wt,this.f_[r]=e),e.add(n)},n.removeGesture=function(t){var n=new t(this).getType(),i=this.f_[n];if(i){i.removeAll();var r=y(this.e_,(function(t){return t.getType()==n}));return!(r<0||(this.e_.splice(r,1),this.ai.splice(r,1),this.u_.splice(r,1),this.Dm.splice(r,1),delete this.f_[n],0))}return!1},n.onPointerDown=function(t){return this.p_.add(t)},n.Yp=function(t){var n=Date.now();this.m_=!1,this.p_.fire(t);for(var i=0;i<this.e_.length;i++)this.ai[i]||(this.u_[i]&&this.u_[i]<n&&this.Wm(i),this.e_[i].onTouchStart(t)&&this.Ym(i));this.x_(t)},n.Lp=function(t){for(var n=Date.now(),i=0;i<this.e_.length;i++)this.Dm[i]&&(this.u_[i]&&this.u_[i]<n?this.Wm(i):this.e_[i].onTouchMove(t)||this.Wm(i));this.x_(t)},n.Zp=function(t){for(var n=Date.now(),i=0;i<this.e_.length;i++)if(this.Dm[i])if(this.u_[i]&&this.u_[i]<n)this.Wm(i);else{this.e_[i].onTouchEnd(t);var r=!this.u_[i],e=this.u_[i]<n;this.h_==this.e_[i]||!r&&!e||this.Wm(i)}this.x_(t)},n.$m=function(t){for(var n=0;n<this.e_.length;n++)this.w_(n);this.x_(t)},n.qp=function(t,n){if(this.h_)t.acceptCancel();else{for(var i=Date.now(),r=0;r<this.e_.length;r++)this.e_[r]==t&&(this.ai[r]=i+n,this.u_[r]=0);this.b_=!0}},n.k_=function(t,n){if(this.h_)t.acceptCancel();else for(var i=Date.now(),r=0;r<this.e_.length;r++)this.e_[r]==t&&(this.u_[r]=i+n)},n.A_=function(t){this.h_==t&&(this.h_=null,this.m_=!0)},n.T_=function(t,n,i){w(this.h_==t);var r=this.f_[t.getType()];r&&r.fire(new Kn(t.getType(),n,Date.now(),i))},n.x_=function(t){var n=!!this.h_||this.m_;if(this.m_=!1,!n)for(var i=Date.now(),r=0;r<this.e_.length;r++)if(this.ai[r]||this.u_[r]&&this.u_[r]>=i){n=!0;break}n?(t.stopPropagation(),this.c_||t.preventDefault()):this.l_&&t.stopPropagation(),this.b_&&(this.b_=!1,this.tv())},n.tv=function(){for(var t=Date.now(),n=-1,i=0;i<this.e_.length;i++)this.ai[i]?(-1==n||this.ai[i]>this.ai[n])&&(n=i):this.u_[i]&&this.u_[i]<t&&this.Wm(i);if(-1!=n){for(var r=0,e=0;e<this.e_.length;e++)!this.ai[e]&&this.Dm[e]&&(r=Math.max(r,this.u_[e]-t));r<2?this.S_(n):this.Zr.schedule(r)}},n.S_=function(t){for(var n=this.e_[t],i=0;i<this.e_.length;i++)i!=t&&this.w_(i);this.ai[t]=0,this.u_[t]=0,this.h_=n,n.acceptStart()},n.Ym=function(t){this.Dm[t]=!0,this.u_[t]=0},n.Wm=function(t){this.Dm[t]=!1,this.u_[t]=0,this.ai[t]||this.e_[t].acceptCancel()},n.w_=function(t){this.ai[t]=0,this.Wm(t)},t}(),Fn=function(){function t(t,n){this.E_=t,this.xy=n}var n=t.prototype;return n.getType=function(){return this.E_},n.signalReady=function(t){this.xy.qp(this,t)},n.signalPending=function(t){this.xy.k_(this,t)},n.signalEnd=function(){this.xy.A_(this)},n.signalEmit=function(t,n){this.xy.T_(this,t,n)},n.acceptStart=function(){},n.acceptCancel=function(){},n.onTouchStart=function(t){return!1},n.onTouchMove=function(t){return!1},n.onTouchEnd=function(t){},t}();function Zn(t,n,i){n<1&&(n=1);var r=t/n,e=.5+Math.min(n/33.34,.5);return r*e+i*(1-e)}Math.round(-16.67/Math.log(.95));var qn=function(t){u(i,t);var n=f(i);function i(t){return n.call(this,"swipe-x",t,!0,!1)}return i}(function(t){u(i,t);var n=f(i);function i(t,i,r,e){var a;return(a=n.call(this,t,i)).P_=r,a.O_=e,a.h_=!1,a.__=0,a.M_=0,a.I_=0,a.N_=0,a.z_=0,a.R_=0,a.xh=0,a.j_=0,a.C_=0,a.D_=0,a.L_=0,a}var r=i.prototype;return r.onTouchStart=function(t){var n=t.touches;return!!(this.h_&&n&&n.length>1)||!(!n||1!=n.length)&&(this.xh=Date.now(),this.__=n[0].clientX,this.M_=n[0].clientY,!0)},r.onTouchMove=function(t){var n=t.touches;if(n&&n.length>=1){var i=n[0],r=i.clientX,e=i.clientY;if(this.I_=r,this.N_=e,this.h_)this.U_(!1,!1,t);else{var a=Math.abs(r-this.__),o=Math.abs(e-this.M_);if(this.P_&&this.O_)(a>=8||o>=8)&&this.signalReady(-10);else if(this.P_){if(a>=8&&a>o)this.signalReady(-10);else if(o>=8)return!1}else{if(!this.O_)return!1;if(o>=8&&o>a)this.signalReady(-10);else if(a>=8)return!1}}return!0}return!1},r.onTouchEnd=function(t){var n=t.touches;n&&0==n.length&&this.Y_(t)},r.acceptStart=function(){this.h_=!0,this.z_=this.__,this.R_=this.M_,this.C_=this.xh,this.__=this.I_,this.M_=this.N_,this.U_(!0,!1,null)},r.acceptCancel=function(){this.h_=!1},r.U_=function(t,n,i){this.j_=Date.now();var r=this.j_-this.C_;if(!n&&r>4||n&&r>16){var e=Zn(this.I_-this.z_,r,this.D_),a=Zn(this.N_-this.R_,r,this.L_);(!n||r>32||0!=e||0!=a)&&(this.D_=Math.abs(e)>1e-4?e:0,this.L_=Math.abs(a)>1e-4?a:0),this.z_=this.I_,this.R_=this.N_,this.C_=this.j_}this.signalEmit({first:t,last:n,time:this.j_,deltaX:this.I_-this.__,deltaY:this.N_-this.M_,startX:this.__,startY:this.M_,lastX:this.I_,lastY:this.N_,velocityX:this.D_,velocityY:this.L_},i)},r.Y_=function(t){this.h_&&(this.h_=!1,this.U_(!1,!0,t),this.signalEnd())},i}(Fn)),$n=(d(d({},{"bg":"https://tpc.googlesyndication.com/b4a/b4a-runner.html","moat":"https://z.moatads.com/ampanalytics093284/iframe.html"}),{},{"bg":"https://tpc.googlesyndication.com/b4a/experimental/b4a-runner.html"}),"beacon");function Qn(t,n,i){if(L("string"==typeof n.finalUrl,"finalUrl of target '%s' must be a string",t),n.filters&&n.filters.forEach((function(t){L(i.filters[t],"filter '%s' not defined",t)})),n.vars){var r=/^_[a-zA-Z0-9_-]+$/;for(var e in n.vars)L(r.test(e),"'%s' must match the pattern '%s'",e,r)}}var ti,ni="amp-story-visible",ii=function(){function t(t,n,i,r,e,a){this.Xw=n,this.de=i,this.L3=r,this.di="i-amphtml-ad-page-".concat(this.de),this.t=t.win,this.Yl=this.t.document,this.YU=G(t,tn),this.tet=null,this.net=null,this.oS=null,this.iet=null,this.ret=null,this.eet=null,this.aet=null,this.Sy=!1,this.oet=[],this.uet=e,this.het=!1,this.bx=a,this.cet=!1}var n=t.prototype;return n.getAdDoc=function(){return this.aet},n.getId=function(){return this.di},n.hasTimedOut=function(){return!!this.tet&&Date.now()-this.tet>1e4},n.isLoaded=function(){return this.Sy},n.hasBeenViewed=function(){return this.het},n.getPageElement=function(){return this.net},n.registerLoadCallback=function(t){this.oet.push(t)},n.toggleVisibility=function(){if(this.het=!0,this.eet&&St(this.eet,"cta-active"),this.aet){St(this.aet.body,ni);var t=this.aet.querySelector("#x-a4a-former-body");t&&St(t,ni)}},n.build=function(){this.tet=Date.now(),this.net=this.let(),this.oS=this.fS();var t=this.Yl.createElement("div");t.classList.add("i-amphtml-glass-pane");var n=this.Yl.createElement("amp-story-grid-layer");n.setAttribute("template","fill");var i=n.cloneNode(!1);return n.appendChild(this.oS),i.appendChild(t),this.net.appendChild(n),this.net.appendChild(i),this.fet(),this.pet(),this.m7("story-ad-request",p({},"requestTime",Date.now())),this.net},n.maybeCreateCta=function(){var t=this;return a().then((function(){var n;if(t.cet)return!0;var r,e,a,o,s=O(),u=(null!==(n=t.aet)&&void 0!==n?n:t.oS).querySelectorAll("meta[name]");return t.aet?Object.assign(s,function(t){var n=O();return t.forEach((function(t){var i=t.content,r=t.name;if(r.startsWith("amp-cta-")){var e=r.split("amp-")[1];n[e]=i}else if(r.startsWith(Gn)){var a=r.split(Gn)[1];n[a]=i}})),n}(u),t.vet()):Object.assign(s,(a=(r=M(t.oS)).getAttribute("data-vars-ctaurl"),p(e={},"cta-type",r.getAttribute("data-vars-ctatype")),p(e,Jn,a),e)),!!((o=s)["cta-type"]&&o["cta-url"]||(j().error(Hn,"Both CTA Type & CTA Url are required in ad response."),0))&&(s["cta-type"]=function(t,n){if($t[t]){var i=$t[t];return n.getLocalizedString(i)}return t}(s["cta-type"],t.L3)||s["cta-type"],t.YU.then((function(n){n.setVar(t.de,"ctaType",s["cta-type"]);for(var r=0,e=Object.entries(function(t){var n=O();return t.forEach((function(t){var i=t.content,r=t.name;/^[a-zA-Z0-9\-_]+$/.test(r)&&(n[r]=i)})),n}(u));r<e.length;r++){var a=(2,function(t){if(Array.isArray(t))return t}(c=e[r])||function(t,n){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var r,e,a=[],o=!0,s=!1;try{for(i=i.call(t);!(o=(r=i.next()).done)&&(a.push(r.value),2!==a.length);o=!0);}catch(t){s=!0,e=t}finally{try{o||null==i.return||i.return()}finally{if(s)throw e}}return a}}(c)||i(c,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],h=a[1];n.setVar(t.de,"STORY_AD_META_".concat(o),h)}var c})),(t.ret=function(t,n,i){var r=t.document;try{var e=n["attribution-url"],a=n["attribution-icon"];if(!e||!a)return null;dn(e,i,"amp-story-auto-ads attribution url"),dn(a,i,"amp-story-auto-ads attribution icon");var o=yt(r,"div",{"role":"button","class":"i-amphtml-attribution-host"}),s=yt(r,"img",{"class":"i-amphtml-story-ad-attribution","src":a});return s.addEventListener("click",(function(n){return function(t,n){!function(t,n,i,r){var e,a;try{e=t.open(n,i,void 0)}catch(t){C().error("DOM","Failed to open url on target: ",i,t)}!e&&("number"!=typeof a&&(a=0),a+"noopener".length>"".length||-1==="".indexOf("noopener",a))&&(e=t.open(n,"_top"))}(t,n,"_blank")}(t,e)})),Bn(o,s,".i-amphtml-story-ad-attribution{position:absolute;bottom:0!important;left:0!important;max-height:15px!important;z-index:4!important}.i-amphtml-story-ad-fullbleed.i-amphtml-story-ad-attribution{bottom:12.5vh!important;left:50%!important;transform:translateX(-22.5vh)!important}\n/*# sourceURL=/extensions/amp-story-auto-ads/0.1/amp-story-auto-ads-attribution.css*/"),i.appendChild(o),s}catch(t){return null}}(t.t,s,M(t.net)))&&t.bx.subscribe(Tn.UI_STATE,(function(n){t.Wx(n)}),!0),t.met(s))}))},n.let=function(){var t={"ad":"","aria-hidden":!0,"distance":"2","i-amphtml-loading":"","id":this.di},n=at(this.t,lt);n&&n!=ft&&(t["auto-advance-after"]="10s");var i=yt(this.Yl,"amp-story-page",t);return an(i,"background-color","#212125"),i},n.fS=function(){return"fake"===this.Xw.type&&(this.Xw.id="i-amphtml-demo-".concat(this.de)),yt(this.Yl,"amp-ad",this.Xw)},n.fet=function(){var t=this;this.oS.signals().whenSignal(v).then((function(){return t.det()}));var n,i,r,e,a,o,s,u=(n=this.t,i="message",r=void 0,e=n,a=function(n){"amp-story-ad-load"===n.data&&t.bet()&&n.source===t.iet.contentWindow&&(t.cet=!0,t.net.setAttribute("xdomain-ad",""),t.det(),u())},o=function(t){try{return a(t)}catch(t){var n,i;throw null===(n=(i=self).__AMP_REPORT_ERROR)||void 0===n||n.call(i,t),t}},s=function(){if(void 0!==sn)return sn;sn=!1;try{var t={get capture(){return sn=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return sn}(),e.addEventListener(i,o,!!s&&r),function(){null==e||e.removeEventListener(i,o,!!s&&r),a=null,e=null,o=null})},n.pet=function(){var t=this,n=Xn.get(this.net,!0,!1);n.onGesture(qn,(function(){t.m7("story-ad-swipe",p({},"swipeTime",Date.now())),n.cleanup()}))},n.bet=function(){return this.iet?this.iet:this.iet=bt(M(this.net),"iframe")},n.det=function(){var t;this.net.getImpl().then((function(t){return t.delegateVideoAutoplay()})),this.net.removeAttribute("i-amphtml-loading"),this.m7("story-ad-load",p({},"loadTime",Date.now())),this.bet()&&!this.cet&&(this.aet=(t=this.iet).contentDocument||t.contentWindow.document),this.Sy=!0,this.oet.forEach((function(t){return t()}))},n.met=function(t){var n=this;return function(t,n,i,e){var a=e["cta-url"],o=e["cta-type"],s=yt(t,"a",{"class":"i-amphtml-story-ad-link","target":"_blank","href":a});return n.fit(i,s,o).then((function(n){if(!n)return j().warn(Hn,"CTA button text is too long. Ad was discarded."),null;if(s.href=a,s.textContent=o,"https:"!==s.protocol&&"http:"!==s.protocol)return j().warn(Hn,"CTA url is not valid. Ad was discarded"),null;var u=at(t.defaultView,lt);return u==pt||u==vt?function(t,n,i){var e=t.createElement("amp-story-page-outlink");e.setAttribute("layout","nodisplay");var a=yt(t,"a",{"class":"i-amphtml-story-ad-link","target":"_top","href":n["cta-url"]});a.textContent=n["cta-type"],e.appendChild(a);for(var o,s=r(Vn,!0);!(o=s()).done;){var u=o.value;n[u]&&e.setAttribute(u,n[u])}return Ot(U(t)).installExtensionForDoc(W(t),"amp-story-page-attachment","0.1"),e.className="i-amphtml-story-page-outlink-container",i.appendChild(e),a}(t,e,i):function(t,n,i){var r=n.createElement("amp-story-cta-layer");r.className="i-amphtml-cta-container";var e=yt(n,"div",{"class":"i-amphtml-story-ad-link-root","role":"button"});return Bn(e,t,".i-amphtml-story-ad-link{background-color:#fff!important;border-radius:20px!important;box-sizing:border-box!important;bottom:32px!important;box-shadow:0px 2px 12px rgba(0,0,0,.16)!important;color:#4285f4!important;font-family:Roboto,sans-serif!important;font-weight:700!important;height:36px!important;letter-spacing:0.2px!important;line-height:36px!important;overflow:hidden!important;opacity:0;padding:0 10px!important;position:absolute!important;text-align:center!important;text-decoration:none!important;min-width:120px!important;max-width:calc(100vw - 64px)}[cta-active].i-amphtml-story-ad-link{animation-delay:100ms!important;animation-duration:300ms!important;animation-timing-function:cubic-bezier(0.4,0,0.2,1)!important;animation-fill-mode:forwards!important;animation-name:ad-cta!important}@keyframes ad-cta{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}\n/*# sourceURL=/extensions/amp-story-auto-ads/0.1/amp-story-auto-ads-cta-button.css*/"),r.appendChild(e),i.appendChild(r),t}(s,t,i)}))}(this.Yl,M(this.uet),this.net,t).then((function(t){return!!t&&(n.eet=t,t.addEventListener("click",(function(){var t=p({},"clickTime",Date.now());n.m7("story-ad-click",t)})),!0)}))},n.vet=function(){var t=bt(this.aet.body,"amp-ad-exit");if(t)try{var n=t.children;L(1==n.length,"The tag should contain exactly one <script> child.");var i=n[0];L(gt(i),'The amp-ad-exit config should be inside a <script> tag with type="application/json"');var r=function(t){return L("object"==c(t)),t.filters?function(t){var n=["clickDelay","clickLocation","inactiveElement"];for(var i in t)L("object"==c(t[i]),"Filter specification '%s' is malformed",i),L(-1!=n.indexOf(t[i].type),"Supported filters: "+n.join(", "))}(t.filters):t.filters={},t.transport?function(t){for(var n in t)L(n==$n||"image"==n,"Unknown transport option: '".concat(n,"'")),L("boolean"==typeof t[n])}(t.transport):t.transport={},function(t,n){for(var i in L("object"==c(t),"'targets' must be an object"),t)Qn(i,t[i],n)}(t.targets,t),t}(_(i.textContent)),e=r.targets&&Object.keys(r.targets)&&r.targets[Object.keys(r.targets)[0]],a=e&&e.finalUrl;return e?p({},Jn,a):{}}catch(t){return C().error("amp-story-auto-ads:page",t),{}}},n.Wx=function(t){this.ret&&this.ret.classList.toggle("i-amphtml-story-ad-fullbleed",2===t)},n.m7=function(t,n){var i=this;this.YU.then((function(r){return r.fireEvent(i.net,i.de,t,n)}))},t}(),ri=function(){function t(t,n){this.n_=t,this.Xw=n,this.Ui=t.getAmpDoc(),this.YU=G(this.Ui,tn),this.L3=new Qt(this.n_.element),this.uet=new hn(this.Ui),this.V_={},this.bx=An(this.Ui.win),this.yet=0,this.Aet=[]}var n=t.prototype;return n.hasUnusedAdPage=function(){return this.yet<this.Aet.length},n.getUnusedAdPage=function(){var t=this.Aet[this.yet];return M(t),this.V_[t]},n.discardCurrentAd=function(){var t;this.yet++,this.m7("story-ad-discard",(p(t={},nn,this.yet),p(t,"discardTime",Date.now()),t))},n.numberOfAdsCreated=function(){return this.Aet.length},n.createAdPage=function(){var t=this,n=this.Aet.length+1,i=new ii(this.Ui,this.Xw,n,this.L3,M(this.uet),M(this.bx)),r=i.build(),e=i.getId();return this.V_[e]=i,this.Aet.push(e),this.n_.element.appendChild(r),r.getImpl().then((function(n){t.n_.addPage(n)})),i},n.hasId=function(t){return!!this.V_[t]},n.getAdPageById=function(t){return this.V_[t]},n.getIndexById=function(t){return y(this.Aet,(function(n){return n===t}))+1},n.maybeInsertPageAfter=function(t,n){var i=this,r=this.n_.getPageById(t),e=this.n_.getNextPage(r);return e?this.Tet(r)||r.isAd()||e.isAd()?Promise.resolve(0):n.maybeCreateCta().then((function(r){return r?i.Oet(n,t):(i.discardCurrentAd(),1)})):Promise.resolve(0)},n.Oet=function(t,n){var i=t.getId();this.n_.insertPage(n,i);var r=this.getIndexById(i),e=this.n_.getPageIndexById(n);return this.YU.then((function(t){return t.setVar(r,"position",e+1)})),this.Eet(),2},n.Eet=function(){var t;this.yet++,this.m7("story-ad-insert",(p(t={},nn,this.yet),p(t,"insertTime",Date.now()),t))},n.Tet=function(t){return t.element.hasAttribute("next-page-no-ad")},n.m7=function(t,n){var i=this;this.YU.then((function(r){return r.fireEvent(i.n_.element,n.adIndex,t,n)}))},t}(),ei=function(){function t(t,n){this.bx=t,this.wet=n,this._et=O(),this.xet=1,this.Net=!1,this.Iet=!1}var n=t.prototype;return n.isStoryEligible=function(){return this.bx.get(Tn.PAGE_IDS).length>7},n.initializePages=function(){return[this.wet.createAdPage()]},n.onPageChange=function(t){E(this._et,t)||(this._et[t]=!0,this.xet++),!this.Net&&!this.Iet&&this.ket()&&this.wet.hasUnusedAdPage()&&(this.Iet=!0,this.Ret(t))},n.onNewAdView=function(t){this.Net=!1,this.xet=0,this.Pet(t)&&this.wet.createAdPage()},n.Pet=function(t){return this.bx.get(Tn.PAGE_IDS).length-t>7},n.ket=function(){return this.xet>=7},n.Ret=function(t){var n=this,i=this.wet.getUnusedAdPage();i.isLoaded()||!i.hasTimedOut()?i.isLoaded()&&this.wet.maybeInsertPageAfter(t,i).then((function(t){n.Iet=!1,2===t&&(n.Net=!0)})):this.wet.discardCurrentAd()},t}(),ai=function(){function t(t,n,i){this.wet=n,this.jet=this.Det(i),this.Cet=t.get(Tn.PAGE_IDS),this.Met=[],this.Let=0}var n=t.prototype;return n.isStoryEligible=function(){return this.Cet.length>4},n.initializePages=function(){var t,n,i,r,e=this.Cet.length,a=(t=e,n=this.jet,i=Math.floor(t/n),r=Math.random()<t%n/n?1:0,Math.min(i+r,4));return this.Met=function(t,n){if(!n)return[];for(var i=Math.ceil(t/(n+1)),r=t-i,e=[i],a=Math.ceil(r/n),o=1;o<n;o++){var s=i+a*o;e.push(s)}return e}(e,a),a?[this.Uet()]:[]},n.Uet=function(){var t=this,n=this.Met[this.Let],i=this.wet.createAdPage();return i.registerLoadCallback((function(){t.wet.maybeInsertPageAfter(t.Cet[n-1],i)})),this.Let++,i},n.onPageChange=function(t){},n.onNewAdView=function(t){this.Let<this.Met.length&&this.Uet()},n.Det=function(t){return t===ut?8:t===ht?10:t===ct?12:void 0},t}(),oi="amp-story-auto-ads:config",si={"height":!0,"layout":!0,"width":!0},ui={"adsense":!0,"custom":!0,"doubleclick":!0,"fake":!0,"nws":!0,"mgid":!0},hi=function(){function t(t,n){this.ql=t,this.t=n}var n=t.prototype;return n.getConfig=function(){var t=this;return(this.ql.hasAttribute("src")?this.zet():this.XZ(this.ql.firstElementChild)).then((function(n){return t.Bet(n)}))},n.Bet=function(t){var n=t["ad-attributes"];for(var i in L(n,"".concat(oi," Error reading config. ")+'Top level JSON should have an "ad-attributes" key'),this.Het(n.type),n){var r=n[i];T(r)&&(n[i]=JSON.stringify(r)),si[i]&&(j().warn(oi,'ad-attribute "%s" is not allowed',i),delete n[i])}return d(d({},n),{class:"i-amphtml-story-ad",layout:"fill","amp-story":""})},n.XZ=function(t){L(t&&gt(t),"The ".concat(oi," should ")+'be inside a <script> tag with type="application/json"');var n=_(t.textContent);return Promise.resolve(n)},n.zet=function(){return(t=this.t,z(t,"xhr")).fetchJson(this.ql.getAttribute("src")).then((function(t){return t.json()})).catch((function(t){j().error(oi,"error determining if remote config is valid json: bad url or bad json",t)}));var t},n.Het=function(t){if(L(!!ui[t],"".concat(oi,' "').concat(t,'" ad type is missing or not supported')),"fake"===t){var n=this.ql.id;L(n&&n.startsWith("i-amphtml-demo-"),"".concat(oi," id must start with i-amphtml-demo- to use fake ads"))}},t}(),ci="amp-story-auto-ads",li=(p(ti={},ft,lt),p(ti,"31067117",lt),p(ti,pt,lt),p(ti,vt,lt),ti),fi="ad-showing",pi=function(t){u(i,t);var n=f(i);function i(t){var i;return(i=n.call(this,t)).Yl=i.win.document,i.n_=null,i.Get=null,i.Xw={},i.YU=null,i.Jet=null,i.bx=null,i.Vet=null,i.Wet=null,i}var e=i.prototype;return e.buildCallback=function(){var t,n=this;return this.Yet(),(t=this.win,function(t,n,i,r,e){return B(t,n)||function(t,n,i,r,e){return(a=t.document,new Promise((function(t){return function(t,n){!function(t,n,i){if(n())i();else{var r=U(t);if(r.MutationObserver){var e=new r.MutationObserver((function(){n()&&(e.disconnect(),i())}));e.observe(t,{childList:!0})}else var a=r.setInterval((function(){n()&&(r.clearInterval(a),i())}),5)}}(t.documentElement,(function(){return!!t.body}),n)}(a,t)}))).then((function(){var n=z(t,"extensions");return function(t,n,i){return function(t){if(!t)return[];for(var n=t.querySelectorAll("script[custom-element],script[custom-template]"),i=[],r=0;r<n.length;r++){var e=n[r],a=e.getAttribute("custom-element")||e.getAttribute("custom-template"),o=At(e.src);a&&o&&i.push({script:e,extensionId:a,extensionVersion:o.extensionVersion})}return i}(t.document.head).some((function(t){var r=t.extensionId,e=t.extensionVersion;return n==r&&i==e}))}(n.win,i,r)?n.waitForExtension(i,r):null})).then((function(i){return i?e?B(t,n):function(t,n){return F(t,n)}(t,n):null}));var a}(t,n,i,r,e)}(t,"story-store","amp-story","1.0")).then((function(t){if(M(t),n.bx=t,n.Ket()){var i=n.element.parentElement;L("AMP-STORY"===i.tagName,"<".concat(ci,"> should be child of <amp-story>"));var r=n.getAmpDoc();return Ot(n.win).installExtensionForDoc(r,"amp-ad"),i.getImpl().then((function(t){n.n_=t}))}}))},e.isLayoutSupported=function(){return!0},e.layoutCallback=function(){var t=this;return this.Ket()?this.n_.signals().whenSignal(v).then((function(){return t.Xet()})).then((function(){var n,i,e,a;t.Wet=new ri(t.n_,t.Xw),function(t){!function(t,n){t.__AMP_EXPERIMENT_BRANCHES=t.__AMP_EXPERIMENT_BRANCHES||{};for(var i,e,a,o={},s=r(n,!0);!(i=s()).done;){var u,h=i.value,c=h.experimentId;E(t.__AMP_EXPERIMENT_BRANCHES,c)?o[c]=t.__AMP_EXPERIMENT_BRANCHES[c]:null!==(u=h.isTrafficEligible)&&void 0!==u&&u.call(h,t)?!t.__AMP_EXPERIMENT_BRANCHES[c]&&it(t,c)&&(t.__AMP_EXPERIMENT_BRANCHES[c]=(e=h.branches,a=Math.random(),e[Math.floor(a*e.length)]||null),o[c]=t.__AMP_EXPERIMENT_BRANCHES[c]):t.__AMP_EXPERIMENT_BRANCHES[c]=null}}(t,[{experimentId:ot,isTrafficEligible:function(){return!0},branches:[st,ut,ht,ct]}])}(t.win),t.Vet=(n=t.win,i=t.bx,e=t.Wet,(a=at(n,ot))&&a!==st?new ai(i,e,a):new ei(i,e)),t.Vet.isStoryEligible()&&(t.YU=G(t.element,tn),t.Fet(),t.xx(),t.XM())})):a()},e.Yet=function(){var t=this,n=Et(this.Yl);n.isEmbedded()&&n.sendMessageAwaitResponse("playerExperiments").then((function(n){var i=null==n?void 0:n.experimentIds;i&&i.forEach((function(n){var i,r,e,a=li[n];a&&(i=t.win,r=a,e=n.toString(),i.__AMP_EXPERIMENT_BRANCHES=i.__AMP_EXPERIMENT_BRANCHES||{},function(t,n,i,r){var e=it(t,n),a=null!=i?i:!e;if(a!=e&&(rt(t)[n]=a,0)){var o=et(t);o[n]=a,function(t,n){var i=[];for(var r in n)i.push((!1===n[r]?"-":"")+r);try{var e;null===(e=t.localStorage)||void 0===e||e.setItem(tt,i.join(","))}catch(t){j().error(Q,"Failed to save experiments to localStorage.")}}(t,o),j().warn(Q,'"%s" experiment %s for the domain "%s". See: https://amp.dev/documentation/guides-and-tutorials/learn/experimental',n,a?"enabled":"disabled",t.location.hostname)}}(i,r,!!e),i.__AMP_EXPERIMENT_BRANCHES[r]=e)}))})).catch((function(t){C().expectedError(ci,"Player does not support `playerExperiments` message",t)}))},e.Zet=function(t){var n=this,i=this.bx.get(Tn.CURRENT_PAGE_ID);t.registerLoadCallback((function(){return n.Wet.maybeInsertPageAfter(i,t).then((function(){return n.qet(t)}))}))},e.qet=function(t){var n=t.getPageElement();n.setAttribute("distance","1"),function(t,n,i){var r=ln(t,i,arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0);n.dispatchEvent(r)}(this.win,n,"ampstory:switchpage",{"targetPageId":"i-amphtml-ad-page-1","direction":"next"},{bubbles:!0})},e.Xet=function(){var t=this;return new hi(this.element,this.win).getConfig().then((function(n){return t.Xw=n,"custom"===n.type&&Ot(t.win).installExtensionForDoc(t.element.getAmpDoc(),"amp-mustache","latest"),n}))},e.Ket=function(){return!!this.bx.get(Tn.CAN_INSERT_AUTOMATIC_AD)},e.xx=function(){var t=this;this.bx.subscribe(Tn.AD_STATE,(function(n){t.OO(n)})),this.bx.subscribe(Tn.RTL_STATE,(function(n){t.EP(n)}),!0),this.bx.subscribe(Tn.UI_STATE,(function(n){t.Wx(n)}),!0),this.bx.subscribe(Tn.CURRENT_PAGE_ID,(function(n){var i=t.bx.get(Tn.CURRENT_PAGE_INDEX);t.$et(i,n)}))},e.OO=function(t){var n=this;this.mutateElement((function(){t?n.Jet.setAttribute(fi,""):n.Jet.removeAttribute(fi)}))},e.EP=function(t){var n=this;this.mutateElement((function(){t?n.Jet.setAttribute("dir","rtl"):n.Jet.removeAttribute("dir")}))},e.Wx=function(t){var n=this;this.mutateElement((function(){var i="desktop-fullbleed",r="desktop-one-panel";n.Jet.removeAttribute(i),n.Jet.removeAttribute(r),2===t&&n.Jet.setAttribute(i,""),4===t&&n.Jet.setAttribute(r,"")}))},e.Fet=function(){var t=this.Yl.createElement("div");t.className="i-amphtml-ad-overlay-host",this.Jet=this.Yl.createElement("aside"),this.Jet.className="i-amphtml-ad-overlay-container";var n=this.Yl.createElement("div");n.className="i-amphtml-story-ad-badge",this.Jet.appendChild(n),Bn(t,this.Jet,'.i-amphtml-ad-overlay-container{-ms-flex-align:center!important;align-items:center!important;display:-ms-flexbox!important;display:flex!important;height:48px!important;left:0!important;-ms-flex-pack:center!important;justify-content:center!important;pointer-events:none!important;position:absolute!important;top:0!important;width:48px!important;z-index:100001!important}.i-amphtml-ad-overlay-container[dir=rtl]{left:auto!important;right:0!important}.i-amphtml-ad-overlay-container[desktop-fullbleed]{left:calc(50vw - 22.5vh)!important;top:12.5vh!important}.i-amphtml-story-ad-badge-svg{top:50%!important;left:50%!important;position:relative!important;transform:translate(-50%,-50%)!important}.i-amphtml-story-ad-badge{opacity:0!important;width:29px!important;height:20px!important;background:no-repeat 50% url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="29" height="20" fill="none"><path fill="%23fff" d="M9.05 5.2h2.02l3.5 9.3h-1.94l-.78-2.22H8.28L7.5 14.5H5.57zm2.22 5.46-1.21-3.45-1.22 3.45zm5.33 3.61c-2.09-1.4-2.1-4.76 0-6.15 1.15-.69 2.85-.64 3.64.56V5.19h1.68v9.31h-1.58v-.8c-.73 1.22-2.66 1.2-3.74.57m1.93-1.13c1.07 0 1.8-.94 1.8-1.96s-.75-1.93-1.8-1.93c-1.06 0-1.8.93-1.8 1.94 0 1 .75 1.95 1.8 1.95"/></svg>\'),#0003;border-radius:6px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);visibility:hidden!important}[dir=rtl] .i-amphtml-story-ad-badge{margin-left:0px!important;margin-right:16px!important}[ad-showing] .i-amphtml-story-ad-badge{visibility:visible!important;opacity:1!important}.i-amphtml-ad-overlay-container[desktop-one-panel]{top:var(--i-amphtml-story-desktop-one-panel-responsive-margin)!important;left:calc(50vw - var(--i-amphtml-story-desktop-one-panel-width)/2)!important}\n/*# sourceURL=/extensions/amp-story-auto-ads/0.1/amp-story-auto-ads-ad-badge.css*/'),this.n_.element.appendChild(t)},e.XM=function(){var t=this.Vet.initializePages();this.Qet(M(t[0]))},e.Qet=function(t){this.element.hasAttribute("development")&&"fake"===this.Xw.type&&this.Zet(t)},e.$et=function(t,n){0!==this.Wet.numberOfAdsCreated()&&(this.Wet.hasId(n)||this.Vet.onPageChange(n),this.Get&&this.tat(),this.Wet.hasId(n)&&this.nat(t,n))},e.tat=function(){var t,n=this.Get.getId(),i=this.Wet.getIndexById(n);this.iat(),this.m7("story-ad-exit",(p(t={},"exitTime",Date.now()),p(t,nn,i),t))},e.nat=function(t,n){var i,r=this.Wet.getAdPageById(n),e=this.Wet.getIndexById(n);r.hasBeenViewed()||this.Vet.onNewAdView(t),this.rat(r),this.m7("story-ad-view",(p(i={},"viewTime",Date.now()),p(i,nn,e),i))},e.rat=function(t){var n=this;this.mutateElement((function(){t.toggleVisibility(),n.Get=t}))},e.iat=function(){var t=this;this.mutateElement((function(){t.Get&&(t.Get.toggleVisibility(),t.Get=null)}))},e.m7=function(t,n){var i=this;this.YU.then((function(r){return r.fireEvent(i.element,n.adIndex,t,n)}))},i}(t.BaseElement);t.registerElement("amp-story-auto-ads",pi,".i-amphtml-story-desktop-fullbleed .i-amphtml-cta-container{bottom:12.5vh!important;top:67.5%!important}.i-amphtml-glass-pane{height:100%!important;width:100%!important;z-index:1!important;pointer-events:auto!important}amp-story-page[xdomain-ad] .i-amphtml-glass-pane{height:80%!important}amp-story-page amp-ad iframe{width:100%;height:100%}amp-story-page amp-ad[data-a4a-upgrade-type=amp-ad-network-doubleclick-impl],amp-story-page amp-ad[type=adsense]{top:0!important;left:0!important;transform:translate(0)!important}.i-amphtml-story-desktop-fullbleed amp-story-grid-layer[template=fill]>amp-ad{left:50%!important;right:auto!important;margin:auto!important;min-height:75vh!important;max-height:75vh!important;min-width:45vh!important;max-width:45vh!important;transform:translateX(-50%)!important}\n/*# sourceURL=/extensions/amp-story-auto-ads/0.1/amp-story-auto-ads.css*/.i-amphtml-story-ad-link-root{all:initial!important;color:initial!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-direction:column!important;flex-direction:column!important;-ms-flex-align:center!important;align-items:center!important}\n/*# sourceURL=/extensions/amp-story-auto-ads/0.1/amp-story-auto-ads-shared.css*/"),t.registerServiceForDoc(tn,rn)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
/**
* @license
* Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
* Use of this source code is governed by a BSD-style
* license that can be found in the LICENSE file or at
* https://developers.google.com/open-source/licenses/bsd
*/}});
//# sourceMappingURL=amp-story-auto-ads-0.1.js.map