/*! zaz-ui-t360-content - v1.0.13 - 17/02/2025 -- 2:13pm */

zaz.use(function stickHeader(pkg){"use strict";pkg.require(["modFactory"],function(modFactory){modFactory.create({name:"stickHeader",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/pages/terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Controle do stick da S0",tests:"http://s1.trrsf.com/fe/zaz-ui-t360-content/tests/index.htm?zaz[env]=tests",dependencies:["app.t360.navbar"],setup:function(data){var PRIVATE={},MODULE={};return PRIVATE.started=!1,PRIVATE.objNavbar=new data.dependencies.app.t360.navbar,PRIVATE.controlPosition=function(){var st=window.pageYOffset||document.documentElement.scrollTop,headerSize=PRIVATE.elemNavbar.offsetHeight,status="initial",sendTrigger=!0,positionFinalAnchor,positionStartAnchor;"hide"==PRIVATE.objNavbar.getStatusDisplay()&&(headerSize=0),positionStartAnchor=PRIVATE.elemAdContainer.offsetTop,st<=(positionFinalAnchor=MODULE.getDocOffsetTop(PRIVATE.elemContentBody)-PRIVATE.elemAdFull.offsetHeight)&&positionStartAnchor<st?(PRIVATE.elemAdFull.style.top=headerSize+"px",PRIVATE.elemAdFull.style.left=0,PRIVATE.elemAdFull.style.position="fixed",status="stick",sendTrigger=!0):st<=positionStartAnchor?(PRIVATE.elemAdFull.style.top="inherit",PRIVATE.elemAdFull.style.position="relative",status="initial",sendTrigger=!0):positionFinalAnchor<st&&(PRIVATE.elemAdFull.style.top=-PRIVATE.elemAdFull.offsetHeight+"px",status="hide"),sendTrigger&&pkg.context.page.trigger("mod-stick-header",{status:status})},MODULE.init=function(){pkg.context.page.at("ad-slotrenderended",function(data){"header-full-ad"!==data.id||PRIVATE.started||MODULE.startSticky()})},MODULE.startSticky=function(){PRIVATE.started=!0,PRIVATE.elemAdFull=document.getElementById("header-full-ad"),PRIVATE.elemAdContainer=document.getElementById("header-full-ad-container"),PRIVATE.elemNavbar=document.querySelector(".zaz-app-t360-navbar .navbar"),PRIVATE.elemContentBody=document.querySelector(".article__content--body"),PRIVATE.elemAdContainer.style.height=PRIVATE.elemAdContainer.offsetHeight+"px",PRIVATE.elemAdFull.style.zIndex="99900",PRIVATE.elemAdFull.style.transition="all 0.3s ease-in-out 0s",window.addEventListener("scroll",PRIVATE.controlPosition,!1,{controller:"none",time:0}),PRIVATE.controlPosition()},MODULE.getDocOffsetTop=function(scrollTop){var box=scrollTop.getBoundingClientRect(),top=document.body,docEl=document.documentElement,scrollTop=window.pageYOffset||docEl.scrollTop||top.scrollTop,top=docEl.clientTop||top.clientTop||0,top=box.top+scrollTop-top;return Math.round(top)},MODULE},teardown:function(data){}})})}),zaz.use(function AdsCommon(pkg){"use strict";pkg.factoryManager.get("mod").create({name:"adsCommon",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Funções comum de publicidade",dependencies:["mod.manager"],tests:"",setup:function(data){var MODULE={},PRIVATE={},tgmkeyGroup=pkg.context.page.get("tgmkey");return PRIVATE.objAdmanager=new data.dependencies.mod.adManager,MODULE.admanagerSetup=function(){return new Promise(function(resolve,reject){tgmkeyGroup&&tgmkeyGroup.content?(PRIVATE.tgmkey=tgmkeyGroup.content,window.AdManager.configure({TGMKEY:PRIVATE.tgmkey,PLATFORM:"mob"===pkg.context.platform.get("type")?"mob":"web"}),window.AdManager.get("backend_getviewport")?resolve(PRIVATE.tgmkey):window.AdManager.setup({tgmkey:PRIVATE.tgmkey}).then(function(){resolve(PRIVATE.tgmkey)})):reject()})},MODULE.setTgmkey=function(tgmkey){PRIVATE.tgmkey=tgmkey},MODULE.loadAdHeader=function(){var elemAd=document.getElementById("header-full-ad");elemAd&&PRIVATE.objAdmanager.stickAd({placeholder:elemAd,area:"cabeceira",tgmkey:PRIVATE.tgmkey})},MODULE.loadAdAnchor=function(elemAd){return elemAd?(window.googletag.pubads().addEventListener("slotRenderEnded",function(event){var containerId;event.slot&&("bottom-ad"!=event.slot.getSlotElementId()||event.isEmpty||(elemAd.parentElement.parentElement.style.height=elemAd.offsetHeight-1+"px"))}),PRIVATE.objAdmanager.stickAd({placeholder:elemAd,area:"ancora",tgmkey:PRIVATE.tgmkey})):Promise.reject()},MODULE.loadAreaAdStick=function(elemAd){var areaAd=elemAd.htmlDataset("areaAd"),elemAd=elemAd.querySelector("div");areaAd&&elemAd&&PRIVATE.objAdmanager.stickAd({placeholder:elemAd,area:areaAd,tgmkey:PRIVATE.tgmkey})},MODULE.loadAdRelatedVideo=function(){var elem=document.getElementById("ad-container-related-video"),observerAdRelatedVideo;elem&&new IntersectionObserver(function callbackLoadAdRelatedVideo(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(console.log("##### observer - callbackLoadAdRelatedVideo target",entry.target),MODULE.loadAreaAdStick(entry.target),observer.disconnect())})},{rootMargin:"0px 0px 400px 0px",threshold:1}).observe(elem)},MODULE.loadAdInread=function(){var elemAd=document.getElementById("ad-video-inread"),observerAdInread;elemAd&&new IntersectionObserver(function callbackAdInread(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(console.log("##### observer - callbackAdInread target",entry.target),PRIVATE.objAdmanager.stickAd({placeholder:entry.target,area:"inread",tgmkey:PRIVATE.tgmkey}),pkg.context.page.on("ad-slotrenderended",function(frame){var frame;!entry.target.querySelector("iframe")||"ad-video-inread"!=frame.id||620<=(frame=entry.target.querySelector("iframe")).clientWidth&&"mob"!==pkg.context.platform.get("type")&&frame.classList.add("ad-video-inread--scale-transform")}),observer.disconnect())})},{threshold:.1}).observe(elemAd)},MODULE.loadAdVarejo=function(){var elemAdVarejo=document.getElementById("ad-varejo"),elemSingleAd,listAutoPlay=[],observerAdVarejo;elemAdVarejo&&new IntersectionObserver(function callbackAdVarejo(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(console.log("##### observer - callbackAdVarejo target",entry.target),PRIVATE.objAdmanager.multiTagsAd({area:"vitrine",tgmkey:PRIVATE.tgmkey}).then(function(obj){var ads=obj.ADS,containerElement=document.querySelector(".table-ad__wapper"),definitionNumberPages=function(){PRIVATE.pages=[];for(var i=0;i<ads.length;i+=PRIVATE.adsLen){var page=ads.slice(i,i+PRIVATE.adsLen);PRIVATE.pages.push(page)}},getAdsLen=function(){var list=containerElement.querySelector("#ad-varejo");PRIVATE.numberPages=2,"mob"===pkg.context.platform.get("type")?(PRIVATE.adsLen=2,PRIVATE.timerAutoPlay=6e3):"web"===pkg.context.platform.get("type")&&containerElement.offsetWidth<=1040?(PRIVATE.adsLen=4,PRIVATE.numberPages=3,PRIVATE.timerAutoPlay=8e3,list.querySelectorAll(".terra-ads__item").forEach(function(el){el.style.margin="0 "+(containerElement.offsetWidth-PRIVATE.adsLen*el.offsetWidth)/(2*PRIVATE.adsLen)+"px"})):"web"===pkg.context.platform.get("type")&&1040<containerElement.offsetWidth&&(PRIVATE.adsLen=6,PRIVATE.numberPages=2,PRIVATE.timerAutoPlay=12e3,list.querySelectorAll(".terra-ads__item").forEach(function(el){el.style.margin="0 "+(containerElement.offsetWidth-PRIVATE.adsLen*el.offsetWidth)/(2*PRIVATE.adsLen)+"px"})),definitionNumberPages(),PRIVATE.carousel&&document.querySelectorAll(".point")&&(PRIVATE.carousel.createPoints(PRIVATE.numberPages),PRIVATE.carousel.reset())},observer;new window.ResizeObserver(getAdsLen).observe(containerElement),getAdsLen();var pageIndex=0,visitedPages=[],counter=0,loadNewAds=function(){if(pageIndex<PRIVATE.pages.length&&!visitedPages.includes(pageIndex)){visitedPages.push(pageIndex);for(var i=0;i<PRIVATE.adsLen;i++)counter<ads.length&&(elemSingleAd=document.querySelector("#ad-varejo_"+counter),ads[counter].placeholder=elemSingleAd.id),counter++;obj.instance.createAds({tgmkey:window.tgmKey,ADS:ads}),pageIndex++}},autoplayers=function(fun,autoPlay){var autoPlay=setInterval(function(){fun()},autoPlay);listAutoPlay.push(autoPlay)};loadNewAds(),autoplayers(loadNewAds,PRIVATE.timerAutoPlay-1e3),"web"===pkg.context.platform.get("type")&&document.querySelector(".ad-varejo-container__icon-right").addEventListener("click",loadNewAds),document.querySelector(".table-ad__wapper")&&pkg.require(["mod.t360.carouselRanges"],function(T360CarouselRanges){PRIVATE.carousel=new T360CarouselRanges({timerAutoplayCarousel:PRIVATE.timerAutoPlay,autoplayCarousel:!0,autoCountItems:!1,containerCarousel:".table-ad__wapper",itemsCarousel:".terra-ads--wrapper",dividerScrollCarousel:1,previousButtonCarousel:".ad-varejo-container__icon-left",nextButtonCarousel:".ad-varejo-container__icon-right",points:".points",pages:PRIVATE.numberPages}),"web"===pkg.context.platform.get("type")&&(document.querySelector(".table-ad__wapper.table-range-flex").addEventListener("mouseover",function(){PRIVATE.carousel.pause(),listAutoPlay.forEach(function(autoplayers){clearInterval(autoplayers)})}),document.querySelector(".table-ad__wapper.table-range-flex").addEventListener("mouseout",function(){PRIVATE.carousel.autoplay(),autoplayers(loadNewAds,PRIVATE.timerAutoPlay-1e3)}))})}),observer.disconnect())})},{rootMargin:"0px 0px 400px 0px",threshold:1}).observe(elemAdVarejo)},MODULE.loadAdOffers=function(){var elemAd=document.getElementById("ad-offers");elemAd&&PRIVATE.objAdmanager.stickAd({placeholder:elemAd,area:"offers",tgmkey:PRIVATE.tgmkey})},MODULE.loadAdRelatedNews=function(table){var elem,areaAd=table.htmlDataset("areaAd"),elemAdByGoogle;(elem=areaAd?document.getElementById("ad-related-r"+areaAd):elem)&&PRIVATE.objAdmanager.stickAd({placeholder:elem,area:"r"+areaAd,tgmkey:PRIVATE.tgmkey}),"web"===pkg.context.platform.type&&table.querySelector(".adsbygoogle")&&((window.adsbygoogle=window.adsbygoogle||[]).push({}),pkg.require(["mod.adsbygoogle"]))},MODULE.loadAdComments=function(){var elemAd=document.getElementById("ad-comments"),observerAdComments;elemAd&&new IntersectionObserver(function callbackAdComments(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(console.log("##### observer - callbackAdComments target",entry.target),PRIVATE.objAdmanager.stickAd({placeholder:entry.target,area:"maissobre",tgmkey:PRIVATE.tgmkey}),observer.disconnect())})},{rootMargin:"0px 0px 400px 0px",threshold:1}).observe(elemAd)},MODULE.loadAdGeneric=function(elemAd,area){elemAd&&PRIVATE.objAdmanager.stickAd({placeholder:elemAd,area:area,tgmkey:PRIVATE.tgmkey})},MODULE.loadAdGenericViewable=function(elemAd,area){var observerAdGeneric;elemAd&&new IntersectionObserver(function callbackAdGeneric(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(console.log("##### observer - callbackAdGeneric target",entry.target),PRIVATE.objAdmanager.stickAd({placeholder:entry.target,area:area,tgmkey:PRIVATE.tgmkey}),observer.disconnect())})},{rootMargin:"0px 0px 400px 0px",threshold:1}).observe(elemAd)},MODULE},teardown:function(data){}})}),zaz.use(function relatedNewsVideo(pkg){"use strict";pkg.require(["modFactory"],function(modFactory){modFactory.create({name:"relatedNewsVideo",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Carrega videos relacionados",tests:"",dependencies:["app.t360.cards","mod.adsCommon"],setup:function(data){var PRIVATE={},MODULE={};return PRIVATE.objCards=new data.dependencies.app.t360.cards({}),PRIVATE.objAdsCommon=data.dependencies.mod.adsCommon,PRIVATE.registerCards=function(){var objCard,cards=[],cards=PRIVATE.elem.querySelectorAll(".t360-terratv--more-videos--card");PRIVATE.objCards.bindEvents(cards,PRIVATE.elem);for(var j=0;j<cards.length;j++)"AD"!==(objCard=cards[j]).htmlDataset("type")&&PRIVATE.objCards.registerMetricCard(objCard,"addImpression",PRIVATE.elem.htmlDataset("area"));window.tga.send("send","pageview",{dimension7:PRIVATE.elem.htmlDataset("contentType"),dimension14:PRIVATE.elem.htmlDataset("area")})},PRIVATE.registerRelacionados=function(){for(var createClosure=function(i){return function(){window.tga.send("send","event","terratv","click","video-"+(i+1))}},cards=document.querySelectorAll("#terratv-carousel-1 .t360-terratv--more-videos--card"),i=0;i<cards.length;i++)cards[i].addEventListener("click",createClosure(i))},MODULE.init=function(){var observerRelatedNewsVideo;PRIVATE.elem=document.querySelector("#terratv-recomendado"),PRIVATE.elem&&new IntersectionObserver(function callbackRelatedNewsVideo(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(console.log("##### observer - callbackRelatedNewsVideo target",entry.target),PRIVATE.registerCards(),PRIVATE.registerRelacionados(),observer.disconnect())})},{rootMargin:"0px 0px 10px 0px",threshold:1}).observe(PRIVATE.elem)},MODULE},teardown:function(data){}})})}),zaz.use(function relatedNews(pkg){"use strict";pkg.require(["modFactory"],function(modFactory){modFactory.create({name:"relatedNews",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Carrega recomendado pra voce",tests:"",dependencies:["app.t360.cards","mod.adsCommon"],setup:function(data){var PRIVATE={},MODULE={};return PRIVATE.objCards=new data.dependencies.app.t360.cards({}),PRIVATE.objAdsCommon=data.dependencies.mod.adsCommon,PRIVATE.registerCards=function(elem){var objCard,itemList,item,viewItemList=[],area=elem.htmlDataset("area"),cards=elem.querySelectorAll(".card, .t360-related-content--most-read--card");PRIVATE.objCards.bindEvents(cards,elem);for(var i=0;i<cards.length;i++)itemList=item=null,"AD"!==(objCard=cards[i]).htmlDataset("type")&&("P"===objCard.htmlDataset("type")?itemList=PRIVATE.getMetricPremium(objCard,data):item=PRIVATE.objCards.registerMetricCard(objCard,"addImpression",area,data.position),item&&""!=item.item_id?viewItemList.push(item):itemList&&0<itemList.length&&(viewItemList=viewItemList.concat(itemList)));window.tga.sendGA4("view_item_list",{item_list_id:area,item_list_name:area,items:viewItemList}),window.tga.send("send","pageview",{dimension7:elem.htmlDataset("contentType"),dimension14:area})},PRIVATE.loadTaboola=function(){var elem;document.getElementById("taboola-below-article-thumbnails")&&(window._taboola=window._taboola||[],window._taboola.push({article:"auto"}),window._taboola.push({mode:"thumbnails-a-1",container:"taboola-below-article-thumbnails",placement:"Below Article Thumbnails",target_type:"mix"}),window._taboola.push({flush:!0}),pkg.require(["mod.taboola"]))},MODULE.init=function(){var loadAds=!1!==pkg.context.page.get("loadAds"),observerRelatedNewsPV,rootMargin,observerRelatedNewsLoad,observerRelatedNewsLoadAds;PRIVATE.elemRelatedContent=document.querySelectorAll(".t360-related-content, .app-t360-user-table"),loadAds||"mob"===pkg.context.platform.get("type")||document.querySelectorAll(".t360-related-content .t360-related-content--table").forEach(function(elem){elem.className=elem.className.replace("t360-related-content--table","t360-related-content--table-noads")}),PRIVATE.elemRelatedContent&&(observerRelatedNewsPV=new IntersectionObserver(function callbackRelatedNews(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(PRIVATE.registerCards(entry.target),observer.unobserve(entry.target))})},{rootMargin:"0px",threshold:[0,.01]}),PRIVATE.elemRelatedContent.forEach(function(elem){-1<elem.htmlDataset("area").search("CONTENT-RELATEDNEWS")&&observerRelatedNewsPV.observe(elem)}),rootMargin="1000px 0px 1400px 0px","mob"==pkg.context.platform.get("type")&&(rootMargin="2000px 0px 2800px 0px"),observerRelatedNewsLoad=new IntersectionObserver(function callbackRelatedNews(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&("TABOOLA"==entry.target.htmlDataset("area")&&loadAds?PRIVATE.loadTaboola():"USER-TABLE"==entry.target.htmlDataset("area")&&pkg.require("mod.userArea",function(ModUserTable){ModUserTable.init()}),observer.unobserve(entry.target))})},{rootMargin:rootMargin,threshold:[0,.01]}),PRIVATE.elemRelatedContent.forEach(function(elem){-1==elem.htmlDataset("area").search("CONTENT-RELATEDNEWS")&&observerRelatedNewsLoad.observe(elem)}),observerRelatedNewsLoadAds=new IntersectionObserver(function callbackRelatedNews(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(PRIVATE.objAdsCommon.admanagerSetup().then(function(tgmkey){PRIVATE.objAdsCommon.loadAdRelatedNews(entry.target)}),observer.unobserve(entry.target))})},{rootMargin:"0px 0px 200px 0px",threshold:[0,.01]}),PRIVATE.elemRelatedContent.forEach(function(elem){-1<elem.htmlDataset("area").search("CONTENT-RELATEDNEWS")&&observerRelatedNewsLoadAds.observe(elem)}))},MODULE},teardown:function(data){}})})}),zaz.use(function VideoChapters(pkg){"use strict";pkg.factoryManager.get("mod").create({name:"videoChapters",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Montar o header do Artigo",dependencies:[],tests:"",setup:function(data){var MODULE={},PRIVATE={data:data};return MODULE.init=function(){document.querySelectorAll(".t360-terratv__timestamps__link").forEach(function(link){link.addEventListener("click",function(e){e.preventDefault(),document.querySelector(".video-main__player").scrollIntoView({behavior:"smooth",block:"center"}),window.p1.videojsPlayer.currentTime(e.target.dataset.timestamp),window.p1.videojsPlayer.play()})})},MODULE},teardown:function(data){}})}),zaz.use(function VideoPlaylist(pkg){"use strict";pkg.factoryManager.get("mod").create({name:"videoPlaylist",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Controle de playlist de videos",dependencies:[],tests:"",setup:function(){var MODULE={init:function(PRIVATE){var PRIVATE=PRIVATE||{},hasEnoughScrollLimit,currentItemOverflowing;PRIVATE.elemPlaylistQueue=document.getElementById("t360-terratv-playlist-queue"),PRIVATE.elemCurrentPlaylistItem=PRIVATE.elemPlaylistQueue.querySelector(".watching");try{pkg.context.user.get("watched-videos",function(userWatchedVideos){userWatchedVideos&&Object.values(userWatchedVideos).forEach(function(elemPlaylistItem){var elemPlaylistItem=document.getElementById("playlist-video-"+elemPlaylistItem);elemPlaylistItem&&elemPlaylistItem.classList.add("watched")})}),PRIVATE.elemPlaylistQueue&&(hasEnoughScrollLimit=PRIVATE.elemCurrentPlaylistItem.offsetTop<=PRIVATE.elemPlaylistQueue.scrollHeight-PRIVATE.elemPlaylistQueue.clientHeight,currentItemOverflowing=PRIVATE.elemCurrentPlaylistItem.offsetTop+PRIVATE.elemCurrentPlaylistItem.clientHeight>=PRIVATE.elemPlaylistQueue.clientHeight,(hasEnoughScrollLimit||currentItemOverflowing)&&PRIVATE.elemPlaylistQueue.scroll(0,PRIVATE.elemCurrentPlaylistItem.offsetTop))}catch(err){console.error(err)}}};return MODULE},teardown:function(data){}})}),zaz.use(function appSignNotification(pkg){"use strict";var console=pkg.console,appFactory,STATIC_PUBLIC=null,STATIC_PRIVATE={};pkg.factoryManager.get("app").create({name:"signNotification",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/pages/terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Just another app",tests:"http://s1.trrsf.com/fe/zaz-ui-t360-content/tests/index.htm?zaz[env]=tests",dependencies:[],dictionaries:[],templates:{"sing-notification":'<div class="article-sign-notifications">  <div class="article-sign-notifications__title">     {{ notifyText }}  </div>  <div class="article-sign-notifications__button">     <span class="article-sign-notifications__button--title">Ativar notificações</span>     <span class="icon-solid icon-16 icon-bell"></span>  </div></div>',whatsapp:'<div class="t360-embed-whatsapp">    <div class="t360-embed-whatsapp__text">{{text}}<span>{{highlightText}}</span></div>    <a href="{{whatsappLink}}" target="_blank" class="t360-embed-whatsapp__bt-subscribe">        <div class="t360-embed-whatsapp__bt-subscribe--text">Inscreva-se</div>        <div class="t360-embed-whatsapp__bt-subscribe--icon"><span class="icon-solid icon-color-black icon-16 icon-whatsapp-solid"></span></div>    </a></div>'},expects:{},setup:function(STATIC_PUBLIC,PUBLIC,__shared){},init:function(data,__shared){var PUBLIC=this,PRIVATE={};return PRIVATE.signNotificationsContainer=data.container,PRIVATE.loadNotification=function(){var notifyText=pkg.context.page.get("notifyText")||"Fique por dentro das principais notícias";PRIVATE.elemSingNotification=PUBLIC.templates.render("sing-notification",{notifyText:notifyText});var notifyKey=pkg.context.page.get("notifyKey")||"breakingnews";pkg.require(["mod.t360.notificationsHelper"],function(notificationsHelper){var supportsPush;notificationsHelper.browserSupportsPush()&&"denied"!=window.Notification.permission?pkg.context.user.get("userArea",function(userArea){var signNotificationsButton,signNotificationsButtonTitle;userArea&&userArea.notifications&&userArea.notifications[notifyKey]?PRIVATE.hasWhatsNotification||PRIVATE.loadWhatsapp():(signNotificationsButton=PRIVATE.elemSingNotification.querySelector(".article-sign-notifications__button"),signNotificationsButtonTitle=PRIVATE.elemSingNotification.querySelector(".article-sign-notifications__button--title"),PRIVATE.signNotificationsContainer.appendChild(PRIVATE.elemSingNotification.firstElementChild),signNotificationsButton.addEventListener("click",function(ev){var segment="br_"+notifyKey,stalkerKeyName=notifyKey;signNotificationsButtonTitle.innerHTML="Aguarde...",signNotificationsButton.style.cursor="default",window.tga.send("send","event","notifications-button","click",stalkerKeyName),signNotificationsButton.style.backgroundColor="#808080",notificationsHelper.subscribeSegment("segments_add",segment,stalkerKeyName).then(function(){signNotificationsButtonTitle.innerHTML="Notificação ativa"}).catch(function(){signNotificationsButtonTitle.innerHTML="Não foi possível realizar a inscrição."})},{once:!0}))}):PRIVATE.hasWhatsNotification||PRIVATE.loadWhatsapp()})},PRIVATE.loadWhatsapp=function(){pkg.require(["mod.notifications"],function(modNotification){PRIVATE.channelId.find(function(element){return"vida-e-estilo"==element})?(PRIVATE.elemSingNotification=PUBLIC.templates.get("whatsapp").render({text:"Receba previsões diárias e fique por dentro do mundo astrológico através do nosso ",whatsappLink:"https://whatsapp.com/channel/0029VaXtqcl5K3zYJfPfq423",highlightText:"WhatsApp"}),PRIVATE.signNotificationsContainer.innerHTML=PRIVATE.elemSingNotification):modNotification.getAllNotifications(function(notificationsUpdated){for(var i=0,unreadWebPushNotification;i<notificationsUpdated.length;i++){"user_whatsapp"===notificationsUpdated[i].group&&(unreadWebPushNotification=notificationsUpdated[i],notificationsUpdated[i].whatsappConfirmation&&(PRIVATE.hasWhatsNotification=!0))}PRIVATE.hasWhatsNotification?PRIVATE.loadNotification():(PRIVATE.elemSingNotification=PUBLIC.templates.get("whatsapp").render({text:"Curtiu? Fique por dentro das principais notícias através do nosso ",whatsappLink:"https://whatsapp.com/channel/0029VaDGPXE0rGiN2XvTl03k",highlightText:"ZAP"}),PRIVATE.signNotificationsContainer.innerHTML=PRIVATE.elemSingNotification,PRIVATE.signNotificationsContainer.querySelector(".t360-embed-whatsapp__bt-subscribe").addEventListener("click",function(ev){window.tga.send("send","event","whatsapp-footer-subscriptions","click","channel-agora"),modNotification.update(unreadWebPushNotification.id,{whatsappConfirmation:!0}),modNotification.setRead(unreadWebPushNotification.id,"")}))})})},PUBLIC.init=function(){var templates,templateSelected,random,templateSelected;PRIVATE.signNotificationsContainer&&(templateSelected=(templates=[templateSelected="sing-notification","whatsapp"])[Math.floor(Math.random()*templates.length)],PRIVATE.hasWhatsNotification=!1,PRIVATE.channelId=pkg.context.page.channelPath.split("."),"sing-notification"==templateSelected?PRIVATE.loadNotification():PRIVATE.loadWhatsapp())},PUBLIC},teardown:function(why,__static,__proto,__shared){}})}),zaz.use(function Sharebar(pkg){"use strict";var console=pkg.console,appFactory,STATIC_PUBLIC=null,STATIC_PRIVATE={};pkg.factoryManager.get("app").create({name:"t360.sharebar",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"",dependencies:["app.t360.navbar"],tests:"",templates:{},setup:function(STATIC_PUBLIC,PUBLIC,__shared){},init:function(data,__shared){var PUBLIC=this,PRIVATE={decodeEntities:function(encodedString){var div=document.createElement("div");return div.innerHTML=encodedString,div.textContent}};return this.updateUrl=function updateUrl(url){PRIVATE.sharingUrl=url},PRIVATE.sharingUrl=data.sharingURL||pkg.context.page.get("canonical_url"),PRIVATE.sharingImage=document.querySelector('meta[property="og:image"]').content,PRIVATE.sharingDescription=document.querySelector('meta[property="og:title"]').content,PRIVATE.sharingTitle=window.encodeURIComponent(PRIVATE.decodeEntities(window.trr.contextData.contentPage.content_title)),PRIVATE.sharingMetricType=null!=data.metricType?data.metricType:"article",PRIVATE.deviceType=pkg.context.platform.type,PRIVATE.socials=["whatsapp","facebook","twitter","pinterest"],PRIVATE.clickFunctions={whatsapp:function(urlWhatsApp){urlWhatsApp.stopPropagation();var urlWhatsApp="mob"===PRIVATE.deviceType?"whatsapp://send?text=":"https://web.whatsapp.com/send?text=";urlWhatsApp+=PRIVATE.sharingUrl+"%3Futm_source%3DWhatsapp%26utm_medium%3DSOCIAL",window.open(urlWhatsApp),window.tga.send("send","event",PRIVATE.sharingMetricType,"share","whatsapp")},facebook:function(event){event.stopPropagation(),window.open("http://www.facebook.com/sharer/sharer.php?u="+PRIVATE.sharingUrl,"_blank","width=520,height=420,top="+(screen.height-420)/2+",left="+(screen.width-520)/2,"Facebook"),window.tga.send("send","event",PRIVATE.sharingMetricType,"share","facebook")},twitter:function(event){event.stopPropagation(),window.open("https://twitter.com/intent/tweet?text="+PRIVATE.sharingTitle+"&url="+PRIVATE.sharingUrl,"_blank","width=520,height=420,top="+(screen.height-420)/2+",left="+(screen.width-520)/2,"Twitter"),window.tga.send("send","event",PRIVATE.sharingMetricType,"share","twitter")},pinterest:function(event){event.stopPropagation(),window.open("http://www.pinterest.com/pin/create/button/?url="+PRIVATE.sharingUrl+"&media="+PRIVATE.sharingImage+"&description="+PRIVATE.sharingDescription,"_blank","width=520,height=420,top="+(screen.height-420)/2+",left="+(screen.width-520)/2,"Pinterest"),window.tga.send("send","event",PRIVATE.sharingMetricType,"share","pinterest")},shareMobile:function(sb){sb.classList.toggle("active"),window.tga.send("send","event",PRIVATE.sharingMetricType,"share","non-native")},shareMobileNative:function(){navigator.share({title:document.title,url:PRIVATE.sharingUrl}),window.tga.send("send","event",PRIVATE.sharingMetricType,"share","native")}},PRIVATE.renderShareOptions=function(sb){var elemIconsContainer=document.createElement("div");elemIconsContainer.className="t360-sharebar__options",PRIVATE.socials.forEach(function(social){var elemIconsItem=document.createElement("span");elemIconsItem.className="icon icon-24 icon-"+social+"-color",elemIconsItem.addEventListener("click",PRIVATE.clickFunctions[social]),elemIconsContainer.appendChild(elemIconsItem)}),sb.parentElement.appendChild(elemIconsContainer)},PRIVATE.load=function(sb){PRIVATE.renderShareOptions(sb),"mob"===PRIVATE.deviceType?sb.addEventListener("click",function(){navigator&&navigator.share?PRIVATE.clickFunctions.shareMobileNative():PRIVATE.clickFunctions.shareMobile(sb)}):sb.addEventListener("click",function(event){event.preventDefault(),this.classList.toggle("active")})},data.sharebars.forEach(function(sb){PRIVATE.load(sb)}),this},teardown:function(data){}})}),zaz.use(function articleUserArea(pkg){"use strict";pkg.require(["modFactory"],function(modFactory){modFactory.create({name:"userArea",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/pages/terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Carregamento do feed para a user area no fim do artigo",tests:"http://s1.trrsf.com/fe/zaz-ui-t360-content/tests/index.htm?zaz[env]=tests",dependencies:["mod.regMetrics","app.t360.cards","ui.t360.home.style"],setup:function(data){var PRIVATE={},MODULE={},CONTEXT={timelineApps:[]};return PRIVATE.elemHomeTables=document.querySelector(".app-t360-user-table"),PRIVATE.appCards=new data.dependencies.app.t360.cards({}),PRIVATE.getTgmKey=function(){PRIVATE.tgmKey=pkg.context.page.get("tgmkey")||window.tgmKey||"br.homepage.home";var adsWallObj=null;try{adsWallObj=JSON.parse(localStorage.getItem("adsWallStatus"))}catch(e){}"NOT"===window.terra_info_type&&adsWallObj&&adsWallObj.reduceAds?PRIVATE.tgmKey="br.none.none":"object"==typeof PRIVATE.tgmKey&&PRIVATE.tgmKey.home&&(PRIVATE.tgmKey=PRIVATE.tgmKey.home)},PRIVATE.getContext=function(){var queryStrings=pkg.context.page.get("query");queryStrings&&queryStrings.croupier&&(CONTEXT.croupier=queryStrings.croupier),queryStrings&&queryStrings.renderer&&(CONTEXT.renderer=queryStrings.renderer),queryStrings&&queryStrings.taboola&&(CONTEXT.taboola=queryStrings.taboola),CONTEXT.channelId=window.trr.contextData.coverChannelId,CONTEXT.pageSize=pkg.context.page.get("pageSize")||"80",CONTEXT.timelineSize=pkg.context.page.get("timelineSize")||"240",CONTEXT.channelPath="Brasil",CONTEXT.lomas=pkg.context.page.get("lomas")||"br.*.*",CONTEXT.dflt=pkg.context.page.get("dflt")||"0",CONTEXT.feedUuid=pkg.context.page.get("uuid")||"5b871271-c0b2-48b0-9097-9f6485973132",CONTEXT.nativeAd=pkg.context.page.get("nativeAd")||"0",CONTEXT.musaIdTeam=pkg.context.page.get("musaIdTeam")||"",CONTEXT.channel="home",CONTEXT.cardTypes="app.t360.userTable",CONTEXT.country="br",CONTEXT.lang="pt",CONTEXT.locale="pt-BR",CONTEXT.countryLive="br",CONTEXT.prioritized=pkg.context.page.get("prioritized"),CONTEXT.hasPagination=pkg.context.page.get("hasPagination")||"false",CONTEXT.colorPage=pkg.context.page.get("colorPage")||"",CONTEXT.truvid=pkg.context.page.get("truvid")||""},PRIVATE.setCroupierURL=function(){var croupierURL=location.protocol+"//"+location.hostname;location.port&&(croupierURL+=":"+location.port),croupierURL+="?html=1&ch="+CONTEXT.channelId,croupierURL+="&p=1",croupierURL+="&psz="+CONTEXT.pageSize,croupierURL+="&cb=timeline_cb",croupierURL+="&sz="+CONTEXT.timelineSize,croupierURL+="&channel_path="+CONTEXT.channelPath,croupierURL+="&lomas="+CONTEXT.lomas,croupierURL+="&dflt="+CONTEXT.dflt,croupierURL+="&f=1",croupierURL+="&card_types="+CONTEXT.cardTypes,croupierURL+="&country="+CONTEXT.country,croupierURL+="&position_web=all",croupierURL+="&terra360=1","false"===CONTEXT.prioritized&&(croupierURL+="&prioritized="+CONTEXT.prioritized),croupierURL+="&context=country="+CONTEXT.country,croupierURL+=",lang="+CONTEXT.lang,croupierURL+=",locale="+CONTEXT.locale,croupierURL+=",channel="+CONTEXT.channel,croupierURL+=",idItemMenu="+CONTEXT.channel,croupierURL+=",countryLive="+CONTEXT.countryLive,croupierURL+=",device="+pkg.context.platform.get("type"),croupierURL+=",channelID="+CONTEXT.channelId,croupierURL+=",deliverFormat=json",croupierURL+=",channelPath="+CONTEXT.channelPath,croupierURL+=",tgmKey="+PRIVATE.tgmKey,croupierURL+=",isLatestPage=false",croupierURL+=",editorialTable=editorial-1",croupierURL+=",playerHighlight=low",croupierURL+=",tableSequence=1",croupierURL+=",adRepetitionTableCount=1",croupierURL+=",nativeAd="+CONTEXT.nativeAd,croupierURL+=",isHome=false",croupierURL+=",hasLive=0",croupierURL+=",musaIdTeam="+CONTEXT.musaIdTeam,croupierURL+=",color_page="+CONTEXT.colorPage,croupierURL+=",truvid="+CONTEXT.truvid,croupierURL+=",read_autoplay=",croupierURL+=",taboola="+CONTEXT.taboola,CONTEXT.croupier&&(croupierURL+="&croupier="+CONTEXT.croupier),CONTEXT.renderer&&(croupierURL+="&renderer="+CONTEXT.renderer),PRIVATE.croupierURL=croupierURL},PRIVATE.fetchFeed=function(){return fetch(PRIVATE.croupierURL,{method:"GET",headers:{"Content-Type":"application/json","X-XACT-Function":"timeline","X-XAct-Original-UUID":CONTEXT.feedUuid}})},PRIVATE.createTableFragment=function(tableHTML){var elemTemp=document.createElement("div"),fragment=document.createDocumentFragment();elemTemp.innerHTML=tableHTML.trim();for(var i=0;i<elemTemp.childNodes.length;i++)fragment.appendChild(elemTemp.childNodes[i]);return fragment},PRIVATE.insertTables=function(){var elem,elemTableNews,loadAds=!1!==pkg.context.page.get("loadAds"),elem;return 0<PRIVATE.tablesBuffer.length&&(PRIVATE.tableLoadingComplete=!1,elem=PRIVATE.tablesBuffer.shift(),(elemTableNews=elem.firstChild)&&(loadAds||((elem=elemTableNews.querySelector(".card-ad"))&&"mob"==pkg.context.platform.get("type")?elem.parentNode.removeChild(elem):elem&&(elem.innerHTML='<iframe src="https://www.terra.com.br/globalSTATIC/fe/zaz-calhau-news/_templates/300x250.html" width="300" height="250" style="margin: 5px"></iframe><div class="card-ad__title">Mais lidas</div>')),PRIVATE.elemHomeTables.replaceWith(elemTableNews),PRIVATE.setTableEvents([elemTableNews]),pkg.require(["app.t360.userTable"],function(UserTable){var objApp,tgmkeyGroup;UserTable&&(objApp=new UserTable({data:{},container:elemTableNews}),!loadAds||(tgmkeyGroup=pkg.context.page.get("tgmkey"))&&tgmkeyGroup.content&&pkg.require(["mod.manager"],function(AdManager){var objAdmanager;(new AdManager).stickAd({placeholder:elemTableNews.querySelector(".card-ad__content"),area:elemTableNews.querySelector(".card-ad").htmlDataset("adArea"),tgmkey:tgmkeyGroup.content})}))}))),PRIVATE.tablesBuffer.length},PRIVATE.setTableEvents=function(tables){for(var i=0,tableArea=0,tableSetViewable=!1,tablePosition,tableAreaAd,typeAd,tableType=0,i=0,observerTableMetrics,tableType,tablePosition,tableAreaAd,typeAd,tableArea,tableSetViewable;i<tables.length;i++){tables[i]&&(tableArea=tables[i].htmlDataset("area"),tables[i].htmlDataset("setViewable")||(tableType=tables[i].htmlDataset("type"),tablePosition=parseInt(tables[i].htmlDataset("position")),tableAreaAd=parseInt(tables[i].htmlDataset("areaAd")),typeAd=tables[i].htmlDataset("typeAd"),tables[i].htmlDataset("setViewable",!0),tablePosition&&(PRIVATE.tablePosition=tablePosition,PRIVATE.tableAdSequence=tablePosition),"STICK"!=typeAd&&-1<tableAreaAd&&(PRIVATE.tableAreaAd=tableAreaAd),"AD"!==tableType&&tableArea&&new IntersectionObserver(function callbackUserAreaMetrics(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(PRIVATE.tableRegisterMetrics(entry.target),observer.disconnect())})},{rootMargin:"0px 0px -50% 0px",threshold:.01}).observe(tables[i])))}},PRIVATE.tableRegisterMetrics=function(table){if(!table||table.htmlDataset("regMetrics"))return!1;var listCards=PRIVATE.getCardList(table);"NEWS"===table.htmlDataset("type")||"PARTIAL"===table.htmlDataset("type")?pkg.context.page.trigger("register-metrics",{sender:"app.infinite",type:"card-view",tableType:"NEWS",cards:listCards,area:table.htmlDataset("area"),position:table.htmlDataset("position")}):"TABLE-APP"===table.htmlDataset("type")&&pkg.context.page.trigger("register-metrics",{sender:"app.infinite",type:"card-view",tableType:"TABLE-APP",cards:listCards,area:table.htmlDataset("area"),position:table.htmlDataset("position")}),PRIVATE.appCards.bindEvents(listCards,table),table.htmlDataset("regMetrics",!0)},PRIVATE.getCardList=function(table){var listCards=table.querySelectorAll(".card");return listCards=0==listCards.length?table.querySelectorAll(".card-metric"):listCards},MODULE.init=function(){PRIVATE.getTgmKey(),PRIVATE.getContext(),PRIVATE.setCroupierURL(),PRIVATE.fetchFeed().then(function(response){return!(!response||!response.ok)&&response.json()}).then(function(data){if(!data)return!1;var x,elemTable,elemTemp,nameApp,dataApp;if(PRIVATE.tablesBuffer=[],PRIVATE.includerComponents={},data&&data.tables&&data.timelineApps){for(x in data.tables)data.tables.hasOwnProperty(x)&&data.tables[x]&&data.tables[x].html&&-1!=data.tables[x].html.indexOf("app-t360-user-table")&&((elemTemp=(elemTable=PRIVATE.createTableFragment(data.tables[x].html)).querySelector(".table-news"))&&(nameApp=elemTemp.htmlDataset("appName"))&&(PRIVATE.includerComponents[nameApp]=!0),PRIVATE.tablesBuffer.push(elemTable));for(x in"mob"!==pkg.context.platform.get("type")&&Object.keys(PRIVATE.includerComponents)&&pkg.includer.load(Object.keys(PRIVATE.includerComponents)),data.timelineApps)if(data.timelineApps.hasOwnProperty(x)){dataApp=data.timelineApps[x],CONTEXT.timelineApps[x]=dataApp;for(var i=0;i<dataApp.items.length;i++)"A"==dataApp.items[i].type&&(CONTEXT.timelineApps[dataApp.items[i].id]=dataApp.items[i])}}PRIVATE.insertTables()})},MODULE},teardown:function(data){}})})}),zaz.use(function t360Content(pkg){"use strict";var console=pkg.console;pkg.context.page.get("loadAds")&&pkg.require("mod.adsCommon",function(AdsCommon){AdsCommon.admanagerSetup().then(function(tgmkey){AdsCommon.loadAdHeader(),AdsCommon.loadAdVarejo();var adComments=document.getElementById("ad-content-s1");AdsCommon.loadAdGenericViewable(adComments,"s1");var adComments=document.getElementById("ad-comments");AdsCommon.loadAdGenericViewable(adComments,"maissobre")})},function(exception){console.error('Exception requiring "mod.adsCommon": ',exception)}),pkg.require("mod.relatedNewsVideo",function(Related){Related.init()},function(exception){console.error('Exception requiring "mod.relatedNewsVideo": ',exception)}),pkg.require("app.t360.navbar",function(AppNavbar){var app=new AppNavbar},function(exception){console.error('Exception requiring "app.t360.navbar": ',exception)}),pkg.require(["app.player"],function(Player){var container=document.querySelector(".t360-terratv .player-embed"),videoId,qs,data,elemNextVideo,elemCurrentVideo,autoPlay,autoPip,data;container&&(videoId=container.dataset.id,data=0,(qs=pkg.context.page.get("query"))&&qs.t&&0<parseInt(qs.t)&&(data=parseInt(qs.t)),data={videoId:videoId,container:container,autoPlay:autoPip=autoPlay=!0,poster:pkg.context.page.get("prePoster"),startMuted:!1,isEmbedded:!1,metricScenario:"clicked",autoLoad:!0,autoPip:!0,advertise:{enabled:pkg.context.page.get("loadAds")},videoContentType:pkg.context.page.get("videoContentType"),isLive:pkg.context.page.get("isLive")||!1,startsAt:pkg.context.page.get("isLive")?null:data,shareURL:pkg.context.page.get("canonical_url"),onReady:function(playerObj){var elemRelatedVideos,elemRelatedVideos;pkg.context.page.get("hasPlaylist")?(pkg.require("mod.videoPlaylist",function(videoPlaylist){var playlistContainer;document.getElementById("t360-terratv-playlist")&&videoPlaylist.init({player:playerObj})},function(exception){console.error('Exception requiring "mod.videoPlaylist": ',exception)}),(elemRelatedVideos=document.getElementById("t360-terratv-playlist-queue"))&&(elemCurrentVideo=elemRelatedVideos.querySelector(".watching"))&&(elemNextVideo=elemCurrentVideo.nextElementSibling)):(elemRelatedVideos=document.getElementById("t360-terratv-related-videos"))&&(elemCurrentVideo=elemRelatedVideos.querySelector(".watching"))&&(elemNextVideo=elemCurrentVideo.nextElementSibling),elemNextVideo?(playerObj.api.setupTransition(Player.CONTINUOUS_PLAY,elemNextVideo.dataset.id),playerObj.events.on("nextVideo",function(data){window.location.href=elemNextVideo.querySelector("a").href})):playerObj.api.setupTransition(Player.RELATED_LIST),playerObj.events.on("player-progress",function(progress){"75%"===progress&&pkg.context.user.get("watched-videos",function(userWatchedVideos){var currentVideoId=playerObj.inputData.videoId;userWatchedVideos&&!1===(userWatchedVideos=Object.values(userWatchedVideos)).includes(currentVideoId)&&userWatchedVideos.push(currentVideoId),pkg.context.user.set("watched-videos",userWatchedVideos||[currentVideoId])})})}},window.p1=new Player(data))},function(exception){console.error('Exception requiring "app.player": ',exception)}),pkg.context.page.get("videoWithTimestamps")&&pkg.require("mod.videoChapters",function(videoChapters){videoChapters.init()},function(exception){console.error('Exception requiring "mod.videoChapters": ',exception)}),pkg.require(["app.signNotification"],function(SignNotification){var obj;new SignNotification({}).init()}),pkg.require("app.t360.footer",function(Footer){var elem=document.getElementById("app-t360-footer"),f;elem&&(f=new Footer({container:elem}))},function(exception){console.error('Exception requiring "app.t360.footer": ',exception)}),pkg.require("app.t360.sharebar",function(ShareBar){var elements=document.querySelectorAll(".t360-sharebar"),app;elements&&(app=new ShareBar({sharebars:elements}))},function(exception){console.error('Exception requiring "mod.t360.sharebar": ',exception)}),pkg.require(["mod.userNavigation"],function(userNavigation){userNavigation.setRead()});var buttonReadLess=document.querySelectorAll(".t360-partner-icons > a"),relatedContentMenuTabs,videoDescription,buttonReadMore,buttonReadLess;0<buttonReadLess.length&&window.tga.event("social networks","click",buttonReadLess),pkg.require("mod.relatedNews",function(RelatedNews){RelatedNews.init()},function(exception){console.error('Exception requirering "mod.relatedNews": ',exception)}),document.querySelectorAll(".t360-terratv--related--menu--item").forEach(function(tab){tab.addEventListener("click",function(evt){var previouslyShownBox=evt.target.parentElement.querySelector(".selected");previouslyShownBox&&previouslyShownBox.classList.remove("selected"),evt.target.classList.add("selected");var previouslyShownBox=evt.target.closest(".t360-terratv--related").querySelector(".t360-terratv--related--box.show");previouslyShownBox&&previouslyShownBox.classList.remove("show"),document.getElementById(evt.target.dataset.content).classList.add("show")})}),"mob"===pkg.context.platform.type&&(videoDescription=document.querySelector(".t360-terratv--description"),buttonReadMore=document.getElementById("terratv-description-read-more"),buttonReadLess=document.getElementById("terratv-description-read-less"),buttonReadMore&&buttonReadLess&&videoDescription&&300<videoDescription.textContent.match(/[^\s]+.+/)[0].length&&(buttonReadMore.style.display="block",buttonReadMore.addEventListener("click",function(evt){buttonReadMore.style.display="",evt.target.parentElement.classList.add("reveal-text")}),buttonReadLess.addEventListener("click",function(evt){buttonReadMore.style.display="block",evt.target.parentElement.classList.remove("reveal-text")}))),window.tga.send("send","pageview")});