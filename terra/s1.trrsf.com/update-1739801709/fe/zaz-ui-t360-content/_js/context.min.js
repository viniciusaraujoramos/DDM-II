/*! zaz-ui-t360-content - v1.0.13 - 17/02/2025 -- 2:13pm */

zaz.use(function Ads(pkg){"use strict";pkg.factoryManager.get("mod").create({name:"ads",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Montar o header do Artigo",dependencies:["mod.manager","app.t360.navbar","mod.adsCommon","mod.adAnchor"],tests:"",setup:function(data){var MODULE={},PRIVATE={adStepPosition:750,arrayRightAds:[],arrayLeftAds:[]};return PRIVATE.objNavbar=new data.dependencies.app.t360.navbar,PRIVATE.objAdmanager=new data.dependencies.mod.adManager,PRIVATE.objAdsCommon=data.dependencies.mod.adsCommon,PRIVATE.objAdAnchor=data.dependencies.mod.adAnchor,PRIVATE.loadAdContent=function(){PRIVATE.elemArticleRightFloating=document.querySelector(".article__content--right__floating"),PRIVATE.elemArticleRight=document.querySelector(".article__content--right"),PRIVATE.elemAdFull=document.getElementById("header-full-ad"),PRIVATE.elemAdContentS1||(PRIVATE.elemAdContentS1=PRIVATE.elemArticleRight.querySelector(".card-ad")),PRIVATE.arrayRightAds.push(PRIVATE.elemAdContentS1),PRIVATE.elemAdContentS1.htmlDataset("showAd",!0),PRIVATE.loadAreaAd(PRIVATE.elemAdContentS1),PRIVATE.addHtmlAds(),PRIVATE.activeAnchor(),PRIVATE.loadLeftAds()},PRIVATE.loadAreaAd=function(elemAd){var areaAd=elemAd.htmlDataset("areaAd");PRIVATE.objAdmanager.getViewportAds(areaAd).then(function(obj){for(var ads=obj.ADS,adsLen=ads.length,x=0;x<adsLen;x++)"full"===ads[x].type&&1==areaAd||(ads[x].placeholder="ad-content-s"+areaAd);obj.instance.createAds({tgmkey:"br",ADS:ads})})},PRIVATE.loadLeftAds=function(){for(var arrayLength=PRIVATE.arrayLeftAds.length,i=0;i<arrayLength;i++)PRIVATE.registerAdViewable(PRIVATE.arrayLeftAds[i])},PRIVATE.loadSpecialAfterContentAd=function(){var container=document.getElementById("ad-container-s3");container&&PRIVATE.registerAdViewable(container)},PRIVATE.activeAnchor=function(){PRIVATE.elemNavbar=document.querySelector(".zaz-app-t360-navbar .navbar"),PRIVATE.currentArea=0;for(var anchorScrollAds=function(event){var st=window.pageYOffset||document.documentElement.scrollTop,headerSize=PRIVATE.elemNavbar.offsetHeight,positionFloating,positionFinalAnchor,sizeScrollNextAd=PRIVATE.adStepPosition+283,positionStartAnchor=0;"hide"==PRIVATE.objNavbar.getStatusDisplay()&&(headerSize=0);for(var distanceFromTopOfPage=PRIVATE.elemArticleRight.offsetTop,parent=PRIVATE.elemArticleRight.offsetParent;parent;)distanceFromTopOfPage+=parent.offsetTop,parent=parent.offsetParent;"stick"==PRIVATE.statusS0&&(headerSize+=PRIVATE.elemAdFull.offsetHeight),positionStartAnchor=distanceFromTopOfPage-headerSize-20,positionFinalAnchor=distanceFromTopOfPage+PRIVATE.elemArticleRight.offsetHeight-PRIVATE.arrayRightAds[PRIVATE.arrayRightAds.length-1].offsetHeight-headerSize-20,PRIVATE.arrayRightAds[PRIVATE.currentArea+1]&&st>positionStartAnchor+(PRIVATE.currentArea+1)*sizeScrollNextAd?(PRIVATE.arrayRightAds[PRIVATE.currentArea].classList.remove("show"),PRIVATE.currentArea++,PRIVATE.arrayRightAds[PRIVATE.currentArea].htmlDataset("showAd")||(PRIVATE.arrayRightAds[PRIVATE.currentArea].htmlDataset("showAd",!0),PRIVATE.loadAreaAd(PRIVATE.arrayRightAds[PRIVATE.currentArea]))):0<PRIVATE.currentArea&&st<positionStartAnchor+PRIVATE.currentArea*sizeScrollNextAd?(PRIVATE.arrayRightAds[PRIVATE.currentArea].classList.remove("show"),PRIVATE.currentArea--):st<=positionFinalAnchor&&positionStartAnchor<st?(PRIVATE.arrayRightAds[PRIVATE.currentArea].classList.add("show"),positionFloating=PRIVATE.arrayRightAds[PRIVATE.currentArea].offsetTop,PRIVATE.elemArticleRightFloating.style.top=headerSize+20+"px",PRIVATE.elemArticleRightFloating.style.position="fixed"):st<=positionStartAnchor?(PRIVATE.currentArea=0,PRIVATE.arrayRightAds[PRIVATE.currentArea].classList.add("show"),PRIVATE.elemArticleRightFloating.style.top="inherit",PRIVATE.elemArticleRightFloating.style.position="relative"):positionFinalAnchor<st&&(PRIVATE.elemArticleRightFloating.style.top="inherit",PRIVATE.elemArticleRightFloating.style.bottom=0,PRIVATE.elemArticleRightFloating.style.position="absolute")},i=0;i<PRIVATE.arrayRightAds.length;i++)anchorScrollAds();window.addEventListener("scroll",anchorScrollAds),pkg.context.page.at("mod-stick-header",function(data){PRIVATE.statusS0=data.status,anchorScrollAds()})},PRIVATE.addHtmlAds=function(){var rightColumnHeight=PRIVATE.elemArticleRight.offsetHeight,numberOfAds=parseInt(rightColumnHeight/PRIVATE.adStepPosition),inreadAd;if(1<numberOfAds)for(var i=2;i<=numberOfAds;i++)PRIVATE.createAdElement(i,inreadAd=i%3==0,i*PRIVATE.adStepPosition)},PRIVATE.createAdElement=function(area,inreadAd,positionTop){var elemCardAd=document.createElement("div");elemCardAd.className="card-ad"+(inreadAd?" card-ad-full ad-get-size":""),elemCardAd.dataset.areaAd=area,elemCardAd.id="ad-container-s"+area,elemCardAd.innerHTML="","mob"==pkg.context.platform.type&&(elemCardAd.innerHTML+='<span class="card-ad__title">Publicidade</span>'),elemCardAd.innerHTML+='<div class="card-ad__content" id="ad-content-s'+area+'"></div>',"web"==pkg.context.platform.type&&(elemCardAd.innerHTML+='<span class="card-ad__title">Publicidade</span>'),inreadAd?(elemCardAd.innerHTML+='<div class="card-ad-full__shadow"></div>',PRIVATE.addElementByPosition(elemCardAd,positionTop),PRIVATE.arrayLeftAds.push(elemCardAd)):(PRIVATE.elemArticleRightFloating.appendChild(elemCardAd),PRIVATE.arrayRightAds.push(elemCardAd))},PRIVATE.addElementByPosition=function(elemCardAd,positionTop){for(var article=document.querySelectorAll(".article__content--body > *"),index=0;index<article.length;index++)if(article[index].offsetTop>=positionTop&&!article[index].classList.contains("card-ad"))return void article[index].parentElement.insertBefore(elemCardAd,article[index])},PRIVATE.registerAdViewable=function(elem){var loadAdObserver;new IntersectionObserver(function callbackLoadAd(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(console.log("##### observer - callbackLoadAd target",entry.target),"stick"==entry.target.htmlDataset("areaType")?PRIVATE.objAdsCommon.loadAreaAdStick(entry.target):PRIVATE.loadAreaAd(entry.target),observer.disconnect())})},{rootMargin:"0px 0px 500px 0px",threshold:1}).observe(elem)},MODULE.init=function(){PRIVATE.objAdsCommon.admanagerSetup().then(function(tgmkey){var hasSticky;PRIVATE.tgmkey=tgmkey,PRIVATE.objAdsCommon.loadAdHeader(),"special-article"===pkg.context.page.get("templateLayout")?PRIVATE.loadSpecialAfterContentAd():(PRIVATE.loadAdContent(),PRIVATE.objAdsCommon.loadAdRelatedVideo(),PRIVATE.objAdsCommon.loadAdInread(),"br.economy.articles"==tgmkey&&PRIVATE.objAdsCommon.loadAdOffers(),PRIVATE.objAdsCommon.loadAdVarejo(),PRIVATE.objAdsCommon.loadAdComments()),PRIVATE.objAdAnchor.init(),window.AdManager.get("s0Sticky")&&pkg.require(["mod.stickHeader"],function(modAdHeader){pkg.context.page.get("mediaService")||modAdHeader.init()})})},MODULE},teardown:function(data){}})}),zaz.use(function stickHeader(pkg){"use strict";pkg.require(["modFactory"],function(modFactory){modFactory.create({name:"stickHeader",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/pages/terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Controle do stick da S0",tests:"http://s1.trrsf.com/fe/zaz-ui-t360-content/tests/index.htm?zaz[env]=tests",dependencies:["app.t360.navbar"],setup:function(data){var PRIVATE={},MODULE={};return PRIVATE.started=!1,PRIVATE.objNavbar=new data.dependencies.app.t360.navbar,PRIVATE.controlPosition=function(){var st=window.pageYOffset||document.documentElement.scrollTop,headerSize=PRIVATE.elemNavbar.offsetHeight,status="initial",sendTrigger=!0,positionFinalAnchor,positionStartAnchor;"hide"==PRIVATE.objNavbar.getStatusDisplay()&&(headerSize=0),positionStartAnchor=PRIVATE.elemAdContainer.offsetTop,st<=(positionFinalAnchor=MODULE.getDocOffsetTop(PRIVATE.elemContentBody)-PRIVATE.elemAdFull.offsetHeight)&&positionStartAnchor<st?(PRIVATE.elemAdFull.style.top=headerSize+"px",PRIVATE.elemAdFull.style.left=0,PRIVATE.elemAdFull.style.position="fixed",status="stick",sendTrigger=!0):st<=positionStartAnchor?(PRIVATE.elemAdFull.style.top="inherit",PRIVATE.elemAdFull.style.position="relative",status="initial",sendTrigger=!0):positionFinalAnchor<st&&(PRIVATE.elemAdFull.style.top=-PRIVATE.elemAdFull.offsetHeight+"px",status="hide"),sendTrigger&&pkg.context.page.trigger("mod-stick-header",{status:status})},MODULE.init=function(){pkg.context.page.at("ad-slotrenderended",function(data){"header-full-ad"!==data.id||PRIVATE.started||MODULE.startSticky()})},MODULE.startSticky=function(){PRIVATE.started=!0,PRIVATE.elemAdFull=document.getElementById("header-full-ad"),PRIVATE.elemAdContainer=document.getElementById("header-full-ad-container"),PRIVATE.elemNavbar=document.querySelector(".zaz-app-t360-navbar .navbar"),PRIVATE.elemContentBody=document.querySelector(".article__content--body"),PRIVATE.elemAdContainer.style.height=PRIVATE.elemAdContainer.offsetHeight+"px",PRIVATE.elemAdFull.style.zIndex="99900",PRIVATE.elemAdFull.style.transition="all 0.3s ease-in-out 0s",window.addEventListener("scroll",PRIVATE.controlPosition,!1,{controller:"none",time:0}),PRIVATE.controlPosition()},MODULE.getDocOffsetTop=function(scrollTop){var box=scrollTop.getBoundingClientRect(),top=document.body,docEl=document.documentElement,scrollTop=window.pageYOffset||docEl.scrollTop||top.scrollTop,top=docEl.clientTop||top.clientTop||0,top=box.top+scrollTop-top;return Math.round(top)},MODULE},teardown:function(data){}})})}),zaz.use(function adAnchor(pkg){"use strict";pkg.require(["modFactory"],function(modFactory){modFactory.create({name:"adAnchor",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/pages/terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Controls the Footer Home",tests:"http://s1.trrsf.com/fe/zaz-ui-t360-content/tests/index.htm?zaz[env]=tests",dependencies:["mod.adsCommon"],setup:function(data){var PRIVATE={},MODULE={};PRIVATE.startedAd=!1,PRIVATE.objAdsCommon=data.dependencies.mod.adsCommon;var elemAdS1=document.getElementById("ad-container-s1");return PRIVATE.controlPosition=function(){if("special-article"===pkg.context.page.get("templateLayout")&&!PRIVATE.startedAd)return PRIVATE.startAd(),void window.removeEventListener("scroll",PRIVATE.controlPosition,!1);var s1IsVisible;elemAdS1&&((s1IsVisible=elemAdS1.classList.contains("show"))||PRIVATE.startedAd?!s1IsVisible&&PRIVATE.startedAd?(PRIVATE.elemAdWrapper.style.display="block",PRIVATE.changePipPlayerHeight("120px")):s1IsVisible&&PRIVATE.startedAd&&(PRIVATE.elemAdWrapper.style.display="none",PRIVATE.changePipPlayerHeight("")):PRIVATE.startAd())},MODULE.init=function(data){window.addEventListener("scroll",PRIVATE.controlPosition,!1),pkg.context.page.on("pip-video-started",function(data){PRIVATE.instancePlayer=data.player})},PRIVATE.startAd=function(){PRIVATE.startedAd=!0,PRIVATE.elemAdWrapper=document.createElement("div"),PRIVATE.elemAdWrapper.className="bottom-ad-container",PRIVATE.elemAdWrapper.innerHTML='<div class="bottom-ad-container__full" id="bottom-ad"></div>',PRIVATE.elemAdContainer=PRIVATE.elemAdWrapper.querySelector("#bottom-ad"),document.body.appendChild(PRIVATE.elemAdWrapper),PRIVATE.objAdsCommon.loadAdAnchor(PRIVATE.elemAdContainer).then(function(){!0!==window.AdManager.get("removeAncoraButton")&&PRIVATE.addCloseButton()})},PRIVATE.addCloseButton=function(){var elemCloseButton=document.createElement("div");elemCloseButton.className="bottom-ad-container__close-button",elemCloseButton.innerHTML='<span class="icon-solid icon-12 icon-times icon-color-black"></span>',elemCloseButton.addEventListener("click",function(){window.removeEventListener("scroll",PRIVATE.controlPosition,!1),PRIVATE.elemAdWrapper.style.display="none",window.tga.send("send","event","ad","close","ancora")}),PRIVATE.elemAdContainer.appendChild(elemCloseButton)},PRIVATE.changePipPlayerHeight=function(newHeight){PRIVATE.instancePlayer&&PRIVATE.instancePlayer.api.changePipHeight(newHeight)},MODULE},teardown:function(data){}})})}),zaz.use(function t360Content(pkg){"use strict";!pkg.context.page.get("loadAds")&&null!=pkg.context.page.get("loadAds")||pkg.require("mod.ads",function(Ads){Ads.init()},function(exception){console.error('Exception requirering "mod.ads": ',exception)})}),zaz.use(function Header(pkg){"use strict";pkg.factoryManager.get("mod").create({name:"header",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Montar o header do Artigo",dependencies:["mod.t360.notificationsHelper"],tests:"",setup:function(data){var MODULE={},PRIVATE={data:data};return MODULE.init=function(){PRIVATE.navbarButton=document.querySelector("#toggle-navbar-btn"),PRIVATE.headerNavbar=document.querySelector("#header-navbar"),PRIVATE.navbarInnerWrapper=document.querySelector("#header-navbar-inner-wrapper"),PRIVATE.favoritatorLabelElement=document.querySelector(".article__header--sign-header__info--sign-name__favorite-button--title"),PRIVATE.myTeam=document.querySelector("#my-team"),PRIVATE.myTeamIcon=document.querySelector("#my-team-icon"),PRIVATE.myTeamLabelTextUnselected="Favoritar Time",PRIVATE.myTeamLabelTextSelected="Meu Time",PRIVATE.mySignElement=document.querySelector("#my-sign"),PRIVATE.mySignIcon=document.querySelector("#my-sign-icon"),PRIVATE.mySignElementLabelUnselected="Favoritar Signo",PRIVATE.mySignElementLabelSelected="",PRIVATE.mySignElementLabelPrefix="Sou",PRIVATE.openCloseNavbar=function(){PRIVATE.navbarButton.classList.contains("icon-rotate-45")?PRIVATE.headerNavbar.style.height=PRIVATE.navbarInnerWrapper.offsetHeight+"px":PRIVATE.headerNavbar.style.height="0px",PRIVATE.navbarButton.classList.toggle("icon-rotate-45")},PRIVATE.rangeChange=function(){PRIVATE.navbarButton.classList.contains("icon-rotate-45")||(PRIVATE.headerNavbar.style.height=PRIVATE.navbarInnerWrapper.offsetHeight+"px")},PRIVATE.saveMyTeam=function(){var objSave={name:PRIVATE.pageTeamInfo.name,channel_id:PRIVATE.pageTeamInfo.channelId,musa_id:PRIVATE.pageTeamInfo.id,userTeam:{teamChannelId:PRIVATE.pageTeamInfo.channelId,teamId:PRIVATE.pageTeamInfo.id||"",teamName:PRIVATE.pageTeamInfo.name||"",teamMnemonic:PRIVATE.pageTeamInfo.mnemonic||"",teamCountry:pkg.context.page.getCountry()||"",teamUrl:PRIVATE.pageTeamInfo.url,iconURL:PRIVATE.pageTeamInfo.shield}};PRIVATE.myTeamId=PRIVATE.musaId,window.tga.send("send","event","futebol","button",PRIVATE.pageTeamInfo.name),pkg.context.user.set("myTeam",objSave)},PRIVATE.removeMyTeam=function(){PRIVATE.myTeamId=null,pkg.context.user.set("myTeam",""),console.log("removeMyTeam")},PRIVATE.changeMyTeam=function(){PRIVATE.myTeamId?PRIVATE.musaId==PRIVATE.myTeamId?(PRIVATE.myTeamIcon.classList.remove("icon-star"),PRIVATE.myTeamIcon.classList.add("icon-star-regular"),PRIVATE.favoritatorLabelElement&&(PRIVATE.favoritatorLabelElement.innerHTML=PRIVATE.myTeamLabelTextUnselected),PRIVATE.removeMyTeam()):(pkg.context.user.get("header",function(header){var segmentsRemove=pkg.context.page.getCountry(),segmentsAdd=segmentsRemove+"_matches_"+PRIVATE.musaId,segmentsRemove;header.FirebaseToken&&(PRIVATE.myTeam&&(segmentsRemove=segmentsRemove+"_matches_"+PRIVATE.myTeam,PRIVATE.data.dependencies.mod.t360.notificationsHelper.postSegments("segments_remove",segmentsRemove,header.FirebaseToken,"sw-myteammatches","fcm").then(function(){console.log("postSegments segmento time antigo removido com sucesso")})),header.notifications&&header.notifications.myteammatches&&PRIVATE.data.dependencies.mod.t360.notificationsHelper.postSegments("segments_add",segmentsAdd,header.FirebaseToken,"sw-myteammatches","fcm").then(function(){console.log("postSegments segmento time novo adicionado com sucesso")}))}),PRIVATE.myTeamIcon.classList.remove("icon-star-regular"),PRIVATE.myTeamIcon.classList.add("icon-star"),PRIVATE.favoritatorLabelElement&&(PRIVATE.favoritatorLabelElement.innerHTML=PRIVATE.myTeamLabelTextSelected),PRIVATE.saveMyTeam()):(PRIVATE.myTeamIcon.classList.remove("icon-star-regular"),PRIVATE.myTeamIcon.classList.add("icon-star"),PRIVATE.favoritatorLabelElement&&(PRIVATE.favoritatorLabelElement.innerHTML=PRIVATE.myTeamLabelTextSelected),PRIVATE.saveMyTeam())},PRIVATE.retrieveTeamInfo=function(){PRIVATE.pageTeamInfo||fetch("https://p1-cloud.trrsf.com/api/musa-api/profile-contents?lang=pt-BR&id="+PRIVATE.musaId).then(function(response){return response.json()}).then(function(channelId){var data=channelId.root.result.profiles[0],url=data.contents.filter(function(channel){return 12==channel.id_content}),channelId="";url.length&&(channelId=url[0].url_content);var url="";data.contents.length&&data.contents[0].url_content&&(url=data.contents[0].url_content),PRIVATE.pageTeamInfo={id:data.id,name:data.name_competitor,channelId:channelId,shield:PRIVATE.myTeam.getAttribute("data-team-shield"),url:url,mnemonic:data.mnemonic}}).catch(console.log)},PRIVATE.saveMySign=function(){PRIVATE.mySign=PRIVATE.pageSign,pkg.context.user.set("horoscope",PRIVATE.pageSign)},PRIVATE.removeMySign=function(){PRIVATE.mySign=null,pkg.context.user.set("horoscope","")},PRIVATE.changeMySign=function(){PRIVATE.mySign&&PRIVATE.mySign==PRIVATE.pageSign?(PRIVATE.mySignIcon.classList.remove("icon-star"),PRIVATE.mySignIcon.classList.add("icon-star-regular"),PRIVATE.favoritatorLabelElement&&(PRIVATE.favoritatorLabelElement.innerHTML=PRIVATE.mySignElementLabelUnselected),PRIVATE.removeMySign()):(PRIVATE.mySignIcon.classList.remove("icon-star-regular"),PRIVATE.mySignIcon.classList.add("icon-star"),PRIVATE.favoritatorLabelElement&&(PRIVATE.favoritatorLabelElement.innerHTML=PRIVATE.mySignElementLabelSelected),PRIVATE.saveMySign())},PRIVATE.navbarButton&&PRIVATE.headerNavbar&&PRIVATE.navbarInnerWrapper&&(PRIVATE.navbarButton.addEventListener("click",PRIVATE.openCloseNavbar,!1),pkg.context.page.at("range",PRIVATE.rangeChange)),PRIVATE.myTeam&&(PRIVATE.musaId=PRIVATE.myTeam.getAttribute("data-musa-id"),PRIVATE.retrieveTeamInfo(),pkg.context.user.get("myTeam",function(objUserTeam){objUserTeam&&objUserTeam.musa_id?(PRIVATE.myTeamId=objUserTeam.musa_id,PRIVATE.myTeamId==PRIVATE.musaId?(PRIVATE.myTeamIcon.classList.add("icon-star"),PRIVATE.favoritatorLabelElement&&(PRIVATE.favoritatorLabelElement.innerHTML=PRIVATE.myTeamLabelTextSelected)):(PRIVATE.myTeamIcon.classList.add("icon-star-regular"),PRIVATE.favoritatorLabelElement&&(PRIVATE.favoritatorLabelElement.innerHTML=PRIVATE.myTeamLabelTextUnselected))):(PRIVATE.myTeamIcon.classList.add("icon-star-regular"),PRIVATE.favoritatorLabelElement&&(PRIVATE.favoritatorLabelElement.innerHTML=PRIVATE.myTeamLabelTextUnselected)),PRIVATE.myTeam.addEventListener("click",PRIVATE.changeMyTeam,!1)})),PRIVATE.mySignElement&&pkg.context.page.get("signID",function(pageSign){pkg.context.user.get("horoscope",function(mySign){PRIVATE.mySign=mySign,PRIVATE.pageSign=pageSign;var signName=pkg.context.page.get("signName");PRIVATE.mySignElementLabelSelected=PRIVATE.mySignElementLabelPrefix+" "+signName,mySign&&mySign==pageSign?(PRIVATE.mySignIcon.classList.add("icon-star"),PRIVATE.favoritatorLabelElement&&(PRIVATE.favoritatorLabelElement.innerHTML=PRIVATE.mySignElementLabelSelected)):(PRIVATE.mySignIcon.classList.add("icon-star-regular"),PRIVATE.favoritatorLabelElement&&(PRIVATE.favoritatorLabelElement.innerHTML=PRIVATE.mySignElementLabelUnselected)),PRIVATE.mySignElement.addEventListener("click",PRIVATE.changeMySign,!1)})})},MODULE},teardown:function(data){}})}),zaz.use(function relatedVideos(pkg){"use strict";pkg.factoryManager.get("mod").create({name:"relatedVideos",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Montar o header do Artigo",dependencies:[],setup:function(data){var PRIVATE={},MODULE={},deviceType=pkg.context.platform.get("type");return PRIVATE.instancePlayer=[],PRIVATE.configPlayer={},PRIVATE.listaVideos=[],MODULE.init=function(){var allVideos=document.querySelectorAll(".player-embed");allVideos&&0<allVideos.length&&PRIVATE.setEvents(allVideos)},PRIVATE.setEvents=function(allVideos){var viewableID,autoplay,videosTotal=allVideos.length,thresholdRatio=.01,rootMargin="0px",loadPlayerViewable;PRIVATE.observer=PRIVATE.generateIntersectionObserver(null,"0px",.01,function(entry){.01<entry.intersectionRatio&&(PRIVATE.observer.unobserve(entry.target),PRIVATE.loadPlayer(entry.target,0==entry.target.htmlDataset("playerPosition")))});for(var i=0;i<videosTotal;i++)allVideos[i]&&(allVideos[i].htmlDataset("playerPosition",i),PRIVATE.observer.observe(allVideos[i]))},PRIVATE.isFirstArticleVideo=function(element){for(var firstArticleVideo=document.querySelector(".article__video-embed--player");element;){if(firstArticleVideo===element)return!0;element=element.parentElement}return!1},PRIVATE.isRelatedVideo=function(element){for(var relatedVideo=document.querySelector(".related-videos__content--left--video");element;){if(relatedVideo===element)return!0;element=element.parentElement}return!1},PRIVATE.articleHasVideos=function(){return!!document.querySelector(".article__video-embed")},PRIVATE.loadPlayerDailymotion=function(elem,isFirstVideo){pkg.require(["https://geo.dailymotion.com/libs/player/x9nmo.js"],function(){window.dailymotion.pipClose(),window.dailymotion.createPlayer("player-dailymotion",{playlist:"x90iby",params:{mute:!0}}).then(function(player){isFirstVideo?(player.play(),window.dailymotion.pipResume()):window.dailymotion.pipClose()})})},PRIVATE.loadPlayer=function(elem,isFirstVideo,continuePip){var playerConfig,nextVideo,isPlayerDailyMotion=elem&&elem.classList.contains("player-dailymotion");PRIVATE.userAction=!1,isPlayerDailyMotion?PRIVATE.loadPlayerDailymotion(elem,isFirstVideo):((playerConfig=PRIVATE.getConfigs()).continuePip=continuePip,playerConfig.onReady=async function(objPlayer){if(isFirstVideo){if(PRIVATE.isRelatedVideo(elem)){var channelPath=pkg.context.page.channelPath.split("."),channel=channelPath[1]||"",subchannel=channelPath[2]||"";if(0==PRIVATE.listaVideos.length)await objPlayer.api.getRelatedVideosData(channel,subchannel).then(function(response){PRIVATE.listaVideos.push({id:PRIVATE.getIdVideo(elem),status:"checked"}),response.forEach(function(relatedVideos,index){PRIVATE.getIdVideo(elem)!=relatedVideos.id&&PRIVATE.listaVideos.push({id:relatedVideos.id,title:relatedVideos.title,url:relatedVideos.url,channel:subchannel||channel,status:null}),0==index&&(nextVideo=PRIVATE.listaVideos[1],PRIVATE.listaVideos[1].status="checked")})});else for(var i=0;i<PRIVATE.listaVideos.length;++i)if("checked"!=PRIVATE.listaVideos[i].status){nextVideo=PRIVATE.listaVideos[i],PRIVATE.listaVideos[i].status="checked";break}}else nextVideo=PRIVATE.getNextVideo();nextVideo?objPlayer.api.setupTransition(PRIVATE.Player.CONTINUOUS_PLAY,nextVideo.id):objPlayer.api.setupTransition(PRIVATE.Player.RELATED_LIST),objPlayer.events.on("nextVideo",function(data){data.type==PRIVATE.Player.RELATED_LIST?location.href=PRIVATE.Player.redirectVideo(data.videoId):(PRIVATE.loadNextVideo(data,objPlayer),PRIVATE.isRelatedVideo(elem)?PRIVATE.updateDataNextVideo(nextVideo):PRIVATE.changeWatching(elem,nextVideo.oldVideo,nextVideo.newVideo))}),objPlayer.events.on("userAction",function(){PRIVATE.userAction||(objPlayer.api.unmute(),PRIVATE.userAction=!0)})}},playerConfig.videoId=PRIVATE.getIdVideo(elem),playerConfig.container=elem,playerConfig.startMuted=!0,playerConfig.useLowestBitrate=!0,playerConfig.autoPip=!1,playerConfig.isRelatedVideo=!1,isFirstVideo&&(PRIVATE.isFirstArticleVideo(elem)?playerConfig.autoPip=!0:PRIVATE.isRelatedVideo(elem)&&(playerConfig.isRelatedVideo=!0,PRIVATE.articleHasVideos()||(playerConfig.autoPip=!0))),0==pkg.context.page.get("loadAds")&&(playerConfig.autoPip=!1,playerConfig.isRelatedVideo=!1),playerConfig.videoId&&pkg.require(["app.player"],function(Player){PRIVATE.Player||(PRIVATE.Player=Player),PRIVATE.instancePlayer.push(new Player(playerConfig))}))},PRIVATE.loadNextVideo=function(nextVideoObj,currentObjPlayer){PRIVATE.instancePlayer.forEach(function(objPlayer,index,object){objPlayer.inputData.videoId==currentObjPlayer.inputData.videoId&&(currentObjPlayer.destroy().then(function(){nextVideoObj.container.id="player-embed-"+nextVideoObj.videoId,nextVideoObj.container.htmlDataset("id",nextVideoObj.videoId),PRIVATE.loadPlayer(nextVideoObj.container,0==nextVideoObj.container.htmlDataset("playerPosition"),nextVideoObj.continuePip)}),object.splice(index,1))})},PRIVATE.changeWatching=function(elemWatching,oldDom,newDom){var caption=elemWatching.parentElement.querySelector(".article__video-embed--title"),elemWatching=oldDom.querySelector(".article__video-embed--related__item--watching");oldDom.classList.remove("watching"),elemWatching&&elemWatching.classList.remove("show"),elemWatching=newDom.querySelector(".article__video-embed--related__item--watching"),newDom.classList.add("watching"),elemWatching&&elemWatching.classList.add("show"),caption.innerHTML=newDom.children[0].childNodes[3].childNodes[0].data},PRIVATE.getNextVideo=function(){var moreAbout=document.querySelector(".article__video-embed--related"),objReturn=!1,videoPlaying,nextRelatedVideo;return objReturn=moreAbout&&(videoPlaying=moreAbout.querySelector(".article__video-embed--related__item.watching"))&&(nextRelatedVideo=videoPlaying.nextElementSibling)?{id:PRIVATE.getIdVideo(nextRelatedVideo),oldVideo:videoPlaying,newVideo:nextRelatedVideo}:objReturn},PRIVATE.getIdVideo=function(elem){var id=!1;return id=elem&&elem.htmlDataset("id")?elem.htmlDataset("id"):id},PRIVATE.getConfigs=function(){var tgmkeyGroup=pkg.context.page.get("tgmkey");return{advertise:{enabled:pkg.context.page.get("loadAds"),tgmKey:tgmkeyGroup.video},metrics:{infoChannel:window.terra_info_channel,infoChannelDetail:window.terra_info_channeldetail,idCertifica:window.terra_stats_idCrtfc}}},PRIVATE.generateIntersectionObserver=function(root,rootMargin,thresholdRatio,handler){var options;return new IntersectionObserver(function(entries){entries.forEach(handler)},{root:root,rootMargin:rootMargin,threshold:thresholdRatio})},PRIVATE.updateDataNextVideo=function(video){var cartola;document.querySelector(".related-videos__content--left--cartola").innerText=video.channel;var element=document.querySelector(".related-videos__content--left--title");element.href=video.url,element.innerText=video.title},MODULE},teardown:function(data){}})}),zaz.use(function relatedNews(pkg){"use strict";pkg.require(["modFactory"],function(modFactory){modFactory.create({name:"relatedNews",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Carrega recomendado pra voce",tests:"",dependencies:["app.t360.cards","mod.adsCommon"],setup:function(data){var PRIVATE={},MODULE={};return PRIVATE.objCards=new data.dependencies.app.t360.cards({}),PRIVATE.objAdsCommon=data.dependencies.mod.adsCommon,PRIVATE.registerCards=function(elem){var objCard,itemList,item,viewItemList=[],area=elem.htmlDataset("area"),cards=elem.querySelectorAll(".card, .t360-related-content--most-read--card");PRIVATE.objCards.bindEvents(cards,elem);for(var i=0;i<cards.length;i++)itemList=item=null,"AD"!==(objCard=cards[i]).htmlDataset("type")&&("P"===objCard.htmlDataset("type")?itemList=PRIVATE.getMetricPremium(objCard,data):item=PRIVATE.objCards.registerMetricCard(objCard,"addImpression",area,data.position),item&&""!=item.item_id?viewItemList.push(item):itemList&&0<itemList.length&&(viewItemList=viewItemList.concat(itemList)));window.tga.sendGA4("view_item_list",{item_list_id:area,item_list_name:area,items:viewItemList}),window.tga.send("send","pageview",{dimension7:elem.htmlDataset("contentType"),dimension14:area})},PRIVATE.loadTaboola=function(){var elem;document.getElementById("taboola-below-article-thumbnails")&&(window._taboola=window._taboola||[],window._taboola.push({article:"auto"}),window._taboola.push({mode:"thumbnails-a-1",container:"taboola-below-article-thumbnails",placement:"Below Article Thumbnails",target_type:"mix"}),window._taboola.push({flush:!0}),pkg.require(["mod.taboola"]))},MODULE.init=function(){var loadAds=!1!==pkg.context.page.get("loadAds"),observerRelatedNewsPV,rootMargin,observerRelatedNewsLoad,observerRelatedNewsLoadAds;PRIVATE.elemRelatedContent=document.querySelectorAll(".t360-related-content, .app-t360-user-table"),loadAds||"mob"===pkg.context.platform.get("type")||document.querySelectorAll(".t360-related-content .t360-related-content--table").forEach(function(elem){elem.className=elem.className.replace("t360-related-content--table","t360-related-content--table-noads")}),PRIVATE.elemRelatedContent&&(observerRelatedNewsPV=new IntersectionObserver(function callbackRelatedNews(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(PRIVATE.registerCards(entry.target),observer.unobserve(entry.target))})},{rootMargin:"0px",threshold:[0,.01]}),PRIVATE.elemRelatedContent.forEach(function(elem){-1<elem.htmlDataset("area").search("CONTENT-RELATEDNEWS")&&observerRelatedNewsPV.observe(elem)}),rootMargin="1000px 0px 1400px 0px","mob"==pkg.context.platform.get("type")&&(rootMargin="2000px 0px 2800px 0px"),observerRelatedNewsLoad=new IntersectionObserver(function callbackRelatedNews(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&("TABOOLA"==entry.target.htmlDataset("area")&&loadAds?PRIVATE.loadTaboola():"USER-TABLE"==entry.target.htmlDataset("area")&&pkg.require("mod.userArea",function(ModUserTable){ModUserTable.init()}),observer.unobserve(entry.target))})},{rootMargin:rootMargin,threshold:[0,.01]}),PRIVATE.elemRelatedContent.forEach(function(elem){-1==elem.htmlDataset("area").search("CONTENT-RELATEDNEWS")&&observerRelatedNewsLoad.observe(elem)}),observerRelatedNewsLoadAds=new IntersectionObserver(function callbackRelatedNews(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(PRIVATE.objAdsCommon.admanagerSetup().then(function(tgmkey){PRIVATE.objAdsCommon.loadAdRelatedNews(entry.target)}),observer.unobserve(entry.target))})},{rootMargin:"0px 0px 200px 0px",threshold:[0,.01]}),PRIVATE.elemRelatedContent.forEach(function(elem){-1<elem.htmlDataset("area").search("CONTENT-RELATEDNEWS")&&observerRelatedNewsLoadAds.observe(elem)}))},MODULE},teardown:function(data){}})})}),zaz.use(function socialEmbeds(pkg){"use strict";pkg.require(["modFactory"],function(modFactory){modFactory.create({name:"socialEmbeds",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Inicializa embeds de rede social",tests:"",dependencies:[],setup:function(data){var MODULE={};return MODULE.init=function(){var elemTw=document.querySelector(".twitter-tweet"),observerSocialEmbeds;elemTw&&new IntersectionObserver(function callbackSocialEmbeds(entries,observer){entries.forEach(function(fjs){var d,js,id,fjs,t;fjs.isIntersecting&&(window.twttr=(d=document,js="script",id="twitter-wjs",fjs=d.getElementsByTagName(js)[0],t=window.twttr||{},d.getElementById(id)||((js=d.createElement(js)).id=id,js.src="https://platform.twitter.com/widgets.js",fjs.parentNode.insertBefore(js,fjs),t._e=[],t.ready=function(f){t._e.push(f)}),t),observer.disconnect())})},{rootMargin:"0px 0px 300px 0px",threshold:.01}).observe(elemTw)},MODULE},teardown:function(data){}})})}),zaz.use(function AdsCommon(pkg){"use strict";pkg.factoryManager.get("mod").create({name:"adsCommon",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Funções comum de publicidade",dependencies:["mod.manager"],tests:"",setup:function(data){var MODULE={},PRIVATE={},tgmkeyGroup=pkg.context.page.get("tgmkey");return PRIVATE.objAdmanager=new data.dependencies.mod.adManager,MODULE.admanagerSetup=function(){return new Promise(function(resolve,reject){tgmkeyGroup&&tgmkeyGroup.content?(PRIVATE.tgmkey=tgmkeyGroup.content,window.AdManager.configure({TGMKEY:PRIVATE.tgmkey,PLATFORM:"mob"===pkg.context.platform.get("type")?"mob":"web"}),window.AdManager.get("backend_getviewport")?resolve(PRIVATE.tgmkey):window.AdManager.setup({tgmkey:PRIVATE.tgmkey}).then(function(){resolve(PRIVATE.tgmkey)})):reject()})},MODULE.setTgmkey=function(tgmkey){PRIVATE.tgmkey=tgmkey},MODULE.loadAdHeader=function(){var elemAd=document.getElementById("header-full-ad");elemAd&&PRIVATE.objAdmanager.stickAd({placeholder:elemAd,area:"cabeceira",tgmkey:PRIVATE.tgmkey})},MODULE.loadAdAnchor=function(elemAd){return elemAd?(window.googletag.pubads().addEventListener("slotRenderEnded",function(event){var containerId;event.slot&&("bottom-ad"!=event.slot.getSlotElementId()||event.isEmpty||(elemAd.parentElement.parentElement.style.height=elemAd.offsetHeight-1+"px"))}),PRIVATE.objAdmanager.stickAd({placeholder:elemAd,area:"ancora",tgmkey:PRIVATE.tgmkey})):Promise.reject()},MODULE.loadAreaAdStick=function(elemAd){var areaAd=elemAd.htmlDataset("areaAd"),elemAd=elemAd.querySelector("div");areaAd&&elemAd&&PRIVATE.objAdmanager.stickAd({placeholder:elemAd,area:areaAd,tgmkey:PRIVATE.tgmkey})},MODULE.loadAdRelatedVideo=function(){var elem=document.getElementById("ad-container-related-video"),observerAdRelatedVideo;elem&&new IntersectionObserver(function callbackLoadAdRelatedVideo(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(console.log("##### observer - callbackLoadAdRelatedVideo target",entry.target),MODULE.loadAreaAdStick(entry.target),observer.disconnect())})},{rootMargin:"0px 0px 400px 0px",threshold:1}).observe(elem)},MODULE.loadAdInread=function(){var elemAd=document.getElementById("ad-video-inread"),observerAdInread;elemAd&&new IntersectionObserver(function callbackAdInread(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(console.log("##### observer - callbackAdInread target",entry.target),PRIVATE.objAdmanager.stickAd({placeholder:entry.target,area:"inread",tgmkey:PRIVATE.tgmkey}),pkg.context.page.on("ad-slotrenderended",function(frame){var frame;!entry.target.querySelector("iframe")||"ad-video-inread"!=frame.id||620<=(frame=entry.target.querySelector("iframe")).clientWidth&&"mob"!==pkg.context.platform.get("type")&&frame.classList.add("ad-video-inread--scale-transform")}),observer.disconnect())})},{threshold:.1}).observe(elemAd)},MODULE.loadAdVarejo=function(){var elemAdVarejo=document.getElementById("ad-varejo"),elemSingleAd,listAutoPlay=[],observerAdVarejo;elemAdVarejo&&new IntersectionObserver(function callbackAdVarejo(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(console.log("##### observer - callbackAdVarejo target",entry.target),PRIVATE.objAdmanager.multiTagsAd({area:"vitrine",tgmkey:PRIVATE.tgmkey}).then(function(obj){var ads=obj.ADS,containerElement=document.querySelector(".table-ad__wapper"),definitionNumberPages=function(){PRIVATE.pages=[];for(var i=0;i<ads.length;i+=PRIVATE.adsLen){var page=ads.slice(i,i+PRIVATE.adsLen);PRIVATE.pages.push(page)}},getAdsLen=function(){var list=containerElement.querySelector("#ad-varejo");PRIVATE.numberPages=2,"mob"===pkg.context.platform.get("type")?(PRIVATE.adsLen=2,PRIVATE.timerAutoPlay=6e3):"web"===pkg.context.platform.get("type")&&containerElement.offsetWidth<=1040?(PRIVATE.adsLen=4,PRIVATE.numberPages=3,PRIVATE.timerAutoPlay=8e3,list.querySelectorAll(".terra-ads__item").forEach(function(el){el.style.margin="0 "+(containerElement.offsetWidth-PRIVATE.adsLen*el.offsetWidth)/(2*PRIVATE.adsLen)+"px"})):"web"===pkg.context.platform.get("type")&&1040<containerElement.offsetWidth&&(PRIVATE.adsLen=6,PRIVATE.numberPages=2,PRIVATE.timerAutoPlay=12e3,list.querySelectorAll(".terra-ads__item").forEach(function(el){el.style.margin="0 "+(containerElement.offsetWidth-PRIVATE.adsLen*el.offsetWidth)/(2*PRIVATE.adsLen)+"px"})),definitionNumberPages(),PRIVATE.carousel&&document.querySelectorAll(".point")&&(PRIVATE.carousel.createPoints(PRIVATE.numberPages),PRIVATE.carousel.reset())},observer;new window.ResizeObserver(getAdsLen).observe(containerElement),getAdsLen();var pageIndex=0,visitedPages=[],counter=0,loadNewAds=function(){if(pageIndex<PRIVATE.pages.length&&!visitedPages.includes(pageIndex)){visitedPages.push(pageIndex);for(var i=0;i<PRIVATE.adsLen;i++)counter<ads.length&&(elemSingleAd=document.querySelector("#ad-varejo_"+counter),ads[counter].placeholder=elemSingleAd.id),counter++;obj.instance.createAds({tgmkey:window.tgmKey,ADS:ads}),pageIndex++}},autoplayers=function(fun,autoPlay){var autoPlay=setInterval(function(){fun()},autoPlay);listAutoPlay.push(autoPlay)};loadNewAds(),autoplayers(loadNewAds,PRIVATE.timerAutoPlay-1e3),"web"===pkg.context.platform.get("type")&&document.querySelector(".ad-varejo-container__icon-right").addEventListener("click",loadNewAds),document.querySelector(".table-ad__wapper")&&pkg.require(["mod.t360.carouselRanges"],function(T360CarouselRanges){PRIVATE.carousel=new T360CarouselRanges({timerAutoplayCarousel:PRIVATE.timerAutoPlay,autoplayCarousel:!0,autoCountItems:!1,containerCarousel:".table-ad__wapper",itemsCarousel:".terra-ads--wrapper",dividerScrollCarousel:1,previousButtonCarousel:".ad-varejo-container__icon-left",nextButtonCarousel:".ad-varejo-container__icon-right",points:".points",pages:PRIVATE.numberPages}),"web"===pkg.context.platform.get("type")&&(document.querySelector(".table-ad__wapper.table-range-flex").addEventListener("mouseover",function(){PRIVATE.carousel.pause(),listAutoPlay.forEach(function(autoplayers){clearInterval(autoplayers)})}),document.querySelector(".table-ad__wapper.table-range-flex").addEventListener("mouseout",function(){PRIVATE.carousel.autoplay(),autoplayers(loadNewAds,PRIVATE.timerAutoPlay-1e3)}))})}),observer.disconnect())})},{rootMargin:"0px 0px 400px 0px",threshold:1}).observe(elemAdVarejo)},MODULE.loadAdOffers=function(){var elemAd=document.getElementById("ad-offers");elemAd&&PRIVATE.objAdmanager.stickAd({placeholder:elemAd,area:"offers",tgmkey:PRIVATE.tgmkey})},MODULE.loadAdRelatedNews=function(table){var elem,areaAd=table.htmlDataset("areaAd"),elemAdByGoogle;(elem=areaAd?document.getElementById("ad-related-r"+areaAd):elem)&&PRIVATE.objAdmanager.stickAd({placeholder:elem,area:"r"+areaAd,tgmkey:PRIVATE.tgmkey}),"web"===pkg.context.platform.type&&table.querySelector(".adsbygoogle")&&((window.adsbygoogle=window.adsbygoogle||[]).push({}),pkg.require(["mod.adsbygoogle"]))},MODULE.loadAdComments=function(){var elemAd=document.getElementById("ad-comments"),observerAdComments;elemAd&&new IntersectionObserver(function callbackAdComments(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(console.log("##### observer - callbackAdComments target",entry.target),PRIVATE.objAdmanager.stickAd({placeholder:entry.target,area:"maissobre",tgmkey:PRIVATE.tgmkey}),observer.disconnect())})},{rootMargin:"0px 0px 400px 0px",threshold:1}).observe(elemAd)},MODULE.loadAdGeneric=function(elemAd,area){elemAd&&PRIVATE.objAdmanager.stickAd({placeholder:elemAd,area:area,tgmkey:PRIVATE.tgmkey})},MODULE.loadAdGenericViewable=function(elemAd,area){var observerAdGeneric;elemAd&&new IntersectionObserver(function callbackAdGeneric(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(console.log("##### observer - callbackAdGeneric target",entry.target),PRIVATE.objAdmanager.stickAd({placeholder:entry.target,area:area,tgmkey:PRIVATE.tgmkey}),observer.disconnect())})},{rootMargin:"0px 0px 400px 0px",threshold:1}).observe(elemAd)},MODULE},teardown:function(data){}})}),zaz.use(function appSignNotification(pkg){"use strict";var console=pkg.console,appFactory,STATIC_PUBLIC=null,STATIC_PRIVATE={};pkg.factoryManager.get("app").create({name:"signNotification",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/pages/terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Just another app",tests:"http://s1.trrsf.com/fe/zaz-ui-t360-content/tests/index.htm?zaz[env]=tests",dependencies:[],dictionaries:[],templates:{"sing-notification":'<div class="article-sign-notifications">  <div class="article-sign-notifications__title">     {{ notifyText }}  </div>  <div class="article-sign-notifications__button">     <span class="article-sign-notifications__button--title">Ativar notificações</span>     <span class="icon-solid icon-16 icon-bell"></span>  </div></div>',whatsapp:'<div class="t360-embed-whatsapp">    <div class="t360-embed-whatsapp__text">{{text}}<span>{{highlightText}}</span></div>    <a href="{{whatsappLink}}" target="_blank" class="t360-embed-whatsapp__bt-subscribe">        <div class="t360-embed-whatsapp__bt-subscribe--text">Inscreva-se</div>        <div class="t360-embed-whatsapp__bt-subscribe--icon"><span class="icon-solid icon-color-black icon-16 icon-whatsapp-solid"></span></div>    </a></div>'},expects:{},setup:function(STATIC_PUBLIC,PUBLIC,__shared){},init:function(data,__shared){var PUBLIC=this,PRIVATE={};return PRIVATE.signNotificationsContainer=data.container,PRIVATE.loadNotification=function(){var notifyText=pkg.context.page.get("notifyText")||"Fique por dentro das principais notícias";PRIVATE.elemSingNotification=PUBLIC.templates.render("sing-notification",{notifyText:notifyText});var notifyKey=pkg.context.page.get("notifyKey")||"breakingnews";pkg.require(["mod.t360.notificationsHelper"],function(notificationsHelper){var supportsPush;notificationsHelper.browserSupportsPush()&&"denied"!=window.Notification.permission?pkg.context.user.get("userArea",function(userArea){var signNotificationsButton,signNotificationsButtonTitle;userArea&&userArea.notifications&&userArea.notifications[notifyKey]?PRIVATE.hasWhatsNotification||PRIVATE.loadWhatsapp():(signNotificationsButton=PRIVATE.elemSingNotification.querySelector(".article-sign-notifications__button"),signNotificationsButtonTitle=PRIVATE.elemSingNotification.querySelector(".article-sign-notifications__button--title"),PRIVATE.signNotificationsContainer.appendChild(PRIVATE.elemSingNotification.firstElementChild),signNotificationsButton.addEventListener("click",function(ev){var segment="br_"+notifyKey,stalkerKeyName=notifyKey;signNotificationsButtonTitle.innerHTML="Aguarde...",signNotificationsButton.style.cursor="default",window.tga.send("send","event","notifications-button","click",stalkerKeyName),signNotificationsButton.style.backgroundColor="#808080",notificationsHelper.subscribeSegment("segments_add",segment,stalkerKeyName).then(function(){signNotificationsButtonTitle.innerHTML="Notificação ativa"}).catch(function(){signNotificationsButtonTitle.innerHTML="Não foi possível realizar a inscrição."})},{once:!0}))}):PRIVATE.hasWhatsNotification||PRIVATE.loadWhatsapp()})},PRIVATE.loadWhatsapp=function(){pkg.require(["mod.notifications"],function(modNotification){PRIVATE.channelId.find(function(element){return"vida-e-estilo"==element})?(PRIVATE.elemSingNotification=PUBLIC.templates.get("whatsapp").render({text:"Receba previsões diárias e fique por dentro do mundo astrológico através do nosso ",whatsappLink:"https://whatsapp.com/channel/0029VaXtqcl5K3zYJfPfq423",highlightText:"WhatsApp"}),PRIVATE.signNotificationsContainer.innerHTML=PRIVATE.elemSingNotification):modNotification.getAllNotifications(function(notificationsUpdated){for(var i=0,unreadWebPushNotification;i<notificationsUpdated.length;i++){"user_whatsapp"===notificationsUpdated[i].group&&(unreadWebPushNotification=notificationsUpdated[i],notificationsUpdated[i].whatsappConfirmation&&(PRIVATE.hasWhatsNotification=!0))}PRIVATE.hasWhatsNotification?PRIVATE.loadNotification():(PRIVATE.elemSingNotification=PUBLIC.templates.get("whatsapp").render({text:"Curtiu? Fique por dentro das principais notícias através do nosso ",whatsappLink:"https://whatsapp.com/channel/0029VaDGPXE0rGiN2XvTl03k",highlightText:"ZAP"}),PRIVATE.signNotificationsContainer.innerHTML=PRIVATE.elemSingNotification,PRIVATE.signNotificationsContainer.querySelector(".t360-embed-whatsapp__bt-subscribe").addEventListener("click",function(ev){window.tga.send("send","event","whatsapp-footer-subscriptions","click","channel-agora"),modNotification.update(unreadWebPushNotification.id,{whatsappConfirmation:!0}),modNotification.setRead(unreadWebPushNotification.id,"")}))})})},PUBLIC.init=function(){var templates,templateSelected,random,templateSelected;PRIVATE.signNotificationsContainer&&(templateSelected=(templates=[templateSelected="sing-notification","whatsapp"])[Math.floor(Math.random()*templates.length)],PRIVATE.hasWhatsNotification=!1,PRIVATE.channelId=pkg.context.page.channelPath.split("."),"sing-notification"==templateSelected?PRIVATE.loadNotification():PRIVATE.loadWhatsapp())},PUBLIC},teardown:function(why,__static,__proto,__shared){}})}),zaz.use(function Sharebar(pkg){"use strict";var console=pkg.console,appFactory,STATIC_PUBLIC=null,STATIC_PRIVATE={};pkg.factoryManager.get("app").create({name:"t360.sharebar",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"",dependencies:["app.t360.navbar"],tests:"",templates:{},setup:function(STATIC_PUBLIC,PUBLIC,__shared){},init:function(data,__shared){var PUBLIC=this,PRIVATE={decodeEntities:function(encodedString){var div=document.createElement("div");return div.innerHTML=encodedString,div.textContent}};return this.updateUrl=function updateUrl(url){PRIVATE.sharingUrl=url},PRIVATE.sharingUrl=data.sharingURL||pkg.context.page.get("canonical_url"),PRIVATE.sharingImage=document.querySelector('meta[property="og:image"]').content,PRIVATE.sharingDescription=document.querySelector('meta[property="og:title"]').content,PRIVATE.sharingTitle=window.encodeURIComponent(PRIVATE.decodeEntities(window.trr.contextData.contentPage.content_title)),PRIVATE.sharingMetricType=null!=data.metricType?data.metricType:"article",PRIVATE.deviceType=pkg.context.platform.type,PRIVATE.socials=["whatsapp","facebook","twitter","pinterest"],PRIVATE.clickFunctions={whatsapp:function(urlWhatsApp){urlWhatsApp.stopPropagation();var urlWhatsApp="mob"===PRIVATE.deviceType?"whatsapp://send?text=":"https://web.whatsapp.com/send?text=";urlWhatsApp+=PRIVATE.sharingUrl+"%3Futm_source%3DWhatsapp%26utm_medium%3DSOCIAL",window.open(urlWhatsApp),window.tga.send("send","event",PRIVATE.sharingMetricType,"share","whatsapp")},facebook:function(event){event.stopPropagation(),window.open("http://www.facebook.com/sharer/sharer.php?u="+PRIVATE.sharingUrl,"_blank","width=520,height=420,top="+(screen.height-420)/2+",left="+(screen.width-520)/2,"Facebook"),window.tga.send("send","event",PRIVATE.sharingMetricType,"share","facebook")},twitter:function(event){event.stopPropagation(),window.open("https://twitter.com/intent/tweet?text="+PRIVATE.sharingTitle+"&url="+PRIVATE.sharingUrl,"_blank","width=520,height=420,top="+(screen.height-420)/2+",left="+(screen.width-520)/2,"Twitter"),window.tga.send("send","event",PRIVATE.sharingMetricType,"share","twitter")},pinterest:function(event){event.stopPropagation(),window.open("http://www.pinterest.com/pin/create/button/?url="+PRIVATE.sharingUrl+"&media="+PRIVATE.sharingImage+"&description="+PRIVATE.sharingDescription,"_blank","width=520,height=420,top="+(screen.height-420)/2+",left="+(screen.width-520)/2,"Pinterest"),window.tga.send("send","event",PRIVATE.sharingMetricType,"share","pinterest")},shareMobile:function(sb){sb.classList.toggle("active"),window.tga.send("send","event",PRIVATE.sharingMetricType,"share","non-native")},shareMobileNative:function(){navigator.share({title:document.title,url:PRIVATE.sharingUrl}),window.tga.send("send","event",PRIVATE.sharingMetricType,"share","native")}},PRIVATE.renderShareOptions=function(sb){var elemIconsContainer=document.createElement("div");elemIconsContainer.className="t360-sharebar__options",PRIVATE.socials.forEach(function(social){var elemIconsItem=document.createElement("span");elemIconsItem.className="icon icon-24 icon-"+social+"-color",elemIconsItem.addEventListener("click",PRIVATE.clickFunctions[social]),elemIconsContainer.appendChild(elemIconsItem)}),sb.parentElement.appendChild(elemIconsContainer)},PRIVATE.load=function(sb){PRIVATE.renderShareOptions(sb),"mob"===PRIVATE.deviceType?sb.addEventListener("click",function(){navigator&&navigator.share?PRIVATE.clickFunctions.shareMobileNative():PRIVATE.clickFunctions.shareMobile(sb)}):sb.addEventListener("click",function(event){event.preventDefault(),this.classList.toggle("active")})},data.sharebars.forEach(function(sb){PRIVATE.load(sb)}),this},teardown:function(data){}})}),zaz.use(function appSignNotification(pkg){"use strict";var console=pkg.console,appFactory,STATIC_PUBLIC=null,STATIC_PRIVATE={};pkg.factoryManager.get("app").create({name:"rating",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/pages/terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Just another app",tests:"http://s1.trrsf.com/fe/zaz-ui-t360-content/tests/index.htm?zaz[env]=tests",dependencies:[],dictionaries:[],templates:{},expects:{},setup:function(STATIC_PUBLIC,PUBLIC,__shared){},init:function(data,__shared){var PUBLIC=this,PRIVATE={};return PRIVATE.articleJsonld=data.articleJsonld,PRIVATE.container=data.container,PRIVATE.starsContainer=PRIVATE.container.querySelector(".article__header__rating--stars"),PRIVATE.articleId=PRIVATE.container.getAttribute("data-article-id"),PRIVATE.hasHover=function(){PRIVATE.articleAlreadyRated=!1,pkg.context.user.get("clientRatingValue",function(clientRatingValue){clientRatingValue&&clientRatingValue.articleId==PRIVATE.articleId&&(PRIVATE.articleAlreadyRated=!0,PRIVATE.starsContainer.classList.remove("rating-hover"))})},PRIVATE.getMeanRating=function(){PRIVATE.meanValueRating=JSON.parse(PRIVATE.articleJsonld.textContent),PRIVATE.container.querySelector(".article__header__rating--mean").innerText="("+PRIVATE.meanValueRating.aggregateRating.ratingValue+")",PRIVATE.paintStars()},PRIVATE.paintStars=function(){PRIVATE.starIcons=PRIVATE.container.querySelectorAll(".article__header__rating--stars--icon");var ratingValueInt=Math.trunc(PRIVATE.meanValueRating.aggregateRating.ratingValue),ratingValueStr,ratingValueStrArray=PRIVATE.meanValueRating.aggregateRating.ratingValue.toString().split(".");PRIVATE.starIcons.forEach(function(icon,count){count==ratingValueStrArray[0]&&(PRIVATE.articleAlreadyRated?icon.style.backgroundImage="":icon.style.backgroundImage="linear-gradient(to right, var(--color-select), var(--color-select) "+ratingValueStrArray[1]+"0%, var(--color-outside) 0%)",PRIVATE.starsContainer.addEventListener("mouseout",function(){0==PRIVATE.articleAlreadyRated&&(icon.style.backgroundImage="linear-gradient(to right, var(--color-select), var(--color-select) "+ratingValueStrArray[1]+"0%, var(--color-outside) 0%)")}),PRIVATE.starsContainer.addEventListener("mouseover",function(){0==PRIVATE.articleAlreadyRated&&(icon.style.backgroundImage="")})),0<ratingValueInt&&0==PRIVATE.articleAlreadyRated?PRIVATE.manageClassActive(ratingValueInt):PRIVATE.manageClassActive(parseInt(PRIVATE.evaluation))})},PRIVATE.manageClassActive=function(number){2==PRIVATE.starsContainer.classList.length||PRIVATE.starsContainer.classList.remove(PRIVATE.starsContainer.classList[2]),PRIVATE.starsContainer.classList.add("active-"+number)},PRIVATE.getValueRating=function(){PRIVATE.starsContainer.addEventListener("click",function(el){0==PRIVATE.articleAlreadyRated&&(PRIVATE.starSelected=el.target.classList,PRIVATE.evaluation=el.target.getAttribute("data-value"),PRIVATE.postValueRating())})},PRIVATE.postValueRating=function(){var url="https://api-cloud.terra.com.br/interactives/rating/"+PRIVATE.articleId,formData=new FormData;formData.append("value",parseInt(PRIVATE.evaluation)),fetch(url,{body:formData,method:"post"}).then(function(response){return 201==response.status&&(PRIVATE.ratingPost={articleId:PRIVATE.articleId,value:parseInt(PRIVATE.evaluation)},pkg.context.user.set("clientRatingValue",PRIVATE.ratingPost),PRIVATE.articleAlreadyRated=!0),PRIVATE.paintStars(),PRIVATE.hasHover(),response.json()})},this.init=function(){PRIVATE.hasHover(),PRIVATE.getMeanRating(),0==PRIVATE.articleAlreadyRated&&PRIVATE.getValueRating()},this},teardown:function(why,__static,__proto,__shared){}})}),zaz.use(function modMetrics(elemHeaderCategories){"use strict";elemHeaderCategories.require(["app.t360.cards"],function(elemArea){var objCards=new elemArea({}),area="related-content-inread",elemsRelatedNews=document.querySelectorAll(".related-news__list .related-news__link"),elemArea=document.querySelector(".related-news .related-news__list");objCards.bindEvents(elemsRelatedNews,elemArea);var item,viewItemList=[],observerRelatedNewsPV;if(elemsRelatedNews&&0<elemsRelatedNews.length)for(var i=0;i<elemsRelatedNews.length;i++)(item=objCards.registerMetricCard(elemsRelatedNews[i],"addImpression",area))&&""!=item.item_id&&viewItemList.push(item);new IntersectionObserver(function callbackRelatedNews(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(observer.unobserve(entry.target),window.tga.sendGA4("view_item_list",{item_list_id:area,item_list_name:area,items:viewItemList}))})},{rootMargin:"0px",threshold:[0,.01]}).observe(elemArea)});var elemHeaderCategories=document.querySelector(".article__header__datetime__comments a");elemHeaderCategories&&elemHeaderCategories.addEventListener("click",function(){window.tga.send("send","event","article","header","comments")});var elemHeaderCategories=document.querySelector(".metrics-menu-aberto");elemHeaderCategories&&window.tga.event("menu-aberto","click",elemHeaderCategories.querySelectorAll("a"))}),zaz.use(function articleUserArea(pkg){"use strict";pkg.require(["modFactory"],function(modFactory){modFactory.create({name:"userArea",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/pages/terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"Carregamento do feed para a user area no fim do artigo",tests:"http://s1.trrsf.com/fe/zaz-ui-t360-content/tests/index.htm?zaz[env]=tests",dependencies:["mod.regMetrics","app.t360.cards","ui.t360.home.style"],setup:function(data){var PRIVATE={},MODULE={},CONTEXT={timelineApps:[]};return PRIVATE.elemHomeTables=document.querySelector(".app-t360-user-table"),PRIVATE.appCards=new data.dependencies.app.t360.cards({}),PRIVATE.getTgmKey=function(){PRIVATE.tgmKey=pkg.context.page.get("tgmkey")||window.tgmKey||"br.homepage.home";var adsWallObj=null;try{adsWallObj=JSON.parse(localStorage.getItem("adsWallStatus"))}catch(e){}"NOT"===window.terra_info_type&&adsWallObj&&adsWallObj.reduceAds?PRIVATE.tgmKey="br.none.none":"object"==typeof PRIVATE.tgmKey&&PRIVATE.tgmKey.home&&(PRIVATE.tgmKey=PRIVATE.tgmKey.home)},PRIVATE.getContext=function(){var queryStrings=pkg.context.page.get("query");queryStrings&&queryStrings.croupier&&(CONTEXT.croupier=queryStrings.croupier),queryStrings&&queryStrings.renderer&&(CONTEXT.renderer=queryStrings.renderer),queryStrings&&queryStrings.taboola&&(CONTEXT.taboola=queryStrings.taboola),CONTEXT.channelId=window.trr.contextData.coverChannelId,CONTEXT.pageSize=pkg.context.page.get("pageSize")||"80",CONTEXT.timelineSize=pkg.context.page.get("timelineSize")||"240",CONTEXT.channelPath="Brasil",CONTEXT.lomas=pkg.context.page.get("lomas")||"br.*.*",CONTEXT.dflt=pkg.context.page.get("dflt")||"0",CONTEXT.feedUuid=pkg.context.page.get("uuid")||"5b871271-c0b2-48b0-9097-9f6485973132",CONTEXT.nativeAd=pkg.context.page.get("nativeAd")||"0",CONTEXT.musaIdTeam=pkg.context.page.get("musaIdTeam")||"",CONTEXT.channel="home",CONTEXT.cardTypes="app.t360.userTable",CONTEXT.country="br",CONTEXT.lang="pt",CONTEXT.locale="pt-BR",CONTEXT.countryLive="br",CONTEXT.prioritized=pkg.context.page.get("prioritized"),CONTEXT.hasPagination=pkg.context.page.get("hasPagination")||"false",CONTEXT.colorPage=pkg.context.page.get("colorPage")||"",CONTEXT.truvid=pkg.context.page.get("truvid")||""},PRIVATE.setCroupierURL=function(){var croupierURL=location.protocol+"//"+location.hostname;location.port&&(croupierURL+=":"+location.port),croupierURL+="?html=1&ch="+CONTEXT.channelId,croupierURL+="&p=1",croupierURL+="&psz="+CONTEXT.pageSize,croupierURL+="&cb=timeline_cb",croupierURL+="&sz="+CONTEXT.timelineSize,croupierURL+="&channel_path="+CONTEXT.channelPath,croupierURL+="&lomas="+CONTEXT.lomas,croupierURL+="&dflt="+CONTEXT.dflt,croupierURL+="&f=1",croupierURL+="&card_types="+CONTEXT.cardTypes,croupierURL+="&country="+CONTEXT.country,croupierURL+="&position_web=all",croupierURL+="&terra360=1","false"===CONTEXT.prioritized&&(croupierURL+="&prioritized="+CONTEXT.prioritized),croupierURL+="&context=country="+CONTEXT.country,croupierURL+=",lang="+CONTEXT.lang,croupierURL+=",locale="+CONTEXT.locale,croupierURL+=",channel="+CONTEXT.channel,croupierURL+=",idItemMenu="+CONTEXT.channel,croupierURL+=",countryLive="+CONTEXT.countryLive,croupierURL+=",device="+pkg.context.platform.get("type"),croupierURL+=",channelID="+CONTEXT.channelId,croupierURL+=",deliverFormat=json",croupierURL+=",channelPath="+CONTEXT.channelPath,croupierURL+=",tgmKey="+PRIVATE.tgmKey,croupierURL+=",isLatestPage=false",croupierURL+=",editorialTable=editorial-1",croupierURL+=",playerHighlight=low",croupierURL+=",tableSequence=1",croupierURL+=",adRepetitionTableCount=1",croupierURL+=",nativeAd="+CONTEXT.nativeAd,croupierURL+=",isHome=false",croupierURL+=",hasLive=0",croupierURL+=",musaIdTeam="+CONTEXT.musaIdTeam,croupierURL+=",color_page="+CONTEXT.colorPage,croupierURL+=",truvid="+CONTEXT.truvid,croupierURL+=",read_autoplay=",croupierURL+=",taboola="+CONTEXT.taboola,CONTEXT.croupier&&(croupierURL+="&croupier="+CONTEXT.croupier),CONTEXT.renderer&&(croupierURL+="&renderer="+CONTEXT.renderer),PRIVATE.croupierURL=croupierURL},PRIVATE.fetchFeed=function(){return fetch(PRIVATE.croupierURL,{method:"GET",headers:{"Content-Type":"application/json","X-XACT-Function":"timeline","X-XAct-Original-UUID":CONTEXT.feedUuid}})},PRIVATE.createTableFragment=function(tableHTML){var elemTemp=document.createElement("div"),fragment=document.createDocumentFragment();elemTemp.innerHTML=tableHTML.trim();for(var i=0;i<elemTemp.childNodes.length;i++)fragment.appendChild(elemTemp.childNodes[i]);return fragment},PRIVATE.insertTables=function(){var elem,elemTableNews,loadAds=!1!==pkg.context.page.get("loadAds"),elem;return 0<PRIVATE.tablesBuffer.length&&(PRIVATE.tableLoadingComplete=!1,elem=PRIVATE.tablesBuffer.shift(),(elemTableNews=elem.firstChild)&&(loadAds||((elem=elemTableNews.querySelector(".card-ad"))&&"mob"==pkg.context.platform.get("type")?elem.parentNode.removeChild(elem):elem&&(elem.innerHTML='<iframe src="https://www.terra.com.br/globalSTATIC/fe/zaz-calhau-news/_templates/300x250.html" width="300" height="250" style="margin: 5px"></iframe><div class="card-ad__title">Mais lidas</div>')),PRIVATE.elemHomeTables.replaceWith(elemTableNews),PRIVATE.setTableEvents([elemTableNews]),pkg.require(["app.t360.userTable"],function(UserTable){var objApp,tgmkeyGroup;UserTable&&(objApp=new UserTable({data:{},container:elemTableNews}),!loadAds||(tgmkeyGroup=pkg.context.page.get("tgmkey"))&&tgmkeyGroup.content&&pkg.require(["mod.manager"],function(AdManager){var objAdmanager;(new AdManager).stickAd({placeholder:elemTableNews.querySelector(".card-ad__content"),area:elemTableNews.querySelector(".card-ad").htmlDataset("adArea"),tgmkey:tgmkeyGroup.content})}))}))),PRIVATE.tablesBuffer.length},PRIVATE.setTableEvents=function(tables){for(var i=0,tableArea=0,tableSetViewable=!1,tablePosition,tableAreaAd,typeAd,tableType=0,i=0,observerTableMetrics,tableType,tablePosition,tableAreaAd,typeAd,tableArea,tableSetViewable;i<tables.length;i++){tables[i]&&(tableArea=tables[i].htmlDataset("area"),tables[i].htmlDataset("setViewable")||(tableType=tables[i].htmlDataset("type"),tablePosition=parseInt(tables[i].htmlDataset("position")),tableAreaAd=parseInt(tables[i].htmlDataset("areaAd")),typeAd=tables[i].htmlDataset("typeAd"),tables[i].htmlDataset("setViewable",!0),tablePosition&&(PRIVATE.tablePosition=tablePosition,PRIVATE.tableAdSequence=tablePosition),"STICK"!=typeAd&&-1<tableAreaAd&&(PRIVATE.tableAreaAd=tableAreaAd),"AD"!==tableType&&tableArea&&new IntersectionObserver(function callbackUserAreaMetrics(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(PRIVATE.tableRegisterMetrics(entry.target),observer.disconnect())})},{rootMargin:"0px 0px -50% 0px",threshold:.01}).observe(tables[i])))}},PRIVATE.tableRegisterMetrics=function(table){if(!table||table.htmlDataset("regMetrics"))return!1;var listCards=PRIVATE.getCardList(table);"NEWS"===table.htmlDataset("type")||"PARTIAL"===table.htmlDataset("type")?pkg.context.page.trigger("register-metrics",{sender:"app.infinite",type:"card-view",tableType:"NEWS",cards:listCards,area:table.htmlDataset("area"),position:table.htmlDataset("position")}):"TABLE-APP"===table.htmlDataset("type")&&pkg.context.page.trigger("register-metrics",{sender:"app.infinite",type:"card-view",tableType:"TABLE-APP",cards:listCards,area:table.htmlDataset("area"),position:table.htmlDataset("position")}),PRIVATE.appCards.bindEvents(listCards,table),table.htmlDataset("regMetrics",!0)},PRIVATE.getCardList=function(table){var listCards=table.querySelectorAll(".card");return listCards=0==listCards.length?table.querySelectorAll(".card-metric"):listCards},MODULE.init=function(){PRIVATE.getTgmKey(),PRIVATE.getContext(),PRIVATE.setCroupierURL(),PRIVATE.fetchFeed().then(function(response){return!(!response||!response.ok)&&response.json()}).then(function(data){if(!data)return!1;var x,elemTable,elemTemp,nameApp,dataApp;if(PRIVATE.tablesBuffer=[],PRIVATE.includerComponents={},data&&data.tables&&data.timelineApps){for(x in data.tables)data.tables.hasOwnProperty(x)&&data.tables[x]&&data.tables[x].html&&-1!=data.tables[x].html.indexOf("app-t360-user-table")&&((elemTemp=(elemTable=PRIVATE.createTableFragment(data.tables[x].html)).querySelector(".table-news"))&&(nameApp=elemTemp.htmlDataset("appName"))&&(PRIVATE.includerComponents[nameApp]=!0),PRIVATE.tablesBuffer.push(elemTable));for(x in"mob"!==pkg.context.platform.get("type")&&Object.keys(PRIVATE.includerComponents)&&pkg.includer.load(Object.keys(PRIVATE.includerComponents)),data.timelineApps)if(data.timelineApps.hasOwnProperty(x)){dataApp=data.timelineApps[x],CONTEXT.timelineApps[x]=dataApp;for(var i=0;i<dataApp.items.length;i++)"A"==dataApp.items[i].type&&(CONTEXT.timelineApps[dataApp.items[i].id]=dataApp.items[i])}}PRIVATE.insertTables()})},MODULE},teardown:function(data){}})})}),zaz.use(function carouselList(pkg){"use strict";pkg.factoryManager.get("mod").create({name:"carouselList",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/pages/terra/zaz-ui-portal-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-portal-content",description:"Controls the Footer Home",tests:"http://s1.trrsf.com/fe/zaz-ui-portal-content/tests/index.htm?zaz[env]=tests",dependencies:[],setup:function(data){var PRIVATE={},MODULE={};return PRIVATE.carouselCommonWrapper=document.querySelector(".t360-carousel"),PRIVATE.teamsContainer=document.getElementById("carousel-list"),PRIVATE.teams=PRIVATE.teamsContainer?PRIVATE.teamsContainer.children:void 0,PRIVATE.activeCarousel=null,PRIVATE.activateCarousel=function(){pkg.require("mod.t360.carouselRanges",function(T360CarouselRanges){PRIVATE.activeCarousel=new T360CarouselRanges({autoCountItems:!0,countItemsSelector:".t360-carousel-container",containerCarousel:".t360-carousel-outer",itemsCarousel:".t360-carousel-item",dividerScrollCarousel:2,previousButtonCarousel:".t360-carousel-arrow-prev",nextButtonCarousel:".t360-carousel-arrow-next",automaticMarginResize:!0,minimumMarginInPixels:24,marginProperty:"marginRight"}),PRIVATE.teamsContainer.lastElementChild.style.marginRight=0},function(exception){console.error('Exception requiring "mod.t360.carouselRanges": ',exception)})},PRIVATE.addCollapsableTriggerEvent=function(){var triggers,arrow;["close-carousel-list","trigger-carousel-button"].forEach(function(triggerId){var triggerButton=document.getElementById(triggerId);triggerButton&&triggerButton.addEventListener("click",function(){(arrow="trigger-carousel-button"==triggerId?triggerButton.querySelector("span"):arrow).classList.toggle("icon-rotate-270"),arrow.classList.toggle("icon-rotate-90");var carouselListWrapper=document.querySelector(".carousel-list-wrapper");carouselListWrapper&&carouselListWrapper.classList.toggle("open")})})},PRIVATE.cahngeButtonTextColor=function(){var triggerButton=document.getElementById("trigger-carousel-button"),iconStyle,iconStyle;triggerButton&&(!(iconStyle=triggerButton.querySelector(".bg-color-esportes"))||(iconStyle=getComputedStyle(iconStyle)).backgroundColor&&(triggerButton.style.color=iconStyle.backgroundColor))},MODULE.init=function(data){if(PRIVATE.teams)try{pkg.context.user.get("myTeam",function(userTeam){if(userTeam)for(var i=0;i<PRIVATE.teams.length;i++){var team=PRIVATE.teams[i];if(userTeam.musa_id===team.dataset.id){var clone=team.cloneNode(!0);team.remove(),PRIVATE.teamsContainer.insertAdjacentElement("afterbegin",clone),PRIVATE.teamsContainer.parentElement.scrollLeft=0;break}}var firstRangeChange;"web"===pkg.context.platform.get("type")&&(PRIVATE.activateCarousel(),PRIVATE.teamsContainer.clientWidth<PRIVATE.teamsContainer.scrollWidth?PRIVATE.carouselCommonWrapper.classList.add("show-arrows"):PRIVATE.carouselCommonWrapper.classList.remove("show-arrows"),firstRangeChange=!0,pkg.context.page.on("range",function(range){PRIVATE.teamsContainer.lastElementChild.style.paddingRight="",PRIVATE.activeCarousel.arrow(),PRIVATE.teamsContainer.lastElementChild.style.paddingRight=0,firstRangeChange&&(PRIVATE.teamsContainer.parentElement.scrollLeft=0,firstRangeChange=!1),PRIVATE.teamsContainer.clientWidth<PRIVATE.teamsContainer.scrollWidth?PRIVATE.carouselCommonWrapper.classList.add("show-arrows"):PRIVATE.carouselCommonWrapper.classList.remove("show-arrows")})),PRIVATE.cahngeButtonTextColor(),PRIVATE.addCollapsableTriggerEvent()})}catch(err){console.error(err)}},MODULE},teardown:function(data){}})}),zaz.use(function(pkg){"use strict";var loadSource=!0;/tpn=1/.test(location.search)&&/remove-ads=true/.test(location.search)&&(loadSource=!1),0==pkg.context.page.get("loadAds")&&(loadSource=!1);var placement=document.getElementById("ad-audima"),fetchAudima=function(audimaUrl){fetch(audimaUrl).then(function(response){if(response.ok)return response.text()}).then(function(data){placement.innerHTML="";var frame=document.createElement("iframe");frame.border=0,frame.frameBorder=0,frame.width="mob"===pkg.context.platform.get("type")?"300":"320",frame.height="mob"===pkg.context.platform.get("type")?"250":"50",placement.appendChild(frame),frame.contentWindow.document.open("text/html"),frame.contentWindow.document.write(data),frame.contentWindow.document.close()})},audimaUrl,audimaUrl,observerAudima;loadSource&&placement&&"NOT"==window.terra_info_type&&0==pkg.context.page.mediaService&&(audimaUrl="https://audima.co/dfp_frame_terra.txt","mob"===pkg.context.platform.get("type")?(audimaUrl="https://audima.co/dfp_frame_terra_mobile.txt",new IntersectionObserver(function callbackAudima(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(fetchAudima(audimaUrl),observer.disconnect())})},{rootMargin:"0px 0px 400px 0px",threshold:1}).observe(placement)):setTimeout(function(){fetchAudima(audimaUrl)},1500))}),zaz.use(function btReadMore(pkg){"use strict";pkg.require(["modFactory"],function(modFactory){modFactory.create({name:"btReadMore",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/pages/terra/zaz-ui-portal-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-portal-content",description:"Controls the Footer Home",tests:"http://s1.trrsf.com/fe/zaz-ui-portal-content/tests/index.htm?zaz[env]=tests",dependencies:[],setup:function(data){var PRIVATE={},MODULE={};return PRIVATE.showButton=function(container,closeFn){var btnElem=document.createElement("button");btnElem.className="btn_read_more",btnElem.id="link0",btnElem.innerText="Leia mais",btnElem.addEventListener("click",function(){btnElem.remove(),window.tga.send("send","event","signo","click","veja mais"),closeFn(),pkg.context.user.set("readMoreSignArticle",!0)}),container.after(btnElem)},MODULE.init=function(data){PRIVATE.showButton(data.container,data.closeFn)},MODULE},teardown:function(data){}})})}),zaz.use(function btReadMore(pkg){"use strict";pkg.require(["modFactory"],function(modFactory){modFactory.create({name:"bottomBlur",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/pages/terra/zaz-ui-portal-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-portal-content",description:"Controls the Footer Home",tests:"http://s1.trrsf.com/fe/zaz-ui-portal-content/tests/index.htm?zaz[env]=tests",dependencies:[],setup:function(data){var PRIVATE={},MODULE={};return PRIVATE.hideContentAfterTarget=function(target){for(var childrens=target.parentElement.children,isNextSibling=!1,i=0;i<childrens.length;i++){var children=childrens[i];isNextSibling&&children.classList.add("hidden-content"),children===target&&(isNextSibling=!0)}},PRIVATE.hideLastArticles=function(targetParagraph){var targetArticle,targetParagraph,targetParagraph;2<targetParagraph.length&&targetParagraph[2]&&(2<(targetParagraph=(targetArticle=targetParagraph[2]).querySelectorAll("p, .text")).length&&targetParagraph[1]&&(targetParagraph=targetParagraph[1],PRIVATE.hideContentAfterTarget(targetParagraph),PRIVATE.hideContentAfterTarget(targetArticle),targetParagraph.classList.add("bottom-blur")))},PRIVATE.bindOpenHiddenContent=function(){var openHiddenContent;document.querySelectorAll(".open-hidden-content").forEach(function(element){element.addEventListener("click",function(){var btnReadMore;document.querySelector(".btn_read_more").click()})})},MODULE.init=function(initData){PRIVATE.hideLastArticles(initData.articles),PRIVATE.bindOpenHiddenContent()},MODULE.showContent=function(){var classListToRemove;["bottom-blur","hidden-content"].forEach(function(c){document.querySelectorAll("."+c).forEach(function(element){element.classList.remove(c)})})},MODULE},teardown:function(data){}})})}),zaz.use(function(pkg){"use strict";var console=pkg.console,dictFactory;pkg.factoryManager.get("dict").create({name:"newsletter",version:"1.0.0",state:"ok",extends:[],langs:{global:{},pt:{"br_game-on":"Receba conteúdo gratuito sobre games em seu email. Assine agora nossa newsletter!",br_economia:"Quer ajuda para colocar as contas em dia? Assine agora a newsletter e receba conteúdo gratuito e exclusivo no seu e-mail!",br_degusta:"Quer montar um menu delicioso e fácil para cozinhar em casa? Assine agora a newsletter e receba conteúdo gratuito e exclusivo no seu e-mail!",br_byte:"Assine a Dizem Estudos, newsletter de ciência do Terra Byte, e receba gratuitamente conteúdo exclusivo no seu e-mail.",br_horoscopo:"Insira seu e-mail para continuar lendo sua previsão de graça!",br_nos:"Assine a newsletter <b>Entre NÓS</b> e receba conteúdo gratuito de diversidade. Vem se informar e se emocionar com a gente!",br_peneira_politica:"Fique bem informado sobre o cenário eleitoral na “Peneira Política”. Assine a newsletter e receba conteúdo no seu e-mail!"},en:{},es:{}}})}),zaz.use(function appNewsletter(pkg){"use strict";var console=pkg.console,appFactory,STATIC_PUBLIC=null,STATIC_PRIVATE={};pkg.factoryManager.get("app").create({name:"newsletter",version:"1.0.0",state:"ok",docs:"http://github.tpn.terra.com/pages/terra/zaz-ui-t360-content",source:"http://github.tpn.terra.com/Terra/zaz-ui-t360-content",description:"App Newsletter",tests:"http://s1.trrsf.com/fe/zaz-ui-t360-content/tests/index.htm?zaz[env]=tests",dependencies:[],dictionaries:["newsletter"],templates:{newsletter:'<div class="article-newsletter">   <div class="article-newsletter-content">      <div class="article-newsletter-content__text">%{{dictText}}</div>      <div class="article-newsletter-content__form">         <div class="article-newsletter-content__form--input">            <input type="email" id="email" name="email" placeholder="Digite seu e-mail" required>            <div class="article-newsletter-content__form--input__button">               <span class="icon-solid icon-16 icon-chevron-right"></span>            </div>         </div>         <div class="article-newsletter-content__form--warning"></div>      </div>      <div class="article-newsletter-content__loading">         <span class="icon-solid icon-16 icon-spinner"></span>      </div>      <div class="article-newsletter-content__details">Ao se cadastrar o usuário está de acordo com as <a href="https://www.terra.com.br/avisolegal/privacidade.html" target="_blank">Políticas de Privacidade</a></div>   </div> </div>',"newsletter-success":'<div class="article-newsletter__success">   <div class="article-newsletter__success--title">      <div class="article-newsletter__success--icon"><span class="icon-solid icon-16 icon-check"></span></div>      <span class="article-newsletter__success--title-span">Email cadastrado com sucesso!</span>   </div>   <span class="article-newsletter__success--span">Obrigado por se cadastrar na newsletter do Terra.</span>   <span class="article-newsletter__success--span">Não esqueça de checar sua caixa de spam!</span></div>',"newsletter-policy":'<div class="article-newsletter__policy" tabindex="0">   <span class="article-newsletter__policy--span">Informamos que Terra Networks Brasil S.A., no exercício de suas atividades, realiza o tratamento dos dados pessoais conforme as diretrizes da legislação aplicável – em especial, a LGPD (Lei Geral de Proteção de Dados Pessoais).</span>   <span class="article-newsletter__policy--span">Dessa forma, os dados pessoais disponibilizados por Você serão utilizados com a finalidade de envio de newsletters por e-mail.</span>   <span class="article-newsletter__policy--span">Caso Você não deseje mais receber newsletters, basta se descadastrar no próprio e-mail.      Para mais informações de como tratamos os seus dados pessoais, consulte nossa <a href="https://www.terra.com.br/avisolegal/privacidade.html" target="_blank">Políticas de Privacidade</a>.</span>   <div class="article-newsletter__policy--button">       <span>Ok</span>   </div>   <div class="article-newsletter__policy--loading">      <span class="icon-solid icon-16 icon-spinner"></span>   </div>     </div>'},expects:{},setup:function(STATIC_PUBLIC,PUBLIC,__shared){},init:function(data,__shared){var PUBLIC=this,PRIVATE={};return PRIVATE.newsletterContainer=data.container,PRIVATE.isNewsletterEnabledChannel=function(channelPath){var newsletterEnabledChannels;return[{channelPath:"Brasil.game-on",segment:"br_game-on"},{channelPath:"Brasil.economia",segment:"br_economia"},{channelPath:"Brasil.vida-e-estilo.degusta",segment:"br_degusta"},{channelPath:"Brasil.vida-e-estilo.culinaria",segment:"br_degusta"},{channelPath:"Brasil.byte",segment:"br_byte"},{channelPath:"Brasil.vida-e-estilo.horoscopo",segment:"br_horoscopo"},{channelPath:"Brasil.nos",segment:"br_nos"},{channelPath:"Brasil.noticias.brasil.politica",segment:"br_peneira_politica"},{channelPath:"Brasil.noticias.eleicoes",segment:"br_peneira_politica"}].find(function(enabledChannel){return-1<channelPath.indexOf(enabledChannel.channelPath)})},PRIVATE.checkPageSegmentAlreadyRegistered=function(userSegments,pageSegment){var userSegmentsKeys,segmentIndex;return-1<Object.keys(userSegments).findIndex(function(userSegmentKey){return userSegmentKey===pageSegment&&!0===userSegments[userSegmentKey]})},PRIVATE.validateEmail=function(email){var regexEmail;return/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/.test(email)},PRIVATE.newsletterSuccess=function(){PRIVATE.newsletter.removeChild(PRIVATE.policy),PRIVATE.elemNewsletterSuccess=PUBLIC.templates.render("newsletter-success"),PRIVATE.newsletter.appendChild(PRIVATE.elemNewsletterSuccess)},PRIVATE.callStalkerSuccess=function(email,subscriberId){var subscriberId=subscriberId.toString();PRIVATE.userSegments[PRIVATE.pageSegment]=!0,pkg.context.user.set("newsletterEmail",email),pkg.context.user.set("newsletterSubscriberId",[subscriberId]),pkg.context.user.set("newsletterSegments",PRIVATE.userSegments),window.tga.send("send","event","newsletter","subscribe",PRIVATE.pageSegment)},PRIVATE.callApi=function(email){fetch("https://api-cloud.terra.com.br/salesforce-newsletter/register?segment="+PRIVATE.pageSegment,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"email="+email}).then(function(response){return response.ok?response.json():(PRIVATE.newsletter.parentNode.removeChild(PRIVATE.newsletter),400==response.status?window.tga.send("send","event","newsletter","error","Email já cadastrado"):500==response.status&&window.tga.send("send","event","newsletter","error","Erro 500"),void pkg.require(["mod.bottomBlur"],function(BottomBlur){BottomBlur.showContent()}))}).then(function(data){data&&(PRIVATE.newsletterSuccess(),PRIVATE.callStalkerSuccess(email,data.subscriberId))}).catch(console.log)},PRIVATE.callPolicy=function(email){PRIVATE.newsletter.removeChild(PRIVATE.newsletterContent),PRIVATE.elemNewsletterPolicy=PUBLIC.templates.render("newsletter-policy"),PRIVATE.newsletter.appendChild(PRIVATE.elemNewsletterPolicy),PRIVATE.policy=PRIVATE.newsletter.querySelector(".article-newsletter__policy"),PRIVATE.policyButton=document.querySelector(".article-newsletter__policy--button"),PRIVATE.policyLoading=document.querySelector(".article-newsletter__policy--loading"),PRIVATE.policyButton.addEventListener("click",function(){PRIVATE.submitNewsletterPolicy(email)}),PRIVATE.policy.addEventListener("keyup",function(event){13===event.keyCode&&PRIVATE.submitNewsletterPolicy(email)}),PRIVATE.policy.focus()},PRIVATE.submitNewsletterPolicy=function(email){PRIVATE.policyButton.style.display="none",PRIVATE.policyLoading.style.display="flex",PRIVATE.callApi(email)},PRIVATE.loadNewsletter=function(){PRIVATE.newsletterForm=PRIVATE.elemNewsletter.querySelector(".article-newsletter-content__form--input"),PRIVATE.newsletterButton=PRIVATE.elemNewsletter.querySelector(".article-newsletter-content__form--input__button"),PRIVATE.newsletterWarning=PRIVATE.elemNewsletter.querySelector(".article-newsletter-content__form--warning"),PRIVATE.newsletterLoading=PRIVATE.elemNewsletter.querySelector(".article-newsletter-content__loading"),PRIVATE.newsletterContent=PRIVATE.elemNewsletter.querySelector(".article-newsletter-content"),PRIVATE.newsletter=PRIVATE.elemNewsletter.querySelector(".article-newsletter"),PRIVATE.newsletterContainer.after(PRIVATE.elemNewsletter.firstElementChild),PRIVATE.newsletterButton.addEventListener("click",PRIVATE.submitNewsletterForm),PRIVATE.newsletterForm.addEventListener("keyup",function(event){13===event.keyCode&&PRIVATE.submitNewsletterForm()})},PRIVATE.submitNewsletterForm=function(){var email=document.querySelector("#email");PRIVATE.newsletterForm.style.display="none",PRIVATE.newsletterLoading.style.display="flex",PRIVATE.validateEmail(email.value)?PRIVATE.callPolicy(email.value):(PRIVATE.newsletterForm.style.display="flex",PRIVATE.newsletterLoading.style.display="none",email.focus(),""==email.value?PRIVATE.newsletterWarning.innerHTML="Você precisa informar um email.":PRIVATE.newsletterWarning.innerHTML="Verifique se o seu email está correto.")},PRIVATE.renderNewsletter=function(){PRIVATE.elemNewsletter=PUBLIC.templates.render("newsletter",{dictText:PRIVATE.pageSegment}),PRIVATE.loadNewsletter()},PUBLIC.init=function(){var enabledChannel=PRIVATE.isNewsletterEnabledChannel(pkg.context.page.get("channelPath"));enabledChannel&&pkg.context.user.get("newsletterSegments",function(userSegments){userSegments&&PRIVATE.checkPageSegmentAlreadyRegistered(userSegments,enabledChannel.segment)||(PRIVATE.userSegments=userSegments||{},PRIVATE.pageSegment=enabledChannel.segment,PRIVATE.renderNewsletter())})},PUBLIC},teardown:function(why,__static,__proto,__shared){}})}),window.idleCallback=window.requestIdleCallback||function(cb){"use strict";var start=Date.now();return setTimeout(function(){cb({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-start))}})},1)},zaz.use(function uiContentHigPriority(pkg){"use strict";var console=pkg.console;pkg.require("app.t360.navbar",function(AppNavbar){var app=new AppNavbar},function(exception){console.error('Exception requirering "app.t360.navbar": ',exception)}),pkg.require("mod.header",function(Header){Header.init()},function(exception){console.error('Exception requirering "mod.header": ',exception)}),pkg.require("mod.carouselList",function(carouselList){carouselList.init()},function(exception){console.error('Exception requirering "mod.carouselList": ',exception)}),pkg.require(["mod.userNavigation"],function(userNavigation){userNavigation.setRead()}),window.tga.send("send","pageview"),pkg.require(["mod.prefetchURL"],function(prefetchPublic){var nodeListsArrayPrerender=[],nodeListsArrayPrefetch=[];nodeListsArrayPrefetch.push(prefetchPublic.getDeepNestedElements(".t360-related-content--table.table-range-grid",prefetchPublic.cardLinksQuery)),nodeListsArrayPrerender.push(document.querySelectorAll("div.related-news__list > a.related-news__item")),prefetchPublic.setElementsToObserve(nodeListsArrayPrerender,null,!0),prefetchPublic.setElementsToObserve(nodeListsArrayPrefetch)}),"signo"==pkg.context.page.get("templateLayout")&&pkg.require(["mod.bottomBlur"],function(BottomBlur){BottomBlur.init({articles:document.querySelectorAll(".horoscope--content__embed")});var bottomBlurContainer=document.querySelector(".bottom-blur");pkg.require("mod.btReadMore",function(BtReadMore){BtReadMore.init({container:bottomBlurContainer,closeFn:BottomBlur.showContent})},function(exception){console.error('Exception requirering "mod.btReadMore": ',exception)})}),pkg.require("app.t360.vivoSpace",function(VivoSpace){var vivoSpaceContainer=document.querySelector(".t360-vivo-space"),app;vivoSpaceContainer&&(app=new VivoSpace({container:vivoSpaceContainer}))},function(exception){console.error('Exception requirering "app.t360.vivoSpace": ',exception)})}),zaz.use(function uiContentHoroscope(pkg){"use strict";var console=pkg.console,triggers,arrow,signColor,navbarAnchorList,createContentAnchorObserver,rootMargin,selectNavbarMenuItem,scrollToDestiny,firstLoad,tarotLinkContainerAnchor,navbarAnchor,navbarExtension,observerWidgetAnchor,createContentAnchorObserver,rootMargin,tarotLinkContainerAnchor,anchorObserverLargeContent,tarotLinkContainerAnchor,tarotLinkContainerAnchor,tarotLinkContainer,widgetCheckout,tarotLinkContainerAnchor,tarotLinkContainer;pkg.context.page.get("channelPath").split(".").includes("horoscopo")&&"signo"!=pkg.context.page.get("templateLayout")&&(pkg.require("app.t360.horoscopeTable",function(T360HoroscopeTable){var horoscopeTable=new T360HoroscopeTable({container:document.querySelector(".zaz-app-t360-horoscope-table")})},function(exception){console.error('Exception requirering "app.t360.horoscopeTable": ',exception)}),["close-carousel-list","trigger-carousel-button"].forEach(function(triggerId){var triggerButton=document.getElementById(triggerId);triggerButton&&triggerButton.addEventListener("click",function(){(arrow="trigger-carousel-button"==triggerId?triggerButton.querySelector("span"):arrow).classList.toggle("icon-rotate-270"),arrow.classList.toggle("icon-rotate-90");var carouselListWrapper=document.querySelector(".carousel-list-wrapper");carouselListWrapper&&carouselListWrapper.classList.toggle("open")})})),"signo"===pkg.context.page.get("templateLayout")&&(signColor=pkg.context.page.get("signColor"),pkg.require("app.t360.horoscopeTable",function(T360HoroscopeTable){var horoscopeTable=new T360HoroscopeTable({container:document.querySelector(".zaz-app-t360-horoscope-table")})},function(exception){console.error('Exception requirering "app.t360.horoscopeTable": ',exception)}),"mob"!==pkg.context.platform.get("type")&&pkg.require("mod.t360.carouselRanges",function(T360CarouselRanges){var carousel=new T360CarouselRanges({containerCarousel:".navbar__extension--horoscope-anchor",itemsCarousel:".navbar__extension--horoscope-anchor__list--item",dividerScrollCarousel:1,previousButtonCarousel:".navbar__extension--content__arrow-left",nextButtonCarousel:".navbar__extension--content__arrow-right",minimumMarginInPixels:16,marginProperty:"marginRight"});carousel.arrow(),window.addEventListener("resize",function(){carousel.updateStep()})}),createContentAnchorObserver=(navbarAnchorList=document.querySelector(".navbar__extension--horoscope-anchor__list")).querySelectorAll(".navbar__extension--horoscope-anchor__list--item"),rootMargin=document.querySelectorAll(".horoscope--content__anchor--links__text"),selectNavbarMenuItem=function(containerAnchor,offsetCenter){var oldActiveAnchorItems;containerAnchor.querySelectorAll(".active-anchor-item").forEach(function(oldActiveItem){oldActiveItem.classList.add("color-"+signColor),oldActiveItem.classList.remove("color-secondary-"+signColor),oldActiveItem.classList.remove("bg-color-"+signColor),oldActiveItem.classList.remove("active-anchor-item")}),offsetCenter.classList.remove("color-"+signColor),offsetCenter.classList.add("color-secondary-"+signColor),offsetCenter.classList.add("bg-color-"+signColor),offsetCenter.classList.add("active-anchor-item");var containerAnchor=document.querySelector(".navbar__extension--horoscope-anchor"),offsetCenter=offsetCenter.offsetLeft+offsetCenter.offsetWidth/2-containerAnchor.offsetWidth/2;offsetCenter<0?containerAnchor.scrollTo(0,0):containerAnchor.scrollTo(offsetCenter,0)},scrollToDestiny=function(difference,anchorArticle){var destiny;!anchorArticle||(destiny=document.querySelector(".btn_read_more"))&&destiny.click();var destiny=document.querySelector(".anchor_"+difference),difference=0,difference="mob"===pkg.context.platform.get("type")?350:500;window.scrollTo({top:destiny.offsetTop+difference,behavior:"smooth"})},createContentAnchorObserver.forEach(function(navbarAnchorItem){navbarAnchorItem.addEventListener("click",function(anchorArticle){window.tga.send("send","event","horoscope-navbar","click",anchorArticle.target.textContent);var dataAnchorId=anchorArticle.target.getAttribute("class"),anchorArticle=document.getElementById(dataAnchorId);scrollToDestiny(dataAnchorId,anchorArticle)})}),rootMargin.forEach(function(anchorLinks){anchorLinks.addEventListener("click",function(anchorArticle){var dataAnchorId=anchorArticle.target.classList[0],anchorArticle=document.getElementById(dataAnchorId);scrollToDestiny(dataAnchorId,anchorArticle)})}),firstLoad=!0,tarotLinkContainerAnchor=document.querySelector(".horoscope--content__anchor--container"),navbarAnchor=document.querySelector(".navbar__extension--horoscope"),navbarExtension=document.querySelector(".navbar__extension"),new IntersectionObserver(function(entries,observer){entries.forEach(function(entry){0<entry.boundingClientRect.top?(navbarAnchor.classList.remove("show"),navbarExtension.classList.remove("bg-color-secondary-"+signColor)):(navbarAnchor.classList.add("show"),navbarExtension.classList.add("bg-color-secondary-"+signColor),firstLoad&&(window.dispatchEvent(new Event("resize")),firstLoad=!1))})},{rootMargin:"0px",threshold:[0,1]}).observe(tarotLinkContainerAnchor),createContentAnchorObserver=function(options){return new IntersectionObserver(function callbackAnchor(entries,observer){entries.forEach(function(entry){var navbarAnchorItem,navbarAnchorItem;entry.isIntersecting&&(navbarAnchorItem=entry.target.getAttribute("id"),navbarAnchorItem=navbarAnchorList.querySelector('.navbar__extension--horoscope-anchor__list--item[data-anchor-id="'+navbarAnchorItem+'"]'),console.log(options),console.log("##### observer - intersecionou ancora",entry.target),navbarAnchorItem&&(navbarAnchorItem.classList.contains("active-anchor-item")||selectNavbarMenuItem(navbarAnchorList,navbarAnchorItem)))})},options)},rootMargin="-300px 0px","mob"===pkg.context.platform.get("type")&&(rootMargin="-200px 0px"),tarotLinkContainerAnchor=document.querySelectorAll(".observe-anchor"),anchorObserverLargeContent=createContentAnchorObserver({rootMargin:rootMargin,threshold:.1}),tarotLinkContainerAnchor.forEach(function(item){anchorObserverLargeContent.observe(item)}),tarotLinkContainerAnchor=document.querySelectorAll(".article__famous-people--list__item a"),window.tga.event("horoscope-famous-people","click",tarotLinkContainerAnchor),(tarotLinkContainerAnchor=document.getElementById("horoscope_5"))&&((tarotLinkContainer=document.createElement("div")).classList.add("loading-app"),tarotLinkContainer.style.position="relative",tarotLinkContainer.style.height="mob"===pkg.context.platform.get("type")?"252px":"154px",tarotLinkContainer.style.marginTop="24px",tarotLinkContainerAnchor.insertAdjacentElement("beforeend",tarotLinkContainer),pkg.require("app.t360.tarotLink",function(AppTarotLink){var disclaimer=new AppTarotLink({container:tarotLinkContainer,data:{configs:{type:"disclaimer"}}})}).then(function(){tarotLinkContainer.classList.remove("loading-app")})),document.querySelector(".ssales.ssales--widget")&&pkg.require(["app.t360.embedCheckout"],function(Embed){var embed=new Embed({packageCode:"PCTR00062286",affiliationCode:"CVTR00002099"})})),pkg.context.page.get("channelPath").includes("horoscopo")&&(tarotLinkContainerAnchor=document.querySelector(".related-news"))&&((tarotLinkContainer=document.createElement("div")).classList.add("loading-app"),tarotLinkContainer.style.position="relative",tarotLinkContainer.style.height="mob"===pkg.context.platform.get("type")?"252px":"154px",tarotLinkContainer.style.marginTop="24px",tarotLinkContainerAnchor.insertAdjacentElement("beforeend",tarotLinkContainer),pkg.require("app.t360.tarotLink",function(AppTarotLink){var disclaimer=new AppTarotLink({container:tarotLinkContainer,data:{configs:{type:"disclaimer"}}})}).then(function(){tarotLinkContainer.classList.remove("loading-app")}))}),window.idleCallback(function(){"use strict";zaz.use(function uiContentLowPriority(pkg){var console=pkg.console,elemSvaTableContainer=document.querySelector(".article__content"),elemSvaTableContainer,svaBarObserver;elemSvaTableContainer&&elemSvaTableContainer.addEventListener("copy",function(e){var copyLink=document.getSelection().toString().trim(),headerText=document.querySelector(".article__header__headline > h1"),subtitleText=document.querySelector(".article__header__subtitle > h2"),headerText=headerText?headerText.textContent:"",subtitleText=subtitleText?subtitleText.textContent:"";if(navigator.clipboard&&100<copyLink.length||copyLink===headerText||copyLink===subtitleText){e.preventDefault();var url,copyLink=copyLink+"\n\n"+pkg.context.page.get("canonical_url").concat("?utm_source=clipboard");try{navigator.clipboard.writeText(copyLink)}catch(err){console.error(err.name,err.message)}}}),pkg.require("mod.relatedVideos",function(RelatedVideos){RelatedVideos.init()},function(exception){console.error('Exception requirering "mod.relatedVideos": ',exception)}),pkg.require("mod.socialEmbeds",function(SocialEmbeds){SocialEmbeds.init()},function(exception){console.error('Exception requirering "mod.socialEmbeds": ',exception)}),pkg.context.page.get("mediaService")&&!1===pkg.context.page.get("loadAds")||(elemSvaTableContainer=document.getElementById("sva-table-container"))&&new IntersectionObserver(function callbackSvaBar(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(pkg.require("app.t360.svaTable",function(SvaTable){var app=new SvaTable({container:entry.target})},function(exception){console.error('Exception requirering "app.t360.svaTable": ',exception)}),observer.disconnect())})},{rootMargin:"0px 0px 600px 0px",threshold:1}).observe(elemSvaTableContainer),pkg.context.page.get("hasGallery")&&pkg.require(["app.t360.gallery"],function(T360Gallery){var galleries;document.querySelectorAll(".t360-gallery").forEach(function(galleryId){var galleryId=galleryId.htmlDataset("galleryId"),inst;galleryId&&(inst=new T360Gallery({id:galleryId}))})}),pkg.require(["app.signNotification"],function(SignNotification){var obj;new SignNotification({container:document.getElementById("article-sign-notifications-container")}).init()}),pkg.require(["app.rating"],function(Rating){var articleJsonld=document.getElementById("article-jsonld"),ratingContainer=document.querySelector(".article__header__rating"),raintg;ratingContainer&&new Rating({articleJsonld:articleJsonld,container:ratingContainer}).init()}),pkg.require("mod.relatedNews",function(RelatedNews){RelatedNews.init()},function(exception){console.error('Exception requirering "mod.relatedNews": ',exception)}),pkg.require("app.t360.sharebar",function(ShareBar){var elements=document.querySelectorAll(".t360-sharebar"),app;elements&&(app=new ShareBar({sharebars:elements}))},function(exception){console.error('Exception requiring "mod.t360.sharebar": ',exception)});var elemFooter=document.getElementById("app-t360-footer"),footerObserver;elemFooter&&new IntersectionObserver(function callbackFooter(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&(pkg.require("app.t360.footer",function(Footer){var f;elemFooter&&(f=new Footer({container:elemFooter}))},function(exception){console.error('Exception requirering "app.t360.footer": ',exception)}),observer.disconnect())})},{rootMargin:"0px 0px 300px 0px",threshold:1}).observe(elemFooter)})},{timeout:2e3});